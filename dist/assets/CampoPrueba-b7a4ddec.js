import{r as l,o as p,c as u,a as e,t as d,F as m}from"./index-99ec7279.js";const h=e("h2",null,"Cuenta Corriente",-1),f={id:"checkout"},g=e("div",null,null,-1),_={__name:"CampoPrueba",setup(b){const s=l(null);async function c(a,t){if(confirm("Te estamos por dirigir a la pagina de mercadopago.. una vez realizado el pago retornaras automaticamente a nuestro sitio")){const o={items:[{title:t,quantity:1,currency_id:"ARS",unit_price:a}],auto_return:"all",back_urls:{failure:"http://localhost:5173//pago",pending:"http://localhost:5173/pago",success:"http://localhost:5173/pago"},payer:{email:"test@test.com.ar"}};try{const r=await(await fetch("https://api.mercadopago.com/checkout/preferences",{method:"POST",headers:{Authorization:"Bearer TEST-1832942212664586-032214-893fff97eba29660b6e2b634a5d13443-1333094029","Content-Type":"application/json"},body:JSON.stringify(o)})).json();return window.open(r.init_point,"_blank"),s.value=r,r}catch(n){throw console.log("Error creating payment:",n),n}}}const i=async a=>{try{return fetch(`https://api.mercadopago.com/v1/payments/${a}`,{method:"GET",headers:{Authorization:"TEST-1832942212664586-032214-893fff97eba29660b6e2b634a5d13443-1333094029"}}).then(t=>t.json()).then(t=>console.log(t))}catch(t){console.log(t)}};return(a,t)=>(p(),u(m,null,[h,e("div",null,[e("button",{onClick:t[0]||(t[0]=o=>c(100,"Articulo 2 de Prueba"))},"Pagar"),e("div",f,d(s.value),1)]),e("div",null,[e("button",{onClick:t[1]||(t[1]=o=>i("1333094029-bbf69be8-a293-4f3d-93f4-356265d682dc")),class:"btn btn-secondary"}," Comprobar Pago "),g])],64))}};export{_ as default};
