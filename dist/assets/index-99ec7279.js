(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function Fu(n,t){const s=Object.create(null),r=n.split(",");for(let i=0;i<r.length;i++)s[r[i]]=!0;return t?i=>!!s[i.toLowerCase()]:i=>!!s[i]}function Uu(n){if(ce(n)){const t={};for(let s=0;s<n.length;s++){const r=n[s],i=Ye(r)?cE(r):Uu(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Ye(n))return n;if(Me(n))return n}}const iE=/;(?![^(]*\))/g,oE=/:([^]+)/,aE=/\/\*.*?\*\//gs;function cE(n){const t={};return n.replace(aE,"").split(iE).forEach(s=>{if(s){const r=s.split(oE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Bu(n){let t="";if(Ye(n))t=n;else if(ce(n))for(let s=0;s<n.length;s++){const r=Bu(n[s]);r&&(t+=r+" ")}else if(Me(n))for(const s in n)n[s]&&(t+=s+" ");return t.trim()}const lE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uE=Fu(lE);function tm(n){return!!n||n===""}function hE(n,t){if(n.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<n.length;r++)s=sc(n[r],t[r]);return s}function sc(n,t){if(n===t)return!0;let s=md(n),r=md(t);if(s||r)return s&&r?n.getTime()===t.getTime():!1;if(s=Li(n),r=Li(t),s||r)return n===t;if(s=ce(n),r=ce(t),s||r)return s&&r?hE(n,t):!1;if(s=Me(n),r=Me(t),s||r){if(!s||!r)return!1;const i=Object.keys(n).length,o=Object.keys(t).length;if(i!==o)return!1;for(const a in n){const c=n.hasOwnProperty(a),l=t.hasOwnProperty(a);if(c&&!l||!c&&l||!sc(n[a],t[a]))return!1}}return String(n)===String(t)}function fE(n,t){return n.findIndex(s=>sc(s,t))}const hr=n=>Ye(n)?n:n==null?"":ce(n)||Me(n)&&(n.toString===rm||!_e(n.toString))?JSON.stringify(n,nm,2):String(n),nm=(n,t)=>t&&t.__v_isRef?nm(n,t.value):_r(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,i])=>(s[`${r} =>`]=i,s),{})}:ic(t)?{[`Set(${t.size})`]:[...t.values()]}:Me(t)&&!ce(t)&&!im(t)?String(t):t,Be={},vr=[],sn=()=>{},dE=()=>!1,pE=/^on[^a-z]/,rc=n=>pE.test(n),ju=n=>n.startsWith("onUpdate:"),ot=Object.assign,$u=(n,t)=>{const s=n.indexOf(t);s>-1&&n.splice(s,1)},gE=Object.prototype.hasOwnProperty,Oe=(n,t)=>gE.call(n,t),ce=Array.isArray,_r=n=>ao(n)==="[object Map]",ic=n=>ao(n)==="[object Set]",md=n=>ao(n)==="[object Date]",_e=n=>typeof n=="function",Ye=n=>typeof n=="string",Li=n=>typeof n=="symbol",Me=n=>n!==null&&typeof n=="object",sm=n=>Me(n)&&_e(n.then)&&_e(n.catch),rm=Object.prototype.toString,ao=n=>rm.call(n),mE=n=>ao(n).slice(8,-1),im=n=>ao(n)==="[object Object]",Vu=n=>Ye(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,aa=Fu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oc=n=>{const t=Object.create(null);return s=>t[s]||(t[s]=n(s))},yE=/-(\w)/g,wn=oc(n=>n.replace(yE,(t,s)=>s?s.toUpperCase():"")),vE=/\B([A-Z])/g,sr=oc(n=>n.replace(vE,"-$1").toLowerCase()),ac=oc(n=>n.charAt(0).toUpperCase()+n.slice(1)),ll=oc(n=>n?`on${ac(n)}`:""),Mi=(n,t)=>!Object.is(n,t),ca=(n,t)=>{for(let s=0;s<n.length;s++)n[s](t)},Ta=(n,t,s)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:s})},Aa=n=>{const t=parseFloat(n);return isNaN(t)?n:t},_E=n=>{const t=Ye(n)?Number(n):NaN;return isNaN(t)?n:t};let yd;const bE=()=>yd||(yd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Mt;class om{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mt,!t&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Mt;try{return Mt=this,t()}finally{Mt=s}}}on(){Mt=this}off(){Mt=this.parent}stop(t){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function am(n){return new om(n)}function wE(n,t=Mt){t&&t.active&&t.effects.push(n)}function cm(){return Mt}function EE(n){Mt&&Mt.cleanups.push(n)}const Hu=n=>{const t=new Set(n);return t.w=0,t.n=0,t},lm=n=>(n.w&ds)>0,um=n=>(n.n&ds)>0,TE=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=ds},AE=n=>{const{deps:t}=n;if(t.length){let s=0;for(let r=0;r<t.length;r++){const i=t[r];lm(i)&&!um(i)?i.delete(n):t[s++]=i,i.w&=~ds,i.n&=~ds}t.length=s}},Ia=new WeakMap;let fi=0,ds=1;const Bl=30;let tn;const Hs=Symbol(""),jl=Symbol("");class qu{constructor(t,s=null,r){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,wE(this,r)}run(){if(!this.active)return this.fn();let t=tn,s=os;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=tn,tn=this,os=!0,ds=1<<++fi,fi<=Bl?TE(this):vd(this),this.fn()}finally{fi<=Bl&&AE(this),ds=1<<--fi,tn=this.parent,os=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){tn===this?this.deferStop=!0:this.active&&(vd(this),this.onStop&&this.onStop(),this.active=!1)}}function vd(n){const{deps:t}=n;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(n);t.length=0}}let os=!0;const hm=[];function Kr(){hm.push(os),os=!1}function zr(){const n=hm.pop();os=n===void 0?!0:n}function Pt(n,t,s){if(os&&tn){let r=Ia.get(n);r||Ia.set(n,r=new Map);let i=r.get(s);i||r.set(s,i=Hu()),fm(i)}}function fm(n,t){let s=!1;fi<=Bl?um(n)||(n.n|=ds,s=!lm(n)):s=!n.has(tn),s&&(n.add(tn),tn.deps.push(n))}function Mn(n,t,s,r,i,o){const a=Ia.get(n);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(s==="length"&&ce(n)){const l=Number(r);a.forEach((h,f)=>{(f==="length"||f>=l)&&c.push(h)})}else switch(s!==void 0&&c.push(a.get(s)),t){case"add":ce(n)?Vu(s)&&c.push(a.get("length")):(c.push(a.get(Hs)),_r(n)&&c.push(a.get(jl)));break;case"delete":ce(n)||(c.push(a.get(Hs)),_r(n)&&c.push(a.get(jl)));break;case"set":_r(n)&&c.push(a.get(Hs));break}if(c.length===1)c[0]&&$l(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);$l(Hu(l))}}function $l(n,t){const s=ce(n)?n:[...n];for(const r of s)r.computed&&_d(r);for(const r of s)r.computed||_d(r)}function _d(n,t){(n!==tn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function IE(n,t){var s;return(s=Ia.get(n))===null||s===void 0?void 0:s.get(t)}const CE=Fu("__proto__,__v_isRef,__isVue"),dm=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Li)),SE=Ku(),kE=Ku(!1,!0),OE=Ku(!0),bd=DE();function DE(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...s){const r=Ae(this);for(let o=0,a=this.length;o<a;o++)Pt(r,"get",o+"");const i=r[t](...s);return i===-1||i===!1?r[t](...s.map(Ae)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...s){Kr();const r=Ae(this)[t].apply(this,s);return zr(),r}}),n}function NE(n){const t=Ae(this);return Pt(t,"has",n),t.hasOwnProperty(n)}function Ku(n=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(n?t?WE:vm:t?ym:mm).get(r))return r;const a=ce(r);if(!n){if(a&&Oe(bd,i))return Reflect.get(bd,i,o);if(i==="hasOwnProperty")return NE}const c=Reflect.get(r,i,o);return(Li(i)?dm.has(i):CE(i))||(n||Pt(r,"get",i),t)?c:We(c)?a&&Vu(i)?c:c.value:Me(c)?n?_m(c):Wr(c):c}}const xE=pm(),RE=pm(!0);function pm(n=!1){return function(s,r,i,o){let a=s[r];if(Ir(a)&&We(a)&&!We(i))return!1;if(!n&&(!Ca(i)&&!Ir(i)&&(a=Ae(a),i=Ae(i)),!ce(s)&&We(a)&&!We(i)))return a.value=i,!0;const c=ce(s)&&Vu(r)?Number(r)<s.length:Oe(s,r),l=Reflect.set(s,r,i,o);return s===Ae(o)&&(c?Mi(i,a)&&Mn(s,"set",r,i):Mn(s,"add",r,i)),l}}function PE(n,t){const s=Oe(n,t);n[t];const r=Reflect.deleteProperty(n,t);return r&&s&&Mn(n,"delete",t,void 0),r}function LE(n,t){const s=Reflect.has(n,t);return(!Li(t)||!dm.has(t))&&Pt(n,"has",t),s}function ME(n){return Pt(n,"iterate",ce(n)?"length":Hs),Reflect.ownKeys(n)}const gm={get:SE,set:xE,deleteProperty:PE,has:LE,ownKeys:ME},FE={get:OE,set(n,t){return!0},deleteProperty(n,t){return!0}},UE=ot({},gm,{get:kE,set:RE}),zu=n=>n,cc=n=>Reflect.getPrototypeOf(n);function qo(n,t,s=!1,r=!1){n=n.__v_raw;const i=Ae(n),o=Ae(t);s||(t!==o&&Pt(i,"get",t),Pt(i,"get",o));const{has:a}=cc(i),c=r?zu:s?Qu:Fi;if(a.call(i,t))return c(n.get(t));if(a.call(i,o))return c(n.get(o));n!==i&&n.get(t)}function Ko(n,t=!1){const s=this.__v_raw,r=Ae(s),i=Ae(n);return t||(n!==i&&Pt(r,"has",n),Pt(r,"has",i)),n===i?s.has(n):s.has(n)||s.has(i)}function zo(n,t=!1){return n=n.__v_raw,!t&&Pt(Ae(n),"iterate",Hs),Reflect.get(n,"size",n)}function wd(n){n=Ae(n);const t=Ae(this);return cc(t).has.call(t,n)||(t.add(n),Mn(t,"add",n,n)),this}function Ed(n,t){t=Ae(t);const s=Ae(this),{has:r,get:i}=cc(s);let o=r.call(s,n);o||(n=Ae(n),o=r.call(s,n));const a=i.call(s,n);return s.set(n,t),o?Mi(t,a)&&Mn(s,"set",n,t):Mn(s,"add",n,t),this}function Td(n){const t=Ae(this),{has:s,get:r}=cc(t);let i=s.call(t,n);i||(n=Ae(n),i=s.call(t,n)),r&&r.call(t,n);const o=t.delete(n);return i&&Mn(t,"delete",n,void 0),o}function Ad(){const n=Ae(this),t=n.size!==0,s=n.clear();return t&&Mn(n,"clear",void 0,void 0),s}function Wo(n,t){return function(r,i){const o=this,a=o.__v_raw,c=Ae(a),l=t?zu:n?Qu:Fi;return!n&&Pt(c,"iterate",Hs),a.forEach((h,f)=>r.call(i,l(h),l(f),o))}}function Go(n,t,s){return function(...r){const i=this.__v_raw,o=Ae(i),a=_r(o),c=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,h=i[n](...r),f=s?zu:t?Qu:Fi;return!t&&Pt(o,"iterate",l?jl:Hs),{next(){const{value:d,done:g}=h.next();return g?{value:d,done:g}:{value:c?[f(d[0]),f(d[1])]:f(d),done:g}},[Symbol.iterator](){return this}}}}function zn(n){return function(...t){return n==="delete"?!1:this}}function BE(){const n={get(o){return qo(this,o)},get size(){return zo(this)},has:Ko,add:wd,set:Ed,delete:Td,clear:Ad,forEach:Wo(!1,!1)},t={get(o){return qo(this,o,!1,!0)},get size(){return zo(this)},has:Ko,add:wd,set:Ed,delete:Td,clear:Ad,forEach:Wo(!1,!0)},s={get(o){return qo(this,o,!0)},get size(){return zo(this,!0)},has(o){return Ko.call(this,o,!0)},add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear"),forEach:Wo(!0,!1)},r={get(o){return qo(this,o,!0,!0)},get size(){return zo(this,!0)},has(o){return Ko.call(this,o,!0)},add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear"),forEach:Wo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Go(o,!1,!1),s[o]=Go(o,!0,!1),t[o]=Go(o,!1,!0),r[o]=Go(o,!0,!0)}),[n,s,t,r]}const[jE,$E,VE,HE]=BE();function Wu(n,t){const s=t?n?HE:VE:n?$E:jE;return(r,i,o)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(Oe(s,i)&&i in r?s:r,i,o)}const qE={get:Wu(!1,!1)},KE={get:Wu(!1,!0)},zE={get:Wu(!0,!1)},mm=new WeakMap,ym=new WeakMap,vm=new WeakMap,WE=new WeakMap;function GE(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function QE(n){return n.__v_skip||!Object.isExtensible(n)?0:GE(mE(n))}function Wr(n){return Ir(n)?n:Gu(n,!1,gm,qE,mm)}function YE(n){return Gu(n,!1,UE,KE,ym)}function _m(n){return Gu(n,!0,FE,zE,vm)}function Gu(n,t,s,r,i){if(!Me(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=i.get(n);if(o)return o;const a=QE(n);if(a===0)return n;const c=new Proxy(n,a===2?r:s);return i.set(n,c),c}function Pn(n){return Ir(n)?Pn(n.__v_raw):!!(n&&n.__v_isReactive)}function Ir(n){return!!(n&&n.__v_isReadonly)}function Ca(n){return!!(n&&n.__v_isShallow)}function bm(n){return Pn(n)||Ir(n)}function Ae(n){const t=n&&n.__v_raw;return t?Ae(t):n}function Cr(n){return Ta(n,"__v_skip",!0),n}const Fi=n=>Me(n)?Wr(n):n,Qu=n=>Me(n)?_m(n):n;function wm(n){os&&tn&&(n=Ae(n),fm(n.dep||(n.dep=Hu())))}function Em(n,t){n=Ae(n);const s=n.dep;s&&$l(s)}function We(n){return!!(n&&n.__v_isRef===!0)}function Ft(n){return Tm(n,!1)}function XE(n){return Tm(n,!0)}function Tm(n,t){return We(n)?n:new JE(n,t)}class JE{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Ae(t),this._value=s?t:Fi(t)}get value(){return wm(this),this._value}set value(t){const s=this.__v_isShallow||Ca(t)||Ir(t);t=s?t:Ae(t),Mi(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Fi(t),Em(this))}}function ze(n){return We(n)?n.value:n}const ZE={get:(n,t,s)=>ze(Reflect.get(n,t,s)),set:(n,t,s,r)=>{const i=n[t];return We(i)&&!We(s)?(i.value=s,!0):Reflect.set(n,t,s,r)}};function Am(n){return Pn(n)?n:new Proxy(n,ZE)}function e0(n){const t=ce(n)?new Array(n.length):{};for(const s in n)t[s]=Im(n,s);return t}class t0{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return IE(Ae(this._object),this._key)}}function Im(n,t,s){const r=n[t];return We(r)?r:new t0(n,t,s)}var Cm;class n0{constructor(t,s,r,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Cm]=!1,this._dirty=!0,this.effect=new qu(t,()=>{this._dirty||(this._dirty=!0,Em(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Ae(this);return wm(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Cm="__v_isReadonly";function s0(n,t,s=!1){let r,i;const o=_e(n);return o?(r=n,i=sn):(r=n.get,i=n.set),new n0(r,i,o||!i,s)}function as(n,t,s,r){let i;try{i=r?n(...r):n()}catch(o){lc(o,t,s)}return i}function Wt(n,t,s,r){if(_e(n)){const o=as(n,t,s,r);return o&&sm(o)&&o.catch(a=>{lc(a,t,s)}),o}const i=[];for(let o=0;o<n.length;o++)i.push(Wt(n[o],t,s,r));return i}function lc(n,t,s,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,c=s;for(;o;){const h=o.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](n,a,c)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){as(l,null,10,[n,a,c]);return}}r0(n,s,i,r)}function r0(n,t,s,r=!0){console.error(n)}let Ui=!1,Vl=!1;const yt=[];let gn=0;const br=[];let kn=null,Ps=0;const Sm=Promise.resolve();let Yu=null;function Xu(n){const t=Yu||Sm;return n?t.then(this?n.bind(this):n):t}function i0(n){let t=gn+1,s=yt.length;for(;t<s;){const r=t+s>>>1;Bi(yt[r])<n?t=r+1:s=r}return t}function Ju(n){(!yt.length||!yt.includes(n,Ui&&n.allowRecurse?gn+1:gn))&&(n.id==null?yt.push(n):yt.splice(i0(n.id),0,n),km())}function km(){!Ui&&!Vl&&(Vl=!0,Yu=Sm.then(Dm))}function o0(n){const t=yt.indexOf(n);t>gn&&yt.splice(t,1)}function a0(n){ce(n)?br.push(...n):(!kn||!kn.includes(n,n.allowRecurse?Ps+1:Ps))&&br.push(n),km()}function Id(n,t=Ui?gn+1:0){for(;t<yt.length;t++){const s=yt[t];s&&s.pre&&(yt.splice(t,1),t--,s())}}function Om(n){if(br.length){const t=[...new Set(br)];if(br.length=0,kn){kn.push(...t);return}for(kn=t,kn.sort((s,r)=>Bi(s)-Bi(r)),Ps=0;Ps<kn.length;Ps++)kn[Ps]();kn=null,Ps=0}}const Bi=n=>n.id==null?1/0:n.id,c0=(n,t)=>{const s=Bi(n)-Bi(t);if(s===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return s};function Dm(n){Vl=!1,Ui=!0,yt.sort(c0);const t=sn;try{for(gn=0;gn<yt.length;gn++){const s=yt[gn];s&&s.active!==!1&&as(s,null,14)}}finally{gn=0,yt.length=0,Om(),Ui=!1,Yu=null,(yt.length||br.length)&&Dm()}}function l0(n,t,...s){if(n.isUnmounted)return;const r=n.vnode.props||Be;let i=s;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:g}=r[f]||Be;g&&(i=s.map(m=>Ye(m)?m.trim():m)),d&&(i=s.map(Aa))}let c,l=r[c=ll(t)]||r[c=ll(wn(t))];!l&&o&&(l=r[c=ll(sr(t))]),l&&Wt(l,n,6,i);const h=r[c+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,Wt(h,n,6,i)}}function Nm(n,t,s=!1){const r=t.emitsCache,i=r.get(n);if(i!==void 0)return i;const o=n.emits;let a={},c=!1;if(!_e(n)){const l=h=>{const f=Nm(h,t,!0);f&&(c=!0,ot(a,f))};!s&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!o&&!c?(Me(n)&&r.set(n,null),null):(ce(o)?o.forEach(l=>a[l]=null):ot(a,o),Me(n)&&r.set(n,a),a)}function uc(n,t){return!n||!rc(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(n,t[0].toLowerCase()+t.slice(1))||Oe(n,sr(t))||Oe(n,t))}let ht=null,xm=null;function Sa(n){const t=ht;return ht=n,xm=n&&n.type.__scopeId||null,t}function Rm(n,t=ht,s){if(!t||n._n)return n;const r=(...i)=>{r._d&&Md(-1);const o=Sa(t);let a;try{a=n(...i)}finally{Sa(o),r._d&&Md(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function ul(n){const{type:t,vnode:s,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:c,attrs:l,emit:h,render:f,renderCache:d,data:g,setupState:m,ctx:w,inheritAttrs:E}=n;let I,k;const F=Sa(n);try{if(s.shapeFlag&4){const T=i||r;I=pn(f.call(T,T,d,o,m,g,w)),k=l}else{const T=t;I=pn(T.length>1?T(o,{attrs:l,slots:c,emit:h}):T(o,null)),k=t.props?l:u0(l)}}catch(T){Ti.length=0,lc(T,n,1),I=et(Qt)}let M=I;if(k&&E!==!1){const T=Object.keys(k),{shapeFlag:O}=M;T.length&&O&7&&(a&&T.some(ju)&&(k=h0(k,a)),M=ps(M,k))}return s.dirs&&(M=ps(M),M.dirs=M.dirs?M.dirs.concat(s.dirs):s.dirs),s.transition&&(M.transition=s.transition),I=M,Sa(F),I}const u0=n=>{let t;for(const s in n)(s==="class"||s==="style"||rc(s))&&((t||(t={}))[s]=n[s]);return t},h0=(n,t)=>{const s={};for(const r in n)(!ju(r)||!(r.slice(9)in t))&&(s[r]=n[r]);return s};function f0(n,t,s){const{props:r,children:i,component:o}=n,{props:a,children:c,patchFlag:l}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Cd(r,a,h):!!a;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const g=f[d];if(a[g]!==r[g]&&!uc(h,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?Cd(r,a,h):!0:!!a;return!1}function Cd(n,t,s){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==n[o]&&!uc(s,o))return!0}return!1}function d0({vnode:n,parent:t},s){for(;t&&t.subTree===n;)(n=t.vnode).el=s,t=t.parent}const p0=n=>n.__isSuspense;function g0(n,t){t&&t.pendingBranch?ce(n)?t.effects.push(...n):t.effects.push(n):a0(n)}function la(n,t){if(Qe){let s=Qe.provides;const r=Qe.parent&&Qe.parent.provides;r===s&&(s=Qe.provides=Object.create(r)),s[n]=t}}function Gt(n,t,s=!1){const r=Qe||ht;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&n in i)return i[n];if(arguments.length>1)return s&&_e(t)?t.call(r.proxy):t}}function gP(n,t){return Zu(n,null,t)}const Qo={};function _i(n,t,s){return Zu(n,t,s)}function Zu(n,t,{immediate:s,deep:r,flush:i,onTrack:o,onTrigger:a}=Be){const c=cm()===(Qe==null?void 0:Qe.scope)?Qe:null;let l,h=!1,f=!1;if(We(n)?(l=()=>n.value,h=Ca(n)):Pn(n)?(l=()=>n,r=!0):ce(n)?(f=!0,h=n.some(M=>Pn(M)||Ca(M)),l=()=>n.map(M=>{if(We(M))return M.value;if(Pn(M))return Bs(M);if(_e(M))return as(M,c,2)})):_e(n)?t?l=()=>as(n,c,2):l=()=>{if(!(c&&c.isUnmounted))return d&&d(),Wt(n,c,3,[g])}:l=sn,t&&r){const M=l;l=()=>Bs(M())}let d,g=M=>{d=k.onStop=()=>{as(M,c,4)}},m;if(Hi)if(g=sn,t?s&&Wt(t,c,3,[l(),f?[]:void 0,g]):l(),i==="sync"){const M=cT();m=M.__watcherHandles||(M.__watcherHandles=[])}else return sn;let w=f?new Array(n.length).fill(Qo):Qo;const E=()=>{if(k.active)if(t){const M=k.run();(r||h||(f?M.some((T,O)=>Mi(T,w[O])):Mi(M,w)))&&(d&&d(),Wt(t,c,3,[M,w===Qo?void 0:f&&w[0]===Qo?[]:w,g]),w=M)}else k.run()};E.allowRecurse=!!t;let I;i==="sync"?I=E:i==="post"?I=()=>Nt(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),I=()=>Ju(E));const k=new qu(l,I);t?s?E():w=k.run():i==="post"?Nt(k.run.bind(k),c&&c.suspense):k.run();const F=()=>{k.stop(),c&&c.scope&&$u(c.scope.effects,k)};return m&&m.push(F),F}function m0(n,t,s){const r=this.proxy,i=Ye(n)?n.includes(".")?Pm(r,n):()=>r[n]:n.bind(r,r);let o;_e(t)?o=t:(o=t.handler,s=t);const a=Qe;Sr(this);const c=Zu(i,o.bind(r),s);return a?Sr(a):Ks(),c}function Pm(n,t){const s=t.split(".");return()=>{let r=n;for(let i=0;i<s.length&&r;i++)r=r[s[i]];return r}}function Bs(n,t){if(!Me(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),We(n))Bs(n.value,t);else if(ce(n))for(let s=0;s<n.length;s++)Bs(n[s],t);else if(ic(n)||_r(n))n.forEach(s=>{Bs(s,t)});else if(im(n))for(const s in n)Bs(n[s],t);return n}function Lm(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $m(()=>{n.isMounted=!0}),Hm(()=>{n.isUnmounting=!0}),n}const zt=[Function,Array],y0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zt,onEnter:zt,onAfterEnter:zt,onEnterCancelled:zt,onBeforeLeave:zt,onLeave:zt,onAfterLeave:zt,onLeaveCancelled:zt,onBeforeAppear:zt,onAppear:zt,onAfterAppear:zt,onAppearCancelled:zt},setup(n,{slots:t}){const s=oh(),r=Lm();let i;return()=>{const o=t.default&&eh(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const E of o)if(E.type!==Qt){a=E;break}}const c=Ae(n),{mode:l}=c;if(r.isLeaving)return hl(a);const h=Sd(a);if(!h)return hl(a);const f=ji(h,c,r,s);$i(h,f);const d=s.subTree,g=d&&Sd(d);let m=!1;const{getTransitionKey:w}=h.type;if(w){const E=w();i===void 0?i=E:E!==i&&(i=E,m=!0)}if(g&&g.type!==Qt&&(!Ls(h,g)||m)){const E=ji(g,c,r,s);if($i(g,E),l==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,s.update.active!==!1&&s.update()},hl(a);l==="in-out"&&h.type!==Qt&&(E.delayLeave=(I,k,F)=>{const M=Fm(r,g);M[String(g.key)]=g,I._leaveCb=()=>{k(),I._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=F})}return a}}},Mm=y0;function Fm(n,t){const{leavingVNodes:s}=n;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function ji(n,t,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:d,onLeave:g,onAfterLeave:m,onLeaveCancelled:w,onBeforeAppear:E,onAppear:I,onAfterAppear:k,onAppearCancelled:F}=t,M=String(n.key),T=Fm(s,n),O=(x,q)=>{x&&Wt(x,r,9,q)},S=(x,q)=>{const J=q[1];O(x,q),ce(x)?x.every(ae=>ae.length<=1)&&J():x.length<=1&&J()},R={mode:o,persisted:a,beforeEnter(x){let q=c;if(!s.isMounted)if(i)q=E||c;else return;x._leaveCb&&x._leaveCb(!0);const J=T[M];J&&Ls(n,J)&&J.el._leaveCb&&J.el._leaveCb(),O(q,[x])},enter(x){let q=l,J=h,ae=f;if(!s.isMounted)if(i)q=I||l,J=k||h,ae=F||f;else return;let W=!1;const fe=x._enterCb=Se=>{W||(W=!0,Se?O(ae,[x]):O(J,[x]),R.delayedLeave&&R.delayedLeave(),x._enterCb=void 0)};q?S(q,[x,fe]):fe()},leave(x,q){const J=String(n.key);if(x._enterCb&&x._enterCb(!0),s.isUnmounting)return q();O(d,[x]);let ae=!1;const W=x._leaveCb=fe=>{ae||(ae=!0,q(),fe?O(w,[x]):O(m,[x]),x._leaveCb=void 0,T[J]===n&&delete T[J])};T[J]=n,g?S(g,[x,W]):W()},clone(x){return ji(x,t,s,r)}};return R}function hl(n){if(hc(n))return n=ps(n),n.children=null,n}function Sd(n){return hc(n)?n.children?n.children[0]:void 0:n}function $i(n,t){n.shapeFlag&6&&n.component?$i(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function eh(n,t=!1,s){let r=[],i=0;for(let o=0;o<n.length;o++){let a=n[o];const c=s==null?a.key:String(s)+String(a.key!=null?a.key:o);a.type===xt?(a.patchFlag&128&&i++,r=r.concat(eh(a.children,t,c))):(t||a.type!==Qt)&&r.push(c!=null?ps(a,{key:c}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Um(n){return _e(n)?{setup:n,name:n.name}:n}const bi=n=>!!n.type.__asyncLoader,hc=n=>n.type.__isKeepAlive;function v0(n,t){Bm(n,"a",t)}function _0(n,t){Bm(n,"da",t)}function Bm(n,t,s=Qe){const r=n.__wdc||(n.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(fc(t,r,s),s){let i=s.parent;for(;i&&i.parent;)hc(i.parent.vnode)&&b0(r,t,s,i),i=i.parent}}function b0(n,t,s,r){const i=fc(t,n,r,!0);qm(()=>{$u(r[t],i)},s)}function fc(n,t,s=Qe,r=!1){if(s){const i=s[n]||(s[n]=[]),o=t.__weh||(t.__weh=(...a)=>{if(s.isUnmounted)return;Kr(),Sr(s);const c=Wt(t,s,n,a);return Ks(),zr(),c});return r?i.unshift(o):i.push(o),o}}const Hn=n=>(t,s=Qe)=>(!Hi||n==="sp")&&fc(n,(...r)=>t(...r),s),jm=Hn("bm"),$m=Hn("m"),w0=Hn("bu"),Vm=Hn("u"),Hm=Hn("bum"),qm=Hn("um"),E0=Hn("sp"),T0=Hn("rtg"),A0=Hn("rtc");function I0(n,t=Qe){fc("ec",n,t)}function mP(n,t){const s=ht;if(s===null)return n;const r=gc(s)||s.proxy,i=n.dirs||(n.dirs=[]);for(let o=0;o<t.length;o++){let[a,c,l,h=Be]=t[o];a&&(_e(a)&&(a={mounted:a,updated:a}),a.deep&&Bs(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return n}function Os(n,t,s,r){const i=n.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];o&&(c.oldValue=o[a].value);let l=c.dir[r];l&&(Kr(),Wt(l,s,8,[n.el,c,n,t]),zr())}}const Km="components",C0="directives";function S0(n,t){return zm(Km,n,!0,t)||n}const k0=Symbol();function yP(n){return zm(C0,n)}function zm(n,t,s=!0,r=!1){const i=ht||Qe;if(i){const o=i.type;if(n===Km){const c=iT(o,!1);if(c&&(c===t||c===wn(t)||c===ac(wn(t))))return o}const a=kd(i[n]||o[n],t)||kd(i.appContext[n],t);return!a&&r?o:a}}function kd(n,t){return n&&(n[t]||n[wn(t)]||n[ac(wn(t))])}function vP(n,t,s,r){let i;const o=s&&s[r];if(ce(n)||Ye(n)){i=new Array(n.length);for(let a=0,c=n.length;a<c;a++)i[a]=t(n[a],a,void 0,o&&o[a])}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(Me(n))if(n[Symbol.iterator])i=Array.from(n,(a,c)=>t(a,c,void 0,o&&o[c]));else{const a=Object.keys(n);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=t(n[h],h,c,o&&o[c])}}else i=[];return s&&(s[r]=i),i}function _P(n,t,s={},r,i){if(ht.isCE||ht.parent&&bi(ht.parent)&&ht.parent.isCE)return t!=="default"&&(s.name=t),et("slot",s,r&&r());let o=n[t];o&&o._c&&(o._d=!1),Ut();const a=o&&Wm(o(s)),c=rh(xt,{key:s.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&n._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Wm(n){return n.some(t=>Oa(t)?!(t.type===Qt||t.type===xt&&!Wm(t.children)):!0)?n:null}const Hl=n=>n?ry(n)?gc(n)||n.proxy:Hl(n.parent):null,wi=ot(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Hl(n.parent),$root:n=>Hl(n.root),$emit:n=>n.emit,$options:n=>th(n),$forceUpdate:n=>n.f||(n.f=()=>Ju(n.update)),$nextTick:n=>n.n||(n.n=Xu.bind(n.proxy)),$watch:n=>m0.bind(n)}),fl=(n,t)=>n!==Be&&!n.__isScriptSetup&&Oe(n,t),O0={get({_:n},t){const{ctx:s,setupState:r,data:i,props:o,accessCache:a,type:c,appContext:l}=n;let h;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(fl(r,t))return a[t]=1,r[t];if(i!==Be&&Oe(i,t))return a[t]=2,i[t];if((h=n.propsOptions[0])&&Oe(h,t))return a[t]=3,o[t];if(s!==Be&&Oe(s,t))return a[t]=4,s[t];ql&&(a[t]=0)}}const f=wi[t];let d,g;if(f)return t==="$attrs"&&Pt(n,"get",t),f(n);if((d=c.__cssModules)&&(d=d[t]))return d;if(s!==Be&&Oe(s,t))return a[t]=4,s[t];if(g=l.config.globalProperties,Oe(g,t))return g[t]},set({_:n},t,s){const{data:r,setupState:i,ctx:o}=n;return fl(i,t)?(i[t]=s,!0):r!==Be&&Oe(r,t)?(r[t]=s,!0):Oe(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=s,!0)},has({_:{data:n,setupState:t,accessCache:s,ctx:r,appContext:i,propsOptions:o}},a){let c;return!!s[a]||n!==Be&&Oe(n,a)||fl(t,a)||(c=o[0])&&Oe(c,a)||Oe(r,a)||Oe(wi,a)||Oe(i.config.globalProperties,a)},defineProperty(n,t,s){return s.get!=null?n._.accessCache[t]=0:Oe(s,"value")&&this.set(n,t,s.value,null),Reflect.defineProperty(n,t,s)}};let ql=!0;function D0(n){const t=th(n),s=n.proxy,r=n.ctx;ql=!1,t.beforeCreate&&Od(t.beforeCreate,n,"bc");const{data:i,computed:o,methods:a,watch:c,provide:l,inject:h,created:f,beforeMount:d,mounted:g,beforeUpdate:m,updated:w,activated:E,deactivated:I,beforeDestroy:k,beforeUnmount:F,destroyed:M,unmounted:T,render:O,renderTracked:S,renderTriggered:R,errorCaptured:x,serverPrefetch:q,expose:J,inheritAttrs:ae,components:W,directives:fe,filters:Se}=t;if(h&&N0(h,r,null,n.appContext.config.unwrapInjectedRef),a)for(const ve in a){const Ee=a[ve];_e(Ee)&&(r[ve]=Ee.bind(s))}if(i){const ve=i.call(s,s);Me(ve)&&(n.data=Wr(ve))}if(ql=!0,o)for(const ve in o){const Ee=o[ve],He=_e(Ee)?Ee.bind(s,s):_e(Ee.get)?Ee.get.bind(s,s):sn,pt=!_e(Ee)&&_e(Ee.set)?Ee.set.bind(s):sn,lt=Bt({get:He,set:pt});Object.defineProperty(r,ve,{enumerable:!0,configurable:!0,get:()=>lt.value,set:Ve=>lt.value=Ve})}if(c)for(const ve in c)Gm(c[ve],r,s,ve);if(l){const ve=_e(l)?l.call(s):l;Reflect.ownKeys(ve).forEach(Ee=>{la(Ee,ve[Ee])})}f&&Od(f,n,"c");function be(ve,Ee){ce(Ee)?Ee.forEach(He=>ve(He.bind(s))):Ee&&ve(Ee.bind(s))}if(be(jm,d),be($m,g),be(w0,m),be(Vm,w),be(v0,E),be(_0,I),be(I0,x),be(A0,S),be(T0,R),be(Hm,F),be(qm,T),be(E0,q),ce(J))if(J.length){const ve=n.exposed||(n.exposed={});J.forEach(Ee=>{Object.defineProperty(ve,Ee,{get:()=>s[Ee],set:He=>s[Ee]=He})})}else n.exposed||(n.exposed={});O&&n.render===sn&&(n.render=O),ae!=null&&(n.inheritAttrs=ae),W&&(n.components=W),fe&&(n.directives=fe)}function N0(n,t,s=sn,r=!1){ce(n)&&(n=Kl(n));for(const i in n){const o=n[i];let a;Me(o)?"default"in o?a=Gt(o.from||i,o.default,!0):a=Gt(o.from||i):a=Gt(o),We(a)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[i]=a}}function Od(n,t,s){Wt(ce(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,s)}function Gm(n,t,s,r){const i=r.includes(".")?Pm(s,r):()=>s[r];if(Ye(n)){const o=t[n];_e(o)&&_i(i,o)}else if(_e(n))_i(i,n.bind(s));else if(Me(n))if(ce(n))n.forEach(o=>Gm(o,t,s,r));else{const o=_e(n.handler)?n.handler.bind(s):t[n.handler];_e(o)&&_i(i,o,n)}}function th(n){const t=n.type,{mixins:s,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=n.appContext,c=o.get(t);let l;return c?l=c:!i.length&&!s&&!r?l=t:(l={},i.length&&i.forEach(h=>ka(l,h,a,!0)),ka(l,t,a)),Me(t)&&o.set(t,l),l}function ka(n,t,s,r=!1){const{mixins:i,extends:o}=t;o&&ka(n,o,s,!0),i&&i.forEach(a=>ka(n,a,s,!0));for(const a in t)if(!(r&&a==="expose")){const c=x0[a]||s&&s[a];n[a]=c?c(n[a],t[a]):t[a]}return n}const x0={data:Dd,props:xs,emits:xs,methods:xs,computed:xs,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:xs,directives:xs,watch:P0,provide:Dd,inject:R0};function Dd(n,t){return t?n?function(){return ot(_e(n)?n.call(this,this):n,_e(t)?t.call(this,this):t)}:t:n}function R0(n,t){return xs(Kl(n),Kl(t))}function Kl(n){if(ce(n)){const t={};for(let s=0;s<n.length;s++)t[n[s]]=n[s];return t}return n}function Ct(n,t){return n?[...new Set([].concat(n,t))]:t}function xs(n,t){return n?ot(ot(Object.create(null),n),t):t}function P0(n,t){if(!n)return t;if(!t)return n;const s=ot(Object.create(null),n);for(const r in t)s[r]=Ct(n[r],t[r]);return s}function L0(n,t,s,r=!1){const i={},o={};Ta(o,pc,1),n.propsDefaults=Object.create(null),Qm(n,t,i,o);for(const a in n.propsOptions[0])a in i||(i[a]=void 0);s?n.props=r?i:YE(i):n.type.props?n.props=i:n.props=o,n.attrs=o}function M0(n,t,s,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=n,c=Ae(i),[l]=n.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=n.vnode.dynamicProps;for(let d=0;d<f.length;d++){let g=f[d];if(uc(n.emitsOptions,g))continue;const m=t[g];if(l)if(Oe(o,g))m!==o[g]&&(o[g]=m,h=!0);else{const w=wn(g);i[w]=zl(l,c,w,m,n,!1)}else m!==o[g]&&(o[g]=m,h=!0)}}}else{Qm(n,t,i,o)&&(h=!0);let f;for(const d in c)(!t||!Oe(t,d)&&((f=sr(d))===d||!Oe(t,f)))&&(l?s&&(s[d]!==void 0||s[f]!==void 0)&&(i[d]=zl(l,c,d,void 0,n,!0)):delete i[d]);if(o!==c)for(const d in o)(!t||!Oe(t,d))&&(delete o[d],h=!0)}h&&Mn(n,"set","$attrs")}function Qm(n,t,s,r){const[i,o]=n.propsOptions;let a=!1,c;if(t)for(let l in t){if(aa(l))continue;const h=t[l];let f;i&&Oe(i,f=wn(l))?!o||!o.includes(f)?s[f]=h:(c||(c={}))[f]=h:uc(n.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(o){const l=Ae(s),h=c||Be;for(let f=0;f<o.length;f++){const d=o[f];s[d]=zl(i,l,d,h[d],n,!Oe(h,d))}}return a}function zl(n,t,s,r,i,o){const a=n[s];if(a!=null){const c=Oe(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&_e(l)){const{propsDefaults:h}=i;s in h?r=h[s]:(Sr(i),r=h[s]=l.call(null,t),Ks())}else r=l}a[0]&&(o&&!c?r=!1:a[1]&&(r===""||r===sr(s))&&(r=!0))}return r}function Ym(n,t,s=!1){const r=t.propsCache,i=r.get(n);if(i)return i;const o=n.props,a={},c=[];let l=!1;if(!_e(n)){const f=d=>{l=!0;const[g,m]=Ym(d,t,!0);ot(a,g),m&&c.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!o&&!l)return Me(n)&&r.set(n,vr),vr;if(ce(o))for(let f=0;f<o.length;f++){const d=wn(o[f]);Nd(d)&&(a[d]=Be)}else if(o)for(const f in o){const d=wn(f);if(Nd(d)){const g=o[f],m=a[d]=ce(g)||_e(g)?{type:g}:Object.assign({},g);if(m){const w=Pd(Boolean,m.type),E=Pd(String,m.type);m[0]=w>-1,m[1]=E<0||w<E,(w>-1||Oe(m,"default"))&&c.push(d)}}}const h=[a,c];return Me(n)&&r.set(n,h),h}function Nd(n){return n[0]!=="$"}function xd(n){const t=n&&n.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:n===null?"null":""}function Rd(n,t){return xd(n)===xd(t)}function Pd(n,t){return ce(t)?t.findIndex(s=>Rd(s,n)):_e(t)&&Rd(t,n)?0:-1}const Xm=n=>n[0]==="_"||n==="$stable",nh=n=>ce(n)?n.map(pn):[pn(n)],F0=(n,t,s)=>{if(t._n)return t;const r=Rm((...i)=>nh(t(...i)),s);return r._c=!1,r},Jm=(n,t,s)=>{const r=n._ctx;for(const i in n){if(Xm(i))continue;const o=n[i];if(_e(o))t[i]=F0(i,o,r);else if(o!=null){const a=nh(o);t[i]=()=>a}}},Zm=(n,t)=>{const s=nh(t);n.slots.default=()=>s},U0=(n,t)=>{if(n.vnode.shapeFlag&32){const s=t._;s?(n.slots=Ae(t),Ta(t,"_",s)):Jm(t,n.slots={})}else n.slots={},t&&Zm(n,t);Ta(n.slots,pc,1)},B0=(n,t,s)=>{const{vnode:r,slots:i}=n;let o=!0,a=Be;if(r.shapeFlag&32){const c=t._;c?s&&c===1?o=!1:(ot(i,t),!s&&c===1&&delete i._):(o=!t.$stable,Jm(t,i)),a=t}else t&&(Zm(n,t),a={default:1});if(o)for(const c in i)!Xm(c)&&!(c in a)&&delete i[c]};function ey(){return{app:null,config:{isNativeTag:dE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j0=0;function $0(n,t){return function(r,i=null){_e(r)||(r=Object.assign({},r)),i!=null&&!Me(i)&&(i=null);const o=ey(),a=new Set;let c=!1;const l=o.app={_uid:j0++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:lT,get config(){return o.config},set config(h){},use(h,...f){return a.has(h)||(h&&_e(h.install)?(a.add(h),h.install(l,...f)):_e(h)&&(a.add(h),h(l,...f))),l},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),l},component(h,f){return f?(o.components[h]=f,l):o.components[h]},directive(h,f){return f?(o.directives[h]=f,l):o.directives[h]},mount(h,f,d){if(!c){const g=et(r,i);return g.appContext=o,f&&t?t(g,h):n(g,h,d),c=!0,l._container=h,h.__vue_app__=l,gc(g.component)||g.component.proxy}},unmount(){c&&(n(null,l._container),delete l._container.__vue_app__)},provide(h,f){return o.provides[h]=f,l}};return l}}function Wl(n,t,s,r,i=!1){if(ce(n)){n.forEach((g,m)=>Wl(g,t&&(ce(t)?t[m]:t),s,r,i));return}if(bi(r)&&!i)return;const o=r.shapeFlag&4?gc(r.component)||r.component.proxy:r.el,a=i?null:o,{i:c,r:l}=n,h=t&&t.r,f=c.refs===Be?c.refs={}:c.refs,d=c.setupState;if(h!=null&&h!==l&&(Ye(h)?(f[h]=null,Oe(d,h)&&(d[h]=null)):We(h)&&(h.value=null)),_e(l))as(l,c,12,[a,f]);else{const g=Ye(l),m=We(l);if(g||m){const w=()=>{if(n.f){const E=g?Oe(d,l)?d[l]:f[l]:l.value;i?ce(E)&&$u(E,o):ce(E)?E.includes(o)||E.push(o):g?(f[l]=[o],Oe(d,l)&&(d[l]=f[l])):(l.value=[o],n.k&&(f[n.k]=l.value))}else g?(f[l]=a,Oe(d,l)&&(d[l]=a)):m&&(l.value=a,n.k&&(f[n.k]=a))};a?(w.id=-1,Nt(w,s)):w()}}}const Nt=g0;function V0(n){return H0(n)}function H0(n,t){const s=bE();s.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:c,createComment:l,setText:h,setElementText:f,parentNode:d,nextSibling:g,setScopeId:m=sn,insertStaticContent:w}=n,E=(y,_,C,N=null,A=null,H=null,Q=!1,j=null,$=!!_.dynamicChildren)=>{if(y===_)return;y&&!Ls(y,_)&&(N=K(y),Ve(y,A,H,!0),y=null),_.patchFlag===-2&&($=!1,_.dynamicChildren=null);const{type:U,ref:ee,shapeFlag:Y}=_;switch(U){case dc:I(y,_,C,N);break;case Qt:k(y,_,C,N);break;case ua:y==null&&F(_,C,N,Q);break;case xt:W(y,_,C,N,A,H,Q,j,$);break;default:Y&1?O(y,_,C,N,A,H,Q,j,$):Y&6?fe(y,_,C,N,A,H,Q,j,$):(Y&64||Y&128)&&U.process(y,_,C,N,A,H,Q,j,$,ue)}ee!=null&&A&&Wl(ee,y&&y.ref,H,_||y,!_)},I=(y,_,C,N)=>{if(y==null)r(_.el=c(_.children),C,N);else{const A=_.el=y.el;_.children!==y.children&&h(A,_.children)}},k=(y,_,C,N)=>{y==null?r(_.el=l(_.children||""),C,N):_.el=y.el},F=(y,_,C,N)=>{[y.el,y.anchor]=w(y.children,_,C,N,y.el,y.anchor)},M=({el:y,anchor:_},C,N)=>{let A;for(;y&&y!==_;)A=g(y),r(y,C,N),y=A;r(_,C,N)},T=({el:y,anchor:_})=>{let C;for(;y&&y!==_;)C=g(y),i(y),y=C;i(_)},O=(y,_,C,N,A,H,Q,j,$)=>{Q=Q||_.type==="svg",y==null?S(_,C,N,A,H,Q,j,$):q(y,_,A,H,Q,j,$)},S=(y,_,C,N,A,H,Q,j)=>{let $,U;const{type:ee,props:Y,shapeFlag:ne,transition:le,dirs:ge}=y;if($=y.el=a(y.type,H,Y&&Y.is,Y),ne&8?f($,y.children):ne&16&&x(y.children,$,null,N,A,H&&ee!=="foreignObject",Q,j),ge&&Os(y,null,N,"created"),R($,y,y.scopeId,Q,N),Y){for(const ke in Y)ke!=="value"&&!aa(ke)&&o($,ke,null,Y[ke],H,y.children,N,A,G);"value"in Y&&o($,"value",null,Y.value),(U=Y.onVnodeBeforeMount)&&fn(U,N,y)}ge&&Os(y,null,N,"beforeMount");const xe=(!A||A&&!A.pendingBranch)&&le&&!le.persisted;xe&&le.beforeEnter($),r($,_,C),((U=Y&&Y.onVnodeMounted)||xe||ge)&&Nt(()=>{U&&fn(U,N,y),xe&&le.enter($),ge&&Os(y,null,N,"mounted")},A)},R=(y,_,C,N,A)=>{if(C&&m(y,C),N)for(let H=0;H<N.length;H++)m(y,N[H]);if(A){let H=A.subTree;if(_===H){const Q=A.vnode;R(y,Q,Q.scopeId,Q.slotScopeIds,A.parent)}}},x=(y,_,C,N,A,H,Q,j,$=0)=>{for(let U=$;U<y.length;U++){const ee=y[U]=j?Zn(y[U]):pn(y[U]);E(null,ee,_,C,N,A,H,Q,j)}},q=(y,_,C,N,A,H,Q)=>{const j=_.el=y.el;let{patchFlag:$,dynamicChildren:U,dirs:ee}=_;$|=y.patchFlag&16;const Y=y.props||Be,ne=_.props||Be;let le;C&&Ds(C,!1),(le=ne.onVnodeBeforeUpdate)&&fn(le,C,_,y),ee&&Os(_,y,C,"beforeUpdate"),C&&Ds(C,!0);const ge=A&&_.type!=="foreignObject";if(U?J(y.dynamicChildren,U,j,C,N,ge,H):Q||Ee(y,_,j,null,C,N,ge,H,!1),$>0){if($&16)ae(j,_,Y,ne,C,N,A);else if($&2&&Y.class!==ne.class&&o(j,"class",null,ne.class,A),$&4&&o(j,"style",Y.style,ne.style,A),$&8){const xe=_.dynamicProps;for(let ke=0;ke<xe.length;ke++){const qe=xe[ke],rt=Y[qe],ln=ne[qe];(ln!==rt||qe==="value")&&o(j,qe,rt,ln,A,y.children,C,N,G)}}$&1&&y.children!==_.children&&f(j,_.children)}else!Q&&U==null&&ae(j,_,Y,ne,C,N,A);((le=ne.onVnodeUpdated)||ee)&&Nt(()=>{le&&fn(le,C,_,y),ee&&Os(_,y,C,"updated")},N)},J=(y,_,C,N,A,H,Q)=>{for(let j=0;j<_.length;j++){const $=y[j],U=_[j],ee=$.el&&($.type===xt||!Ls($,U)||$.shapeFlag&70)?d($.el):C;E($,U,ee,null,N,A,H,Q,!0)}},ae=(y,_,C,N,A,H,Q)=>{if(C!==N){if(C!==Be)for(const j in C)!aa(j)&&!(j in N)&&o(y,j,C[j],null,Q,_.children,A,H,G);for(const j in N){if(aa(j))continue;const $=N[j],U=C[j];$!==U&&j!=="value"&&o(y,j,U,$,Q,_.children,A,H,G)}"value"in N&&o(y,"value",C.value,N.value)}},W=(y,_,C,N,A,H,Q,j,$)=>{const U=_.el=y?y.el:c(""),ee=_.anchor=y?y.anchor:c("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:le}=_;le&&(j=j?j.concat(le):le),y==null?(r(U,C,N),r(ee,C,N),x(_.children,C,ee,A,H,Q,j,$)):Y>0&&Y&64&&ne&&y.dynamicChildren?(J(y.dynamicChildren,ne,C,A,H,Q,j),(_.key!=null||A&&_===A.subTree)&&sh(y,_,!0)):Ee(y,_,C,ee,A,H,Q,j,$)},fe=(y,_,C,N,A,H,Q,j,$)=>{_.slotScopeIds=j,y==null?_.shapeFlag&512?A.ctx.activate(_,C,N,Q,$):Se(_,C,N,A,H,Q,$):De(y,_,$)},Se=(y,_,C,N,A,H,Q)=>{const j=y.component=eT(y,N,A);if(hc(y)&&(j.ctx.renderer=ue),tT(j),j.asyncDep){if(A&&A.registerDep(j,be),!y.el){const $=j.subTree=et(Qt);k(null,$,_,C)}return}be(j,y,_,C,A,H,Q)},De=(y,_,C)=>{const N=_.component=y.component;if(f0(y,_,C))if(N.asyncDep&&!N.asyncResolved){ve(N,_,C);return}else N.next=_,o0(N.update),N.update();else _.el=y.el,N.vnode=_},be=(y,_,C,N,A,H,Q)=>{const j=()=>{if(y.isMounted){let{next:ee,bu:Y,u:ne,parent:le,vnode:ge}=y,xe=ee,ke;Ds(y,!1),ee?(ee.el=ge.el,ve(y,ee,Q)):ee=ge,Y&&ca(Y),(ke=ee.props&&ee.props.onVnodeBeforeUpdate)&&fn(ke,le,ee,ge),Ds(y,!0);const qe=ul(y),rt=y.subTree;y.subTree=qe,E(rt,qe,d(rt.el),K(rt),y,A,H),ee.el=qe.el,xe===null&&d0(y,qe.el),ne&&Nt(ne,A),(ke=ee.props&&ee.props.onVnodeUpdated)&&Nt(()=>fn(ke,le,ee,ge),A)}else{let ee;const{el:Y,props:ne}=_,{bm:le,m:ge,parent:xe}=y,ke=bi(_);if(Ds(y,!1),le&&ca(le),!ke&&(ee=ne&&ne.onVnodeBeforeMount)&&fn(ee,xe,_),Ds(y,!0),Y&&ie){const qe=()=>{y.subTree=ul(y),ie(Y,y.subTree,y,A,null)};ke?_.type.__asyncLoader().then(()=>!y.isUnmounted&&qe()):qe()}else{const qe=y.subTree=ul(y);E(null,qe,C,N,y,A,H),_.el=qe.el}if(ge&&Nt(ge,A),!ke&&(ee=ne&&ne.onVnodeMounted)){const qe=_;Nt(()=>fn(ee,xe,qe),A)}(_.shapeFlag&256||xe&&bi(xe.vnode)&&xe.vnode.shapeFlag&256)&&y.a&&Nt(y.a,A),y.isMounted=!0,_=C=N=null}},$=y.effect=new qu(j,()=>Ju(U),y.scope),U=y.update=()=>$.run();U.id=y.uid,Ds(y,!0),U()},ve=(y,_,C)=>{_.component=y;const N=y.vnode.props;y.vnode=_,y.next=null,M0(y,_.props,N,C),B0(y,_.children,C),Kr(),Id(),zr()},Ee=(y,_,C,N,A,H,Q,j,$=!1)=>{const U=y&&y.children,ee=y?y.shapeFlag:0,Y=_.children,{patchFlag:ne,shapeFlag:le}=_;if(ne>0){if(ne&128){pt(U,Y,C,N,A,H,Q,j,$);return}else if(ne&256){He(U,Y,C,N,A,H,Q,j,$);return}}le&8?(ee&16&&G(U,A,H),Y!==U&&f(C,Y)):ee&16?le&16?pt(U,Y,C,N,A,H,Q,j,$):G(U,A,H,!0):(ee&8&&f(C,""),le&16&&x(Y,C,N,A,H,Q,j,$))},He=(y,_,C,N,A,H,Q,j,$)=>{y=y||vr,_=_||vr;const U=y.length,ee=_.length,Y=Math.min(U,ee);let ne;for(ne=0;ne<Y;ne++){const le=_[ne]=$?Zn(_[ne]):pn(_[ne]);E(y[ne],le,C,null,A,H,Q,j,$)}U>ee?G(y,A,H,!0,!1,Y):x(_,C,N,A,H,Q,j,$,Y)},pt=(y,_,C,N,A,H,Q,j,$)=>{let U=0;const ee=_.length;let Y=y.length-1,ne=ee-1;for(;U<=Y&&U<=ne;){const le=y[U],ge=_[U]=$?Zn(_[U]):pn(_[U]);if(Ls(le,ge))E(le,ge,C,null,A,H,Q,j,$);else break;U++}for(;U<=Y&&U<=ne;){const le=y[Y],ge=_[ne]=$?Zn(_[ne]):pn(_[ne]);if(Ls(le,ge))E(le,ge,C,null,A,H,Q,j,$);else break;Y--,ne--}if(U>Y){if(U<=ne){const le=ne+1,ge=le<ee?_[le].el:N;for(;U<=ne;)E(null,_[U]=$?Zn(_[U]):pn(_[U]),C,ge,A,H,Q,j,$),U++}}else if(U>ne)for(;U<=Y;)Ve(y[U],A,H,!0),U++;else{const le=U,ge=U,xe=new Map;for(U=ge;U<=ne;U++){const At=_[U]=$?Zn(_[U]):pn(_[U]);At.key!=null&&xe.set(At.key,U)}let ke,qe=0;const rt=ne-ge+1;let ln=!1,Es=0;const un=new Array(rt);for(U=0;U<rt;U++)un[U]=0;for(U=le;U<=Y;U++){const At=y[U];if(qe>=rt){Ve(At,A,H,!0);continue}let qt;if(At.key!=null)qt=xe.get(At.key);else for(ke=ge;ke<=ne;ke++)if(un[ke-ge]===0&&Ls(At,_[ke])){qt=ke;break}qt===void 0?Ve(At,A,H,!0):(un[qt-ge]=U+1,qt>=Es?Es=qt:ln=!0,E(At,_[qt],C,null,A,H,Q,j,$),qe++)}const cr=ln?q0(un):vr;for(ke=cr.length-1,U=rt-1;U>=0;U--){const At=ge+U,qt=_[At],An=At+1<ee?_[At+1].el:N;un[U]===0?E(null,qt,C,An,A,H,Q,j,$):ln&&(ke<0||U!==cr[ke]?lt(qt,C,An,2):ke--)}}},lt=(y,_,C,N,A=null)=>{const{el:H,type:Q,transition:j,children:$,shapeFlag:U}=y;if(U&6){lt(y.component.subTree,_,C,N);return}if(U&128){y.suspense.move(_,C,N);return}if(U&64){Q.move(y,_,C,ue);return}if(Q===xt){r(H,_,C);for(let Y=0;Y<$.length;Y++)lt($[Y],_,C,N);r(y.anchor,_,C);return}if(Q===ua){M(y,_,C);return}if(N!==2&&U&1&&j)if(N===0)j.beforeEnter(H),r(H,_,C),Nt(()=>j.enter(H),A);else{const{leave:Y,delayLeave:ne,afterLeave:le}=j,ge=()=>r(H,_,C),xe=()=>{Y(H,()=>{ge(),le&&le()})};ne?ne(H,ge,xe):xe()}else r(H,_,C)},Ve=(y,_,C,N=!1,A=!1)=>{const{type:H,props:Q,ref:j,children:$,dynamicChildren:U,shapeFlag:ee,patchFlag:Y,dirs:ne}=y;if(j!=null&&Wl(j,null,C,y,!0),ee&256){_.ctx.deactivate(y);return}const le=ee&1&&ne,ge=!bi(y);let xe;if(ge&&(xe=Q&&Q.onVnodeBeforeUnmount)&&fn(xe,_,y),ee&6)D(y.component,C,N);else{if(ee&128){y.suspense.unmount(C,N);return}le&&Os(y,null,_,"beforeUnmount"),ee&64?y.type.remove(y,_,C,A,ue,N):U&&(H!==xt||Y>0&&Y&64)?G(U,_,C,!1,!0):(H===xt&&Y&384||!A&&ee&16)&&G($,_,C),N&&L(y)}(ge&&(xe=Q&&Q.onVnodeUnmounted)||le)&&Nt(()=>{xe&&fn(xe,_,y),le&&Os(y,null,_,"unmounted")},C)},L=y=>{const{type:_,el:C,anchor:N,transition:A}=y;if(_===xt){Tt(C,N);return}if(_===ua){T(y);return}const H=()=>{i(C),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(y.shapeFlag&1&&A&&!A.persisted){const{leave:Q,delayLeave:j}=A,$=()=>Q(C,H);j?j(y.el,H,$):$()}else H()},Tt=(y,_)=>{let C;for(;y!==_;)C=g(y),i(y),y=C;i(_)},D=(y,_,C)=>{const{bum:N,scope:A,update:H,subTree:Q,um:j}=y;N&&ca(N),A.stop(),H&&(H.active=!1,Ve(Q,y,_,C)),j&&Nt(j,_),Nt(()=>{y.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},G=(y,_,C,N=!1,A=!1,H=0)=>{for(let Q=H;Q<y.length;Q++)Ve(y[Q],_,C,N,A)},K=y=>y.shapeFlag&6?K(y.component.subTree):y.shapeFlag&128?y.suspense.next():g(y.anchor||y.el),X=(y,_,C)=>{y==null?_._vnode&&Ve(_._vnode,null,null,!0):E(_._vnode||null,y,_,null,null,null,C),Id(),Om(),_._vnode=y},ue={p:E,um:Ve,m:lt,r:L,mt:Se,mc:x,pc:Ee,pbc:J,n:K,o:n};let Ne,ie;return t&&([Ne,ie]=t(ue)),{render:X,hydrate:Ne,createApp:$0(X,Ne)}}function Ds({effect:n,update:t},s){n.allowRecurse=t.allowRecurse=s}function sh(n,t,s=!1){const r=n.children,i=t.children;if(ce(r)&&ce(i))for(let o=0;o<r.length;o++){const a=r[o];let c=i[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[o]=Zn(i[o]),c.el=a.el),s||sh(a,c)),c.type===dc&&(c.el=a.el)}}function q0(n){const t=n.slice(),s=[0];let r,i,o,a,c;const l=n.length;for(r=0;r<l;r++){const h=n[r];if(h!==0){if(i=s[s.length-1],n[i]<h){t[r]=i,s.push(r);continue}for(o=0,a=s.length-1;o<a;)c=o+a>>1,n[s[c]]<h?o=c+1:a=c;h<n[s[o]]&&(o>0&&(t[r]=s[o-1]),s[o]=r)}}for(o=s.length,a=s[o-1];o-- >0;)s[o]=a,a=t[a];return s}const K0=n=>n.__isTeleport,Ei=n=>n&&(n.disabled||n.disabled===""),Ld=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Gl=(n,t)=>{const s=n&&n.to;return Ye(s)?t?t(s):null:s},z0={__isTeleport:!0,process(n,t,s,r,i,o,a,c,l,h){const{mc:f,pc:d,pbc:g,o:{insert:m,querySelector:w,createText:E,createComment:I}}=h,k=Ei(t.props);let{shapeFlag:F,children:M,dynamicChildren:T}=t;if(n==null){const O=t.el=E(""),S=t.anchor=E("");m(O,s,r),m(S,s,r);const R=t.target=Gl(t.props,w),x=t.targetAnchor=E("");R&&(m(x,R),a=a||Ld(R));const q=(J,ae)=>{F&16&&f(M,J,ae,i,o,a,c,l)};k?q(s,S):R&&q(R,x)}else{t.el=n.el;const O=t.anchor=n.anchor,S=t.target=n.target,R=t.targetAnchor=n.targetAnchor,x=Ei(n.props),q=x?s:S,J=x?O:R;if(a=a||Ld(S),T?(g(n.dynamicChildren,T,q,i,o,a,c),sh(n,t,!0)):l||d(n,t,q,J,i,o,a,c,!1),k)x||Yo(t,s,O,h,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const ae=t.target=Gl(t.props,w);ae&&Yo(t,ae,null,h,0)}else x&&Yo(t,S,R,h,1)}ty(t)},remove(n,t,s,r,{um:i,o:{remove:o}},a){const{shapeFlag:c,children:l,anchor:h,targetAnchor:f,target:d,props:g}=n;if(d&&o(f),(a||!Ei(g))&&(o(h),c&16))for(let m=0;m<l.length;m++){const w=l[m];i(w,t,s,!0,!!w.dynamicChildren)}},move:Yo,hydrate:W0};function Yo(n,t,s,{o:{insert:r},m:i},o=2){o===0&&r(n.targetAnchor,t,s);const{el:a,anchor:c,shapeFlag:l,children:h,props:f}=n,d=o===2;if(d&&r(a,t,s),(!d||Ei(f))&&l&16)for(let g=0;g<h.length;g++)i(h[g],t,s,2);d&&r(c,t,s)}function W0(n,t,s,r,i,o,{o:{nextSibling:a,parentNode:c,querySelector:l}},h){const f=t.target=Gl(t.props,l);if(f){const d=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Ei(t.props))t.anchor=h(a(n),t,c(n),s,r,i,o),t.targetAnchor=d;else{t.anchor=a(n);let g=d;for(;g;)if(g=a(g),g&&g.nodeType===8&&g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&a(t.targetAnchor);break}h(d,t,f,s,r,i,o)}ty(t)}return t.anchor&&a(t.anchor)}const bP=z0;function ty(n){const t=n.ctx;if(t&&t.ut){let s=n.children[0].el;for(;s!==n.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const xt=Symbol(void 0),dc=Symbol(void 0),Qt=Symbol(void 0),ua=Symbol(void 0),Ti=[];let nn=null;function Ut(n=!1){Ti.push(nn=n?null:[])}function G0(){Ti.pop(),nn=Ti[Ti.length-1]||null}let Vi=1;function Md(n){Vi+=n}function ny(n){return n.dynamicChildren=Vi>0?nn||vr:null,G0(),Vi>0&&nn&&nn.push(n),n}function dn(n,t,s,r,i,o){return ny(we(n,t,s,r,i,o,!0))}function rh(n,t,s,r,i){return ny(et(n,t,s,r,i,!0))}function Oa(n){return n?n.__v_isVNode===!0:!1}function Ls(n,t){return n.type===t.type&&n.key===t.key}const pc="__vInternal",sy=({key:n})=>n??null,ha=({ref:n,ref_key:t,ref_for:s})=>n!=null?Ye(n)||We(n)||_e(n)?{i:ht,r:n,k:t,f:!!s}:n:null;function we(n,t=null,s=null,r=0,i=null,o=n===xt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&sy(t),ref:t&&ha(t),scopeId:xm,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ht};return c?(ih(l,s),o&128&&n.normalize(l)):s&&(l.shapeFlag|=Ye(s)?8:16),Vi>0&&!a&&nn&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&nn.push(l),l}const et=Q0;function Q0(n,t=null,s=null,r=0,i=null,o=!1){if((!n||n===k0)&&(n=Qt),Oa(n)){const c=ps(n,t,!0);return s&&ih(c,s),Vi>0&&!o&&nn&&(c.shapeFlag&6?nn[nn.indexOf(n)]=c:nn.push(c)),c.patchFlag|=-2,c}if(oT(n)&&(n=n.__vccOpts),t){t=Y0(t);let{class:c,style:l}=t;c&&!Ye(c)&&(t.class=Bu(c)),Me(l)&&(bm(l)&&!ce(l)&&(l=ot({},l)),t.style=Uu(l))}const a=Ye(n)?1:p0(n)?128:K0(n)?64:Me(n)?4:_e(n)?2:0;return we(n,t,s,r,i,a,o,!0)}function Y0(n){return n?bm(n)||pc in n?ot({},n):n:null}function ps(n,t,s=!1){const{props:r,ref:i,patchFlag:o,children:a}=n,c=t?X0(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&sy(c),ref:t&&t.ref?s&&i?ce(i)?i.concat(ha(t)):[i,ha(t)]:ha(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==xt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ps(n.ssContent),ssFallback:n.ssFallback&&ps(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function qs(n=" ",t=0){return et(dc,null,n,t)}function wP(n,t){const s=et(ua,null,n);return s.staticCount=t,s}function ts(n="",t=!1){return t?(Ut(),rh(Qt,null,n)):et(Qt,null,n)}function pn(n){return n==null||typeof n=="boolean"?et(Qt):ce(n)?et(xt,null,n.slice()):typeof n=="object"?Zn(n):et(dc,null,String(n))}function Zn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ps(n)}function ih(n,t){let s=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(ce(t))s=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ih(n,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(pc in t)?t._ctx=ht:i===3&&ht&&(ht.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:ht},s=32):(t=String(t),r&64?(s=16,t=[qs(t)]):s=8);n.children=t,n.shapeFlag|=s}function X0(...n){const t={};for(let s=0;s<n.length;s++){const r=n[s];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Bu([t.class,r.class]));else if(i==="style")t.style=Uu([t.style,r.style]);else if(rc(i)){const o=t[i],a=r[i];a&&o!==a&&!(ce(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=r[i])}return t}function fn(n,t,s,r=null){Wt(n,t,7,[s,r])}const J0=ey();let Z0=0;function eT(n,t,s){const r=n.type,i=(t?t.appContext:n.appContext)||J0,o={uid:Z0++,vnode:n,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new om(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ym(r,i),emitsOptions:Nm(r,i),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=l0.bind(null,o),n.ce&&n.ce(o),o}let Qe=null;const oh=()=>Qe||ht,Sr=n=>{Qe=n,n.scope.on()},Ks=()=>{Qe&&Qe.scope.off(),Qe=null};function ry(n){return n.vnode.shapeFlag&4}let Hi=!1;function tT(n,t=!1){Hi=t;const{props:s,children:r}=n.vnode,i=ry(n);L0(n,s,i,t),U0(n,r);const o=i?nT(n,t):void 0;return Hi=!1,o}function nT(n,t){const s=n.type;n.accessCache=Object.create(null),n.proxy=Cr(new Proxy(n.ctx,O0));const{setup:r}=s;if(r){const i=n.setupContext=r.length>1?rT(n):null;Sr(n),Kr();const o=as(r,n,0,[n.props,i]);if(zr(),Ks(),sm(o)){if(o.then(Ks,Ks),t)return o.then(a=>{Fd(n,a,t)}).catch(a=>{lc(a,n,0)});n.asyncDep=o}else Fd(n,o,t)}else iy(n,t)}function Fd(n,t,s){_e(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Me(t)&&(n.setupState=Am(t)),iy(n,s)}let Ud;function iy(n,t,s){const r=n.type;if(!n.render){if(!t&&Ud&&!r.render){const i=r.template||th(n).template;if(i){const{isCustomElement:o,compilerOptions:a}=n.appContext.config,{delimiters:c,compilerOptions:l}=r,h=ot(ot({isCustomElement:o,delimiters:c},a),l);r.render=Ud(i,h)}}n.render=r.render||sn}Sr(n),Kr(),D0(n),zr(),Ks()}function sT(n){return new Proxy(n.attrs,{get(t,s){return Pt(n,"get","$attrs"),t[s]}})}function rT(n){const t=r=>{n.exposed=r||{}};let s;return{get attrs(){return s||(s=sT(n))},slots:n.slots,emit:n.emit,expose:t}}function gc(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Am(Cr(n.exposed)),{get(t,s){if(s in t)return t[s];if(s in wi)return wi[s](n)},has(t,s){return s in t||s in wi}}))}function iT(n,t=!0){return _e(n)?n.displayName||n.name:n.name||t&&n.__name}function oT(n){return _e(n)&&"__vccOpts"in n}const Bt=(n,t)=>s0(n,t,Hi);function ah(n,t,s){const r=arguments.length;return r===2?Me(t)&&!ce(t)?Oa(t)?et(n,null,[t]):et(n,t):et(n,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Oa(s)&&(s=[s]),et(n,t,s))}const aT=Symbol(""),cT=()=>Gt(aT),lT="3.2.47",uT="http://www.w3.org/2000/svg",Ms=typeof document<"u"?document:null,Bd=Ms&&Ms.createElement("template"),hT={insert:(n,t,s)=>{t.insertBefore(n,s||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,s,r)=>{const i=t?Ms.createElementNS(uT,n):Ms.createElement(n,s?{is:s}:void 0);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>Ms.createTextNode(n),createComment:n=>Ms.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Ms.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,s,r,i,o){const a=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Bd.innerHTML=r?`<svg>${n}</svg>`:n;const c=Bd.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function fT(n,t,s){const r=n._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):s?n.setAttribute("class",t):n.className=t}function dT(n,t,s){const r=n.style,i=Ye(s);if(s&&!i){if(t&&!Ye(t))for(const o in t)s[o]==null&&Ql(r,o,"");for(const o in s)Ql(r,o,s[o])}else{const o=r.display;i?t!==s&&(r.cssText=s):t&&n.removeAttribute("style"),"_vod"in n&&(r.display=o)}}const jd=/\s*!important$/;function Ql(n,t,s){if(ce(s))s.forEach(r=>Ql(n,t,r));else if(s==null&&(s=""),t.startsWith("--"))n.setProperty(t,s);else{const r=pT(n,t);jd.test(s)?n.setProperty(sr(r),s.replace(jd,""),"important"):n[r]=s}}const $d=["Webkit","Moz","ms"],dl={};function pT(n,t){const s=dl[t];if(s)return s;let r=wn(t);if(r!=="filter"&&r in n)return dl[t]=r;r=ac(r);for(let i=0;i<$d.length;i++){const o=$d[i]+r;if(o in n)return dl[t]=o}return t}const Vd="http://www.w3.org/1999/xlink";function gT(n,t,s,r,i){if(r&&t.startsWith("xlink:"))s==null?n.removeAttributeNS(Vd,t.slice(6,t.length)):n.setAttributeNS(Vd,t,s);else{const o=uE(t);s==null||o&&!tm(s)?n.removeAttribute(t):n.setAttribute(t,o?"":s)}}function mT(n,t,s,r,i,o,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,o),n[t]=s??"";return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=s;const l=s??"";(n.value!==l||n.tagName==="OPTION")&&(n.value=l),s==null&&n.removeAttribute(t);return}let c=!1;if(s===""||s==null){const l=typeof n[t];l==="boolean"?s=tm(s):s==null&&l==="string"?(s="",c=!0):l==="number"&&(s=0,c=!0)}try{n[t]=s}catch{}c&&n.removeAttribute(t)}function Fs(n,t,s,r){n.addEventListener(t,s,r)}function yT(n,t,s,r){n.removeEventListener(t,s,r)}function vT(n,t,s,r,i=null){const o=n._vei||(n._vei={}),a=o[t];if(r&&a)a.value=r;else{const[c,l]=_T(t);if(r){const h=o[t]=ET(r,i);Fs(n,c,h,l)}else a&&(yT(n,c,a,l),o[t]=void 0)}}const Hd=/(?:Once|Passive|Capture)$/;function _T(n){let t;if(Hd.test(n)){t={};let r;for(;r=n.match(Hd);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):sr(n.slice(2)),t]}let pl=0;const bT=Promise.resolve(),wT=()=>pl||(bT.then(()=>pl=0),pl=Date.now());function ET(n,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Wt(TT(r,s.value),t,5,[r])};return s.value=n,s.attached=wT(),s}function TT(n,t){if(ce(t)){const s=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{s.call(n),n._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const qd=/^on[a-z]/,AT=(n,t,s,r,i=!1,o,a,c,l)=>{t==="class"?fT(n,r,i):t==="style"?dT(n,s,r):rc(t)?ju(t)||vT(n,t,s,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):IT(n,t,r,i))?mT(n,t,r,o,a,c,l):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),gT(n,t,r,i))};function IT(n,t,s,r){return r?!!(t==="innerHTML"||t==="textContent"||t in n&&qd.test(t)&&_e(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||qd.test(t)&&Ye(s)?!1:t in n}const Wn="transition",ai="animation",oy=(n,{slots:t})=>ah(Mm,cy(n),t);oy.displayName="Transition";const ay={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},CT=oy.props=ot({},Mm.props,ay),Ns=(n,t=[])=>{ce(n)?n.forEach(s=>s(...t)):n&&n(...t)},Kd=n=>n?ce(n)?n.some(t=>t.length>1):n.length>1:!1;function cy(n){const t={};for(const W in n)W in ay||(t[W]=n[W]);if(n.css===!1)return t;const{name:s="v",type:r,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:c=`${s}-enter-to`,appearFromClass:l=o,appearActiveClass:h=a,appearToClass:f=c,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:g=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=n,w=ST(i),E=w&&w[0],I=w&&w[1],{onBeforeEnter:k,onEnter:F,onEnterCancelled:M,onLeave:T,onLeaveCancelled:O,onBeforeAppear:S=k,onAppear:R=F,onAppearCancelled:x=M}=t,q=(W,fe,Se)=>{Xn(W,fe?f:c),Xn(W,fe?h:a),Se&&Se()},J=(W,fe)=>{W._isLeaving=!1,Xn(W,d),Xn(W,m),Xn(W,g),fe&&fe()},ae=W=>(fe,Se)=>{const De=W?R:F,be=()=>q(fe,W,Se);Ns(De,[fe,be]),zd(()=>{Xn(fe,W?l:o),Sn(fe,W?f:c),Kd(De)||Wd(fe,r,E,be)})};return ot(t,{onBeforeEnter(W){Ns(k,[W]),Sn(W,o),Sn(W,a)},onBeforeAppear(W){Ns(S,[W]),Sn(W,l),Sn(W,h)},onEnter:ae(!1),onAppear:ae(!0),onLeave(W,fe){W._isLeaving=!0;const Se=()=>J(W,fe);Sn(W,d),uy(),Sn(W,g),zd(()=>{W._isLeaving&&(Xn(W,d),Sn(W,m),Kd(T)||Wd(W,r,I,Se))}),Ns(T,[W,Se])},onEnterCancelled(W){q(W,!1),Ns(M,[W])},onAppearCancelled(W){q(W,!0),Ns(x,[W])},onLeaveCancelled(W){J(W),Ns(O,[W])}})}function ST(n){if(n==null)return null;if(Me(n))return[gl(n.enter),gl(n.leave)];{const t=gl(n);return[t,t]}}function gl(n){return _E(n)}function Sn(n,t){t.split(/\s+/).forEach(s=>s&&n.classList.add(s)),(n._vtc||(n._vtc=new Set)).add(t)}function Xn(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const{_vtc:s}=n;s&&(s.delete(t),s.size||(n._vtc=void 0))}function zd(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let kT=0;function Wd(n,t,s,r){const i=n._endId=++kT,o=()=>{i===n._endId&&r()};if(s)return setTimeout(o,s);const{type:a,timeout:c,propCount:l}=ly(n,t);if(!a)return r();const h=a+"end";let f=0;const d=()=>{n.removeEventListener(h,g),o()},g=m=>{m.target===n&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},c+1),n.addEventListener(h,g)}function ly(n,t){const s=window.getComputedStyle(n),r=w=>(s[w]||"").split(", "),i=r(`${Wn}Delay`),o=r(`${Wn}Duration`),a=Gd(i,o),c=r(`${ai}Delay`),l=r(`${ai}Duration`),h=Gd(c,l);let f=null,d=0,g=0;t===Wn?a>0&&(f=Wn,d=a,g=o.length):t===ai?h>0&&(f=ai,d=h,g=l.length):(d=Math.max(a,h),f=d>0?a>h?Wn:ai:null,g=f?f===Wn?o.length:l.length:0);const m=f===Wn&&/\b(transform|all)(,|$)/.test(r(`${Wn}Property`).toString());return{type:f,timeout:d,propCount:g,hasTransform:m}}function Gd(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((s,r)=>Qd(s)+Qd(n[r])))}function Qd(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function uy(){return document.body.offsetHeight}const hy=new WeakMap,fy=new WeakMap,dy={name:"TransitionGroup",props:ot({},CT,{tag:String,moveClass:String}),setup(n,{slots:t}){const s=oh(),r=Lm();let i,o;return Vm(()=>{if(!i.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!RT(i[0].el,s.vnode.el,a))return;i.forEach(DT),i.forEach(NT);const c=i.filter(xT);uy(),c.forEach(l=>{const h=l.el,f=h.style;Sn(h,a),f.transform=f.webkitTransform=f.transitionDuration="";const d=h._moveCb=g=>{g&&g.target!==h||(!g||/transform$/.test(g.propertyName))&&(h.removeEventListener("transitionend",d),h._moveCb=null,Xn(h,a))};h.addEventListener("transitionend",d)})}),()=>{const a=Ae(n),c=cy(a);let l=a.tag||xt;i=o,o=t.default?eh(t.default()):[];for(let h=0;h<o.length;h++){const f=o[h];f.key!=null&&$i(f,ji(f,c,r,s))}if(i)for(let h=0;h<i.length;h++){const f=i[h];$i(f,ji(f,c,r,s)),hy.set(f,f.el.getBoundingClientRect())}return et(l,null,o)}}},OT=n=>delete n.mode;dy.props;const EP=dy;function DT(n){const t=n.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function NT(n){fy.set(n,n.el.getBoundingClientRect())}function xT(n){const t=hy.get(n),s=fy.get(n),r=t.left-s.left,i=t.top-s.top;if(r||i){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",n}}function RT(n,t,s){const r=n.cloneNode();n._vtc&&n._vtc.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),s.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=ly(r);return i.removeChild(r),o}const Da=n=>{const t=n.props["onUpdate:modelValue"]||!1;return ce(t)?s=>ca(t,s):t};function PT(n){n.target.composing=!0}function Yd(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const TP={created(n,{modifiers:{lazy:t,trim:s,number:r}},i){n._assign=Da(i);const o=r||i.props&&i.props.type==="number";Fs(n,t?"change":"input",a=>{if(a.target.composing)return;let c=n.value;s&&(c=c.trim()),o&&(c=Aa(c)),n._assign(c)}),s&&Fs(n,"change",()=>{n.value=n.value.trim()}),t||(Fs(n,"compositionstart",PT),Fs(n,"compositionend",Yd),Fs(n,"change",Yd))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,modifiers:{lazy:s,trim:r,number:i}},o){if(n._assign=Da(o),n.composing||document.activeElement===n&&n.type!=="range"&&(s||r&&n.value.trim()===t||(i||n.type==="number")&&Aa(n.value)===t))return;const a=t??"";n.value!==a&&(n.value=a)}},AP={deep:!0,created(n,{value:t,modifiers:{number:s}},r){const i=ic(t);Fs(n,"change",()=>{const o=Array.prototype.filter.call(n.options,a=>a.selected).map(a=>s?Aa(Na(a)):Na(a));n._assign(n.multiple?i?new Set(o):o:o[0])}),n._assign=Da(r)},mounted(n,{value:t}){Xd(n,t)},beforeUpdate(n,t,s){n._assign=Da(s)},updated(n,{value:t}){Xd(n,t)}};function Xd(n,t){const s=n.multiple;if(!(s&&!ce(t)&&!ic(t))){for(let r=0,i=n.options.length;r<i;r++){const o=n.options[r],a=Na(o);if(s)ce(t)?o.selected=fE(t,a)>-1:o.selected=t.has(a);else if(sc(Na(o),t)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!s&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Na(n){return"_value"in n?n._value:n.value}const LT=["ctrl","shift","alt","meta"],MT={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>LT.some(s=>n[`${s}Key`]&&!t.includes(s))},IP=(n,t)=>(s,...r)=>{for(let i=0;i<t.length;i++){const o=MT[t[i]];if(o&&o(s,t))return}return n(s,...r)},FT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},CP=(n,t)=>s=>{if(!("key"in s))return;const r=sr(s.key);if(t.some(i=>i===r||FT[i]===r))return n(s)},SP={beforeMount(n,{value:t},{transition:s}){n._vod=n.style.display==="none"?"":n.style.display,s&&t?s.beforeEnter(n):ci(n,t)},mounted(n,{value:t},{transition:s}){s&&t&&s.enter(n)},updated(n,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(n),ci(n,!0),r.enter(n)):r.leave(n,()=>{ci(n,!1)}):ci(n,t))},beforeUnmount(n,{value:t}){ci(n,t)}};function ci(n,t){n.style.display=t?n._vod:"none"}const UT=ot({patchProp:AT},hT);let Jd;function py(){return Jd||(Jd=V0(UT))}const kP=(...n)=>{py().render(...n)},BT=(...n)=>{const t=py().createApp(...n),{mount:s}=t;return t.mount=r=>{const i=jT(r);if(!i)return;const o=t._component;!_e(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function jT(n){return Ye(n)?document.querySelector(n):n}var $T=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let gy;const mc=n=>gy=n,my=Symbol();function Yl(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ai;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ai||(Ai={}));function VT(){const n=am(!0),t=n.run(()=>Ft({}));let s=[],r=[];const i=Cr({install(o){mc(i),i._a=o,o.provide(my,i),o.config.globalProperties.$pinia=i,r.forEach(a=>s.push(a)),r=[]},use(o){return!this._a&&!$T?r.push(o):s.push(o),this},_p:s,_a:null,_e:n,_s:new Map,state:t});return i}const yy=()=>{};function Zd(n,t,s,r=yy){n.push(t);const i=()=>{const o=n.indexOf(t);o>-1&&(n.splice(o,1),r())};return!s&&cm()&&EE(i),i}function lr(n,...t){n.slice().forEach(s=>{s(...t)})}function Xl(n,t){n instanceof Map&&t instanceof Map&&t.forEach((s,r)=>n.set(r,s)),n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],i=n[s];Yl(i)&&Yl(r)&&n.hasOwnProperty(s)&&!We(r)&&!Pn(r)?n[s]=Xl(i,r):n[s]=r}return n}const HT=Symbol();function qT(n){return!Yl(n)||!n.hasOwnProperty(HT)}const{assign:Jn}=Object;function KT(n){return!!(We(n)&&n.effect)}function zT(n,t,s,r){const{state:i,actions:o,getters:a}=t,c=s.state.value[n];let l;function h(){c||(s.state.value[n]=i?i():{});const f=e0(s.state.value[n]);return Jn(f,o,Object.keys(a||{}).reduce((d,g)=>(d[g]=Cr(Bt(()=>{mc(s);const m=s._s.get(n);return a[g].call(m,m)})),d),{}))}return l=vy(n,h,t,s,r,!0),l}function vy(n,t,s={},r,i,o){let a;const c=Jn({actions:{}},s),l={deep:!0};let h,f,d=Cr([]),g=Cr([]),m;const w=r.state.value[n];!o&&!w&&(r.state.value[n]={}),Ft({});let E;function I(R){let x;h=f=!1,typeof R=="function"?(R(r.state.value[n]),x={type:Ai.patchFunction,storeId:n,events:m}):(Xl(r.state.value[n],R),x={type:Ai.patchObject,payload:R,storeId:n,events:m});const q=E=Symbol();Xu().then(()=>{E===q&&(h=!0)}),f=!0,lr(d,x,r.state.value[n])}const k=o?function(){const{state:x}=s,q=x?x():{};this.$patch(J=>{Jn(J,q)})}:yy;function F(){a.stop(),d=[],g=[],r._s.delete(n)}function M(R,x){return function(){mc(r);const q=Array.from(arguments),J=[],ae=[];function W(De){J.push(De)}function fe(De){ae.push(De)}lr(g,{args:q,name:R,store:O,after:W,onError:fe});let Se;try{Se=x.apply(this&&this.$id===n?this:O,q)}catch(De){throw lr(ae,De),De}return Se instanceof Promise?Se.then(De=>(lr(J,De),De)).catch(De=>(lr(ae,De),Promise.reject(De))):(lr(J,Se),Se)}}const T={_p:r,$id:n,$onAction:Zd.bind(null,g),$patch:I,$reset:k,$subscribe(R,x={}){const q=Zd(d,R,x.detached,()=>J()),J=a.run(()=>_i(()=>r.state.value[n],ae=>{(x.flush==="sync"?f:h)&&R({storeId:n,type:Ai.direct,events:m},ae)},Jn({},l,x)));return q},$dispose:F},O=Wr(T);r._s.set(n,O);const S=r._e.run(()=>(a=am(),a.run(()=>t())));for(const R in S){const x=S[R];if(We(x)&&!KT(x)||Pn(x))o||(w&&qT(x)&&(We(x)?x.value=w[R]:Xl(x,w[R])),r.state.value[n][R]=x);else if(typeof x=="function"){const q=M(R,x);S[R]=q,c.actions[R]=x}}return Jn(O,S),Jn(Ae(O),S),Object.defineProperty(O,"$state",{get:()=>r.state.value[n],set:R=>{I(x=>{Jn(x,R)})}}),r._p.forEach(R=>{Jn(O,a.run(()=>R({store:O,app:r._a,pinia:r,options:c})))}),w&&o&&s.hydrate&&s.hydrate(O.$state,w),h=!0,f=!0,O}function _y(n,t,s){let r,i;const o=typeof t=="function";typeof n=="string"?(r=n,i=o?s:t):(i=n,r=n.id);function a(c,l){const h=oh();return c=c||h&&Gt(my,null),c&&mc(c),c=gy,c._s.has(r)||(o?vy(r,t,i,c):zT(r,i,c)),c._s.get(r)}return a.$id=r,a}function qi(n){{n=Ae(n);const t={};for(const s in n){const r=n[s];(We(r)||Pn(r))&&(t[s]=Im(n,s))}return t}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const fr=typeof window<"u";function WT(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const Le=Object.assign;function ml(n,t){const s={};for(const r in t){const i=t[r];s[r]=rn(i)?i.map(n):n(i)}return s}const Ii=()=>{},rn=Array.isArray,GT=/\/$/,QT=n=>n.replace(GT,"");function yl(n,t,s="/"){let r,i={},o="",a="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,c>-1?c:t.length),i=n(o)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=ZT(r??t,s),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function YT(n,t){const s=t.query?n(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ep(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function XT(n,t,s){const r=t.matched.length-1,i=s.matched.length-1;return r>-1&&r===i&&kr(t.matched[r],s.matched[i])&&by(t.params,s.params)&&n(t.query)===n(s.query)&&t.hash===s.hash}function kr(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function by(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const s in n)if(!JT(n[s],t[s]))return!1;return!0}function JT(n,t){return rn(n)?tp(n,t):rn(t)?tp(t,n):n===t}function tp(n,t){return rn(t)?n.length===t.length&&n.every((s,r)=>s===t[r]):n.length===1&&n[0]===t}function ZT(n,t){if(n.startsWith("/"))return n;if(!n)return t;const s=t.split("/"),r=n.split("/");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Ki;(function(n){n.pop="pop",n.push="push"})(Ki||(Ki={}));var Ci;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ci||(Ci={}));function eA(n){if(!n)if(fr){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),QT(n)}const tA=/^[^#]+#/;function nA(n,t){return n.replace(tA,"#")+t}function sA(n,t){const s=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const yc=()=>({left:window.pageXOffset,top:window.pageYOffset});function rA(n){let t;if("el"in n){const s=n.el,r=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=sA(i,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function np(n,t){return(history.state?history.state.position-t:-1)+n}const Jl=new Map;function iA(n,t){Jl.set(n,t)}function oA(n){const t=Jl.get(n);return Jl.delete(n),t}let aA=()=>location.protocol+"//"+location.host;function wy(n,t){const{pathname:s,search:r,hash:i}=t,o=n.indexOf("#");if(o>-1){let c=i.includes(n.slice(o))?n.slice(o).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),ep(l,"")}return ep(s,n)+r+i}function cA(n,t,s,r){let i=[],o=[],a=null;const c=({state:g})=>{const m=wy(n,location),w=s.value,E=t.value;let I=0;if(g){if(s.value=m,t.value=g,a&&a===w){a=null;return}I=E?g.position-E.position:0}else r(m);i.forEach(k=>{k(s.value,w,{delta:I,type:Ki.pop,direction:I?I>0?Ci.forward:Ci.back:Ci.unknown})})};function l(){a=s.value}function h(g){i.push(g);const m=()=>{const w=i.indexOf(g);w>-1&&i.splice(w,1)};return o.push(m),m}function f(){const{history:g}=window;g.state&&g.replaceState(Le({},g.state,{scroll:yc()}),"")}function d(){for(const g of o)g();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f),{pauseListeners:l,listen:h,destroy:d}}function sp(n,t,s,r=!1,i=!1){return{back:n,current:t,forward:s,replaced:r,position:window.history.length,scroll:i?yc():null}}function lA(n){const{history:t,location:s}=window,r={value:wy(n,s)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,h,f){const d=n.indexOf("#"),g=d>-1?(s.host&&document.querySelector("base")?n:n.slice(d))+l:aA()+n+l;try{t[f?"replaceState":"pushState"](h,"",g),i.value=h}catch(m){console.error(m),s[f?"replace":"assign"](g)}}function a(l,h){const f=Le({},t.state,sp(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});o(l,f,!0),r.value=l}function c(l,h){const f=Le({},i.value,t.state,{forward:l,scroll:yc()});o(f.current,f,!0);const d=Le({},sp(r.value,l,null),{position:f.position+1},h);o(l,d,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function uA(n){n=eA(n);const t=lA(n),s=cA(n,t.state,t.location,t.replace);function r(o,a=!0){a||s.pauseListeners(),history.go(o)}const i=Le({location:"",base:n,go:r,createHref:nA.bind(null,n)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function hA(n){return typeof n=="string"||n&&typeof n=="object"}function Ey(n){return typeof n=="string"||typeof n=="symbol"}const Gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ty=Symbol("");var rp;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(rp||(rp={}));function Or(n,t){return Le(new Error,{type:n,[Ty]:!0},t)}function Cn(n,t){return n instanceof Error&&Ty in n&&(t==null||!!(n.type&t))}const ip="[^/]+?",fA={sensitive:!1,strict:!1,start:!0,end:!0},dA=/[.+*?^${}()[\]/\\]/g;function pA(n,t){const s=Le({},fA,t),r=[];let i=s.start?"^":"";const o=[];for(const h of n){const f=h.length?[]:[90];s.strict&&!h.length&&(i+="/");for(let d=0;d<h.length;d++){const g=h[d];let m=40+(s.sensitive?.25:0);if(g.type===0)d||(i+="/"),i+=g.value.replace(dA,"\\$&"),m+=40;else if(g.type===1){const{value:w,repeatable:E,optional:I,regexp:k}=g;o.push({name:w,repeatable:E,optional:I});const F=k||ip;if(F!==ip){m+=10;try{new RegExp(`(${F})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${w}" (${F}): `+T.message)}}let M=E?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;d||(M=I&&h.length<2?`(?:/${M})`:"/"+M),I&&(M+="?"),i+=M,m+=20,I&&(m+=-8),E&&(m+=-20),F===".*"&&(m+=-50)}f.push(m)}r.push(f)}if(s.strict&&s.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&(i+="(?:/|$)");const a=new RegExp(i,s.sensitive?"":"i");function c(h){const f=h.match(a),d={};if(!f)return null;for(let g=1;g<f.length;g++){const m=f[g]||"",w=o[g-1];d[w.name]=m&&w.repeatable?m.split("/"):m}return d}function l(h){let f="",d=!1;for(const g of n){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const m of g)if(m.type===0)f+=m.value;else if(m.type===1){const{value:w,repeatable:E,optional:I}=m,k=w in h?h[w]:"";if(rn(k)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const F=rn(k)?k.join("/"):k;if(!F)if(I)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);f+=F}}return f||"/"}return{re:a,score:r,keys:o,parse:c,stringify:l}}function gA(n,t){let s=0;for(;s<n.length&&s<t.length;){const r=t[s]-n[s];if(r)return r;s++}return n.length<t.length?n.length===1&&n[0]===40+40?-1:1:n.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function mA(n,t){let s=0;const r=n.score,i=t.score;for(;s<r.length&&s<i.length;){const o=gA(r[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-r.length)===1){if(op(r))return 1;if(op(i))return-1}return i.length-r.length}function op(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const yA={type:0,value:""},vA=/[a-zA-Z0-9_]/;function _A(n){if(!n)return[[]];if(n==="/")return[[yA]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(m){throw new Error(`ERR (${s})/"${h}": ${m}`)}let s=0,r=s;const i=[];let o;function a(){o&&i.push(o),o=[]}let c=0,l,h="",f="";function d(){h&&(s===0?o.push({type:0,value:h}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<n.length;){if(l=n[c++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(h&&d(),a()):l===":"?(d(),s=1):g();break;case 4:g(),s=r;break;case 1:l==="("?s=2:vA.test(l)?g():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:s=3:f+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,f="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${h}"`),d(),a(),i}function bA(n,t,s){const r=pA(_A(n.path),s),i=Le(r,{record:n,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function wA(n,t){const s=[],r=new Map;t=lp({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function o(f,d,g){const m=!g,w=EA(f);w.aliasOf=g&&g.record;const E=lp(t,f),I=[w];if("alias"in f){const M=typeof f.alias=="string"?[f.alias]:f.alias;for(const T of M)I.push(Le({},w,{components:g?g.record.components:w.components,path:T,aliasOf:g?g.record:w}))}let k,F;for(const M of I){const{path:T}=M;if(d&&T[0]!=="/"){const O=d.record.path,S=O[O.length-1]==="/"?"":"/";M.path=d.record.path+(T&&S+T)}if(k=bA(M,d,E),g?g.alias.push(k):(F=F||k,F!==k&&F.alias.push(k),m&&f.name&&!cp(k)&&a(f.name)),w.children){const O=w.children;for(let S=0;S<O.length;S++)o(O[S],k,g&&g.children[S])}g=g||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&l(k)}return F?()=>{a(F)}:Ii}function a(f){if(Ey(f)){const d=r.get(f);d&&(r.delete(f),s.splice(s.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=s.indexOf(f);d>-1&&(s.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function c(){return s}function l(f){let d=0;for(;d<s.length&&mA(f,s[d])>=0&&(f.record.path!==s[d].record.path||!Ay(f,s[d]));)d++;s.splice(d,0,f),f.record.name&&!cp(f)&&r.set(f.record.name,f)}function h(f,d){let g,m={},w,E;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw Or(1,{location:f});E=g.record.name,m=Le(ap(d.params,g.keys.filter(F=>!F.optional).map(F=>F.name)),f.params&&ap(f.params,g.keys.map(F=>F.name))),w=g.stringify(m)}else if("path"in f)w=f.path,g=s.find(F=>F.re.test(w)),g&&(m=g.parse(w),E=g.record.name);else{if(g=d.name?r.get(d.name):s.find(F=>F.re.test(d.path)),!g)throw Or(1,{location:f,currentLocation:d});E=g.record.name,m=Le({},d.params,f.params),w=g.stringify(m)}const I=[];let k=g;for(;k;)I.unshift(k.record),k=k.parent;return{name:E,path:w,params:m,matched:I,meta:AA(I)}}return n.forEach(f=>o(f)),{addRoute:o,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function ap(n,t){const s={};for(const r of t)r in n&&(s[r]=n[r]);return s}function EA(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:TA(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function TA(n){const t={},s=n.props||!1;if("component"in n)t.default=s;else for(const r in n.components)t[r]=typeof s=="boolean"?s:s[r];return t}function cp(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function AA(n){return n.reduce((t,s)=>Le(t,s.meta),{})}function lp(n,t){const s={};for(const r in n)s[r]=r in t?t[r]:n[r];return s}function Ay(n,t){return t.children.some(s=>s===n||Ay(n,s))}const Iy=/#/g,IA=/&/g,CA=/\//g,SA=/=/g,kA=/\?/g,Cy=/\+/g,OA=/%5B/g,DA=/%5D/g,Sy=/%5E/g,NA=/%60/g,ky=/%7B/g,xA=/%7C/g,Oy=/%7D/g,RA=/%20/g;function ch(n){return encodeURI(""+n).replace(xA,"|").replace(OA,"[").replace(DA,"]")}function PA(n){return ch(n).replace(ky,"{").replace(Oy,"}").replace(Sy,"^")}function Zl(n){return ch(n).replace(Cy,"%2B").replace(RA,"+").replace(Iy,"%23").replace(IA,"%26").replace(NA,"`").replace(ky,"{").replace(Oy,"}").replace(Sy,"^")}function LA(n){return Zl(n).replace(SA,"%3D")}function MA(n){return ch(n).replace(Iy,"%23").replace(kA,"%3F")}function FA(n){return n==null?"":MA(n).replace(CA,"%2F")}function xa(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function UA(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Cy," "),a=o.indexOf("="),c=xa(a<0?o:o.slice(0,a)),l=a<0?null:xa(o.slice(a+1));if(c in t){let h=t[c];rn(h)||(h=t[c]=[h]),h.push(l)}else t[c]=l}return t}function up(n){let t="";for(let s in n){const r=n[s];if(s=LA(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(rn(r)?r.map(o=>o&&Zl(o)):[r&&Zl(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function BA(n){const t={};for(const s in n){const r=n[s];r!==void 0&&(t[s]=rn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const jA=Symbol(""),hp=Symbol(""),vc=Symbol(""),lh=Symbol(""),eu=Symbol("");function li(){let n=[];function t(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function s(){n=[]}return{add:t,list:()=>n,reset:s}}function es(n,t,s,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(Or(4,{from:s,to:t})):d instanceof Error?c(d):hA(d)?c(Or(2,{from:t,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},h=n.call(r&&r.instances[i],t,s,l);let f=Promise.resolve(h);n.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function vl(n,t,s,r){const i=[];for(const o of n)for(const a in o.components){let c=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if($A(c)){const h=(c.__vccOpts||c)[t];h&&i.push(es(h,s,r,o,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=WT(h)?h.default:h;o.components[a]=f;const g=(f.__vccOpts||f)[t];return g&&es(g,s,r,o,a)()}))}}return i}function $A(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function fp(n){const t=Gt(vc),s=Gt(lh),r=Bt(()=>t.resolve(ze(n.to))),i=Bt(()=>{const{matched:l}=r.value,{length:h}=l,f=l[h-1],d=s.matched;if(!f||!d.length)return-1;const g=d.findIndex(kr.bind(null,f));if(g>-1)return g;const m=dp(l[h-2]);return h>1&&dp(f)===m&&d[d.length-1].path!==m?d.findIndex(kr.bind(null,l[h-2])):g}),o=Bt(()=>i.value>-1&&KA(s.params,r.value.params)),a=Bt(()=>i.value>-1&&i.value===s.matched.length-1&&by(s.params,r.value.params));function c(l={}){return qA(l)?t[ze(n.replace)?"replace":"push"](ze(n.to)).catch(Ii):Promise.resolve()}return{route:r,href:Bt(()=>r.value.href),isActive:o,isExactActive:a,navigate:c}}const VA=Um({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fp,setup(n,{slots:t}){const s=Wr(fp(n)),{options:r}=Gt(vc),i=Bt(()=>({[pp(n.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[pp(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&t.default(s);return n.custom?o:ah("a",{"aria-current":s.isExactActive?n.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),HA=VA;function qA(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function KA(n,t){for(const s in t){const r=t[s],i=n[s];if(typeof r=="string"){if(r!==i)return!1}else if(!rn(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function dp(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const pp=(n,t,s)=>n??t??s,zA=Um({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:s}){const r=Gt(eu),i=Bt(()=>n.route||r.value),o=Gt(hp,0),a=Bt(()=>{let h=ze(o);const{matched:f}=i.value;let d;for(;(d=f[h])&&!d.components;)h++;return h}),c=Bt(()=>i.value.matched[a.value]);la(hp,Bt(()=>a.value+1)),la(jA,c),la(eu,i);const l=Ft();return _i(()=>[l.value,c.value,n.name],([h,f,d],[g,m,w])=>{f&&(f.instances[d]=h,m&&m!==f&&h&&h===g&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),h&&f&&(!m||!kr(f,m)||!g)&&(f.enterCallbacks[d]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,f=n.name,d=c.value,g=d&&d.components[f];if(!g)return gp(s.default,{Component:g,route:h});const m=d.props[f],w=m?m===!0?h.params:typeof m=="function"?m(h):m:null,I=ah(g,Le({},w,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(d.instances[f]=null)},ref:l}));return gp(s.default,{Component:I,route:h})||I}}});function gp(n,t){if(!n)return null;const s=n(t);return s.length===1?s[0]:s}const Dy=zA;function WA(n){const t=wA(n.routes,n),s=n.parseQuery||UA,r=n.stringifyQuery||up,i=n.history,o=li(),a=li(),c=li(),l=XE(Gn);let h=Gn;fr&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ml.bind(null,D=>""+D),d=ml.bind(null,FA),g=ml.bind(null,xa);function m(D,G){let K,X;return Ey(D)?(K=t.getRecordMatcher(D),X=G):X=D,t.addRoute(X,K)}function w(D){const G=t.getRecordMatcher(D);G&&t.removeRoute(G)}function E(){return t.getRoutes().map(D=>D.record)}function I(D){return!!t.getRecordMatcher(D)}function k(D,G){if(G=Le({},G||l.value),typeof D=="string"){const y=yl(s,D,G.path),_=t.resolve({path:y.path},G),C=i.createHref(y.fullPath);return Le(y,_,{params:g(_.params),hash:xa(y.hash),redirectedFrom:void 0,href:C})}let K;if("path"in D)K=Le({},D,{path:yl(s,D.path,G.path).path});else{const y=Le({},D.params);for(const _ in y)y[_]==null&&delete y[_];K=Le({},D,{params:d(D.params)}),G.params=d(G.params)}const X=t.resolve(K,G),ue=D.hash||"";X.params=f(g(X.params));const Ne=YT(r,Le({},D,{hash:PA(ue),path:X.path})),ie=i.createHref(Ne);return Le({fullPath:Ne,hash:ue,query:r===up?BA(D.query):D.query||{}},X,{redirectedFrom:void 0,href:ie})}function F(D){return typeof D=="string"?yl(s,D,l.value.path):Le({},D)}function M(D,G){if(h!==D)return Or(8,{from:G,to:D})}function T(D){return R(D)}function O(D){return T(Le(F(D),{replace:!0}))}function S(D){const G=D.matched[D.matched.length-1];if(G&&G.redirect){const{redirect:K}=G;let X=typeof K=="function"?K(D):K;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=F(X):{path:X},X.params={}),Le({query:D.query,hash:D.hash,params:"path"in X?{}:D.params},X)}}function R(D,G){const K=h=k(D),X=l.value,ue=D.state,Ne=D.force,ie=D.replace===!0,y=S(K);if(y)return R(Le(F(y),{state:typeof y=="object"?Le({},ue,y.state):ue,force:Ne,replace:ie}),G||K);const _=K;_.redirectedFrom=G;let C;return!Ne&&XT(r,X,K)&&(C=Or(16,{to:_,from:X}),pt(X,X,!0,!1)),(C?Promise.resolve(C):q(_,X)).catch(N=>Cn(N)?Cn(N,2)?N:He(N):ve(N,_,X)).then(N=>{if(N){if(Cn(N,2))return R(Le({replace:ie},F(N.to),{state:typeof N.to=="object"?Le({},ue,N.to.state):ue,force:Ne}),G||_)}else N=ae(_,X,!0,ie,ue);return J(_,X,N),N})}function x(D,G){const K=M(D,G);return K?Promise.reject(K):Promise.resolve()}function q(D,G){let K;const[X,ue,Ne]=GA(D,G);K=vl(X.reverse(),"beforeRouteLeave",D,G);for(const y of X)y.leaveGuards.forEach(_=>{K.push(es(_,D,G))});const ie=x.bind(null,D,G);return K.push(ie),ur(K).then(()=>{K=[];for(const y of o.list())K.push(es(y,D,G));return K.push(ie),ur(K)}).then(()=>{K=vl(ue,"beforeRouteUpdate",D,G);for(const y of ue)y.updateGuards.forEach(_=>{K.push(es(_,D,G))});return K.push(ie),ur(K)}).then(()=>{K=[];for(const y of D.matched)if(y.beforeEnter&&!G.matched.includes(y))if(rn(y.beforeEnter))for(const _ of y.beforeEnter)K.push(es(_,D,G));else K.push(es(y.beforeEnter,D,G));return K.push(ie),ur(K)}).then(()=>(D.matched.forEach(y=>y.enterCallbacks={}),K=vl(Ne,"beforeRouteEnter",D,G),K.push(ie),ur(K))).then(()=>{K=[];for(const y of a.list())K.push(es(y,D,G));return K.push(ie),ur(K)}).catch(y=>Cn(y,8)?y:Promise.reject(y))}function J(D,G,K){for(const X of c.list())X(D,G,K)}function ae(D,G,K,X,ue){const Ne=M(D,G);if(Ne)return Ne;const ie=G===Gn,y=fr?history.state:{};K&&(X||ie?i.replace(D.fullPath,Le({scroll:ie&&y&&y.scroll},ue)):i.push(D.fullPath,ue)),l.value=D,pt(D,G,K,ie),He()}let W;function fe(){W||(W=i.listen((D,G,K)=>{if(!Tt.listening)return;const X=k(D),ue=S(X);if(ue){R(Le(ue,{replace:!0}),X).catch(Ii);return}h=X;const Ne=l.value;fr&&iA(np(Ne.fullPath,K.delta),yc()),q(X,Ne).catch(ie=>Cn(ie,12)?ie:Cn(ie,2)?(R(ie.to,X).then(y=>{Cn(y,20)&&!K.delta&&K.type===Ki.pop&&i.go(-1,!1)}).catch(Ii),Promise.reject()):(K.delta&&i.go(-K.delta,!1),ve(ie,X,Ne))).then(ie=>{ie=ie||ae(X,Ne,!1),ie&&(K.delta&&!Cn(ie,8)?i.go(-K.delta,!1):K.type===Ki.pop&&Cn(ie,20)&&i.go(-1,!1)),J(X,Ne,ie)}).catch(Ii)}))}let Se=li(),De=li(),be;function ve(D,G,K){He(D);const X=De.list();return X.length?X.forEach(ue=>ue(D,G,K)):console.error(D),Promise.reject(D)}function Ee(){return be&&l.value!==Gn?Promise.resolve():new Promise((D,G)=>{Se.add([D,G])})}function He(D){return be||(be=!D,fe(),Se.list().forEach(([G,K])=>D?K(D):G()),Se.reset()),D}function pt(D,G,K,X){const{scrollBehavior:ue}=n;if(!fr||!ue)return Promise.resolve();const Ne=!K&&oA(np(D.fullPath,0))||(X||!K)&&history.state&&history.state.scroll||null;return Xu().then(()=>ue(D,G,Ne)).then(ie=>ie&&rA(ie)).catch(ie=>ve(ie,D,G))}const lt=D=>i.go(D);let Ve;const L=new Set,Tt={currentRoute:l,listening:!0,addRoute:m,removeRoute:w,hasRoute:I,getRoutes:E,resolve:k,options:n,push:T,replace:O,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:o.add,beforeResolve:a.add,afterEach:c.add,onError:De.add,isReady:Ee,install(D){const G=this;D.component("RouterLink",HA),D.component("RouterView",Dy),D.config.globalProperties.$router=G,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>ze(l)}),fr&&!Ve&&l.value===Gn&&(Ve=!0,T(i.location).catch(ue=>{}));const K={};for(const ue in Gn)K[ue]=Bt(()=>l.value[ue]);D.provide(vc,G),D.provide(lh,Wr(K)),D.provide(eu,l);const X=D.unmount;L.add(D),D.unmount=function(){L.delete(D),L.size<1&&(h=Gn,W&&W(),W=null,l.value=Gn,Ve=!1,be=!1),X()}}};return Tt}function ur(n){return n.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function GA(n,t){const s=[],r=[],i=[],o=Math.max(t.matched.length,n.matched.length);for(let a=0;a<o;a++){const c=t.matched[a];c&&(n.matched.find(h=>kr(h,c))?r.push(c):s.push(c));const l=n.matched[a];l&&(t.matched.find(h=>kr(h,l))||i.push(l))}return[s,r,i]}function uh(){return Gt(vc)}function OP(){return Gt(lh)}const QA={"data-bs-version":"5.1",class:"footer3 cid-s48P1Icc8J mt-4 position-sticky bottom-0",once:"footers",id:"footer3-i"},YA={class:"container"},XA={class:"media-container-row align-center mbr-white"},JA={class:"row row-copirayt"},ZA={class:"mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7"},eI=we("strong",null," SANTIAGO[NET]",-1),tI={__name:"FooterComponent",setup(n){const t=new Date().getFullYear();return(s,r)=>(Ut(),dn("footer",QA,[we("div",YA,[we("div",XA,[we("div",JA,[we("p",ZA,[qs("  Copyright 2018 - "+hr(ze(t))+" |",1),eI,qs(" - Todos los derechos reservados. ")])])])])]))}},nI="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSgBBwcHCggKEwoKEygaFhooKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKP/AABEIAFsAeQMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APqmgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAMKfxh4at55IZ/EOkRTRsVdHvIwykdQQTwaAEHjPwueniPRj/wBv0X/xVADh4v8ADR6eIdHP/b7H/wDFUAPHivw6emvaSf8At8j/AMaAHDxNoJ6a3pZ+l3H/AI0APHiLRD01jTj9LpP8aAHjXdIPTVLA/S4T/GgB41jTG6ajZn6Tr/jQBeUhlBUgg8gjvQAUAFABQAUAFABQBFdZNrMFOG2HBH0oA+ffgl4L8O+J7bxC+vaat3cW2oNGrtK6kKR0+Vh3BoA9JPwf8CHroCf+BM3/AMXQByk3gX4axahcwXGjSxfZ3KNunl2sc9BiTNd8ctrShGcdbnkyznDwqSpzuuXQdB4E+FdzI6DRCpUZy17MoP0/e0Ty2vBJtfmVTzjDVG0nt3t/mVL7wJ8MLUKZfDF5tbut5Kf/AGrV08rq1NE1+P8AkRUzmjT3i/w/zMm48K/ChYppP+Ec1I7BkqtzJnHr/ra6FkWIbSutfX/ImOeUJK6i/wAP8y54N+Hvws8W3F3DYeH7+J7dVZvOu5BkHI4xIfSufH5XVwCi6jTv2v8A5I7MJjqeKbUE1bubmtfATwFHpF9Ja6TOlwkDtG32yU4YKcHBb1rzTtNv9nm6a8+DXhmV2LFYZIsk54SV1A/JRQB6LQAUAFABQAUAFAARkEHoaAPEf2cm2a14+tT/AMstQU/m0o/9loA9uoA8E8cXht/F2rW+cDzt2PqAa+6y2lz4WnPyPgc1ptYqp6l74f6vBBc3KSIPMlwBJkZUelc+a4aclFrZdDbKK8KE2pLV9TU1p4Z47qaWNJgq4T+F/wCWPbrXLh1KDjFO35HfjFSnGU2r226P8v1POdQuo7S8PlMGx1Gcjp0z3r6KlB1Ie8eInyy0Or+BRWDxrq0EZ/dyWfmqPQB1/wAa8fiNN4aEn0f6H0OSSvOXoe5uodGVhlWGCK+NPozyf9l5yPhJaWzHLWl3cwH/AL+E/wDs1AHrNABQAUAFABQAUAFAHhnwKbyPih8RbTpmaN8fRn/+KoA9yZlQZZgo9zigDwv4jeGNW1HxnqF7p8cDWsuwpIbmNckIoPBbPUGvscrzbCYfCRpVZWav0fd+R85j8urVq8pwjdPzXYx7LwzrFsfMNzpkEnT576If+zV01M6wE1ZttejPPeS4q90vxLhsNSW3MVxrnh8J6yajGP61yvNcvUuZX+4v+x8Y1ytq3qY8vhqFpC0vibw4MnJ/07d/IGtv9YsKlZJ/cv8AMFkWK7r73/kdJ4ATTfCviiXVdR8RaQ9o1qbcCGSRm5KkdUA/h9a8nM82pYygqUU73vrbz833PYy7L6mFnzSa2/roeiP8TfBynB1uEn/Zjkb+S18+ewcf+zHcxTeFvE0du+6GHxDdrGcEZQhCDg9OtAHsNABQAUAFABQAUAFAHzl4N0DTtZ/aD8dafqsLyxJGZ0VZWTndH/dI/vUAeur8NPCSnP8AZAJ9WuJT/NqAPLPHbv4d8cLoujeH9NXTTFG63EySsQ7BjjPmAHJXAGM1x4vFKhFvrvY7cJhVX+I5PxB43u0eSHRNJ01WW6ht9r2W9zuWXfhWPPzIAKvASq14+/a/l2KxmHhTko07mVpfi7xZF4psrXXtK0tNOm88JMNHiWOVkiZvkkZPmw2ORx+FdbjZ2OFqx3I1qW8+zi1ktrQb8MyWNspyD9wjYe3cfnUuz2Fdo94trO0W8lRLe1AABCLEoKg556d8UAaSIqDCKqj2GKAPI/gZ+48V/FGz6bPEMk+P+umT/SgD12gAoAKACgAoAKACgDwPwgfsv7VniVOn2jTn/H5oj/7LQB75QBwXjj4bWni3W49Sn1K8tJEhEIEAXpk85IPPOPwrGpQjUd5HTRxdSjHliZeg/BbQ9Gnlnt9V1p55GVy7yRfKVyAQPL9CRW1P938JnKtOTu2aeofCrQdV1iDU9YudV1C7gVkia4uuEVhggKoA7027mbbe5Zi+F/hOIg/2fMWDB8/bJl5AC5wHA6ACkI7BIoo23KAGxjOeaAJC6j+IUAeQ/Csi3+NfxYtM8NNY3AH+9ExP/oQoA9C8U+IodBS3DrC805bYks6wggYz8zcfxCunDYaVdu17LsrnLicSqCW133djJ03xpcahd+Ra6TDMwG5hBqUEjAA4J2hs45Fb1cDGlHmlJr1i0YUsbUqSsqf3STOyRtyhsYyM49K889EWgAoAQsB1oAYZkHUigD5Z+JHjFPh5+0XNr0tlJeQPYBPLR9m7cuOpB6ECgC8/7Ud1cErpvgt5D2JvS/6CP+tAFab4/fEC6BfTvBIRAM5a3nkAHqSMUAZcnxs+K10MQ6RpkGe4tiP/AEOQ0AVf+FhfGfU5khivrW1aVgqhYrbqfchsUAXTYfGnUD/pHi+3t8/9Nwn/AKLjoAtWvww+JOrbRffEuZB/djvLlgPoPlFAGpH+zbq18M6r8Q76fPUC3d/1aX+lAHpfwe+Een/DObUri11O71C4vlRHaZQiqFJPAHfJ7mgDO+P0Ul0NHhgmgjIWdj5m4nrH0CgmvYyfHUsJOTq317HlZrg6mKjFU7aHM/CfTrzQvFU+p6nbziGWxaEPFbySF2Low+VVz0XriuzN8yoYqgqdJ6p328mY5Zgq2Hm5VV0PeoCGkiZAVBiywIwecYyPXrXzZ7ZaoAKAKN6khB2Ej6UAcdq8l3CxzI+PrQBzV0wuJA06JI69GdQSPpmgBPPcDAOAOwoAztduH/sm7CsdxjIoA82bfnvQBZ095Ib2CbaT5bhsfQ0AekwTrOgaI7gemKANC1S9DAwQzH6KaAOu0K81RSqXFnMU/vYxQB00imWIq2Rkdjg0AeeeJfBEeoaikl0lxdxBTsZJtskRJGcZ4YHHf0oA3rOCa1jVIrS4wEVBu2dAMDvQBvaf5scIEmC3qBQBdDZ7UAOoACM9aAM7U9LjvYivCk96AOZPguVnJa6QL7LmgCePwVCP9ZdSH6KBQA+bwRpskLq5mfIxy1AGSnw9tI3/AHcMJTtvyTQBft/BNtHj/Ur/ALsQ/wAaANnTNBt7CXzI5JGOMFcAKfwxQBrhQOgoAcKAFxQBDNbrKQTwR0IoAkEYAxQA4AelAC4oAMUAFABQAUAJigAxQAYoAMUALigAxQAuKADFABQAUAFABQAUAJQAUAFAC0AFABQAUAFABQAUAFABQAUAFABQAUAf/9k=";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=function(n){const t=[];let s=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[s++]=i:i<2048?(t[s++]=i>>6|192,t[s++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[s++]=i>>18|240,t[s++]=i>>12&63|128,t[s++]=i>>6&63|128,t[s++]=i&63|128):(t[s++]=i>>12|224,t[s++]=i>>6&63|128,t[s++]=i&63|128)}return t},sI=function(n){const t=[];let s=0,r=0;for(;s<n.length;){const i=n[s++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[s++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[s++],a=n[s++],c=n[s++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=n[s++],a=n[s++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],a=i+1<n.length,c=a?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,f=o>>2,d=(o&3)<<4|c>>4;let g=(c&15)<<2|h>>6,m=h&63;l||(m=64,a||(g=64)),r.push(s[f],s[d],s[g],s[m])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ny(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):sI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=s[n.charAt(i++)],c=i<n.length?s[n.charAt(i)]:0;++i;const h=i<n.length?s[n.charAt(i)]:64;++i;const d=i<n.length?s[n.charAt(i)]:64;if(++i,o==null||c==null||h==null||d==null)throw new rI;const g=o<<2|c>>4;if(r.push(g),h!==64){const m=c<<4&240|h>>2;if(r.push(m),d!==64){const w=h<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(n){const t=Ny(n);return xy.encodeByteArray(t,!0)},Ra=function(n){return iI(n).replace(/\./g,"")},Ry=function(n){try{return xy.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=()=>oI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Ry(n[1]);return t&&JSON.parse(t)},hh=()=>{try{return aI()||cI()||lI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Py=n=>{var t,s;return(s=(t=hh())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[n]},uI=n=>{const t=Py(n);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),r]:[t.substring(0,s),r]},hI=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},Ly=n=>{var t;return(t=hh())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n),c="";return[Ra(JSON.stringify(s)),Ra(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function gI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yI(){const n=wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((n,t)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class qn extends Error{constructor(t,s,r){super(s),this.code=t,this.customData=r,this.name=bI,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(t,s,r){this.service=t,this.serviceName=s,this.errors=r}create(t,...s){const r=s[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?wI(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new qn(i,c,r)}}function wI(n,t){return n.replace(EI,(s,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const EI=/\{\$([^}]+)}/g;function TI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Pa(n,t){if(n===t)return!0;const s=Object.keys(n),r=Object.keys(t);for(const i of s){if(!r.includes(i))return!1;const o=n[i],a=t[i];if(mp(o)&&mp(a)){if(!Pa(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function mp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(n){const t=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function di(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function pi(n){const t=n.indexOf("?");if(!t)return"";const s=n.indexOf("#",t);return n.substring(t,s>0?s:void 0)}function AI(n,t){const s=new II(n,t);return s.subscribe.bind(s)}class II{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,r){let i;if(t===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");CI(t,["next","error","complete"])?i=t:i={next:t,error:s,complete:r},i.next===void 0&&(i.next=_l),i.error===void 0&&(i.error=_l),i.complete===void 0&&(i.complete=_l);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(n,t){if(typeof n!="object"||n===null)return!1;for(const s of t)if(s in n&&typeof n[s]=="function")return!0;return!1}function _l(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class Ys{constructor(t,s,r){this.name=t,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const r=new fI;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(s=t==null?void 0:t.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OI(t))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rs){return this.instances.has(t)}getOptions(t=Rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(t,s){var r;const i=this.normalizeInstanceIdentifier(s),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kI(t),options:s}),this.instances.set(t,r),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Rs){return this.component?this.component.multipleInstances?t:Rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(n){return n===Rs?void 0:n}function OI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new SI(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const NI={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},xI=Re.INFO,RI={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},PI=(n,t,...s)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=RI[t];if(i)console[i](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fh{constructor(t){this.name=t,this._logLevel=xI,this._logHandler=PI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const LI=(n,t)=>t.some(s=>n instanceof s);let yp,vp;function MI(){return yp||(yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FI(){return vp||(vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,tu=new WeakMap,Fy=new WeakMap,bl=new WeakMap,dh=new WeakMap;function UI(n){const t=new Promise((s,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{s(cs(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",a)});return t.then(s=>{s instanceof IDBCursor&&My.set(s,n)}).catch(()=>{}),dh.set(t,n),t}function BI(n){if(tu.has(n))return;const t=new Promise((s,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{s(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});tu.set(n,t)}let nu={get(n,t,s){if(n instanceof IDBTransaction){if(t==="done")return tu.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Fy.get(n);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return cs(n[t])},set(n,t,s){return n[t]=s,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function jI(n){nu=n(nu)}function $I(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const r=n.call(wl(this),t,...s);return Fy.set(r,t.sort?t.sort():[t]),cs(r)}:FI().includes(n)?function(...t){return n.apply(wl(this),t),cs(My.get(this))}:function(...t){return cs(n.apply(wl(this),t))}}function VI(n){return typeof n=="function"?$I(n):(n instanceof IDBTransaction&&BI(n),LI(n,MI())?new Proxy(n,nu):n)}function cs(n){if(n instanceof IDBRequest)return UI(n);if(bl.has(n))return bl.get(n);const t=VI(n);return t!==n&&(bl.set(n,t),dh.set(t,n)),t}const wl=n=>dh.get(n);function HI(n,t,{blocked:s,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(n,t),c=cs(a);return r&&a.addEventListener("upgradeneeded",l=>{r(cs(a.result),l.oldVersion,l.newVersion,cs(a.transaction))}),s&&a.addEventListener("blocked",()=>s()),c.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}const qI=["get","getKey","getAll","getAllKeys","count"],KI=["put","add","delete","clear"],El=new Map;function _p(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(El.get(t))return El.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,i=KI.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qI.includes(s)))return;const o=async function(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[s](...c),i&&l.done]))[0]};return El.set(t,o),o}jI(n=>({...n,get:(t,s,r)=>_p(t,s)||n.get(t,s,r),has:(t,s)=>!!_p(t,s)||n.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(WI(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function WI(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const su="@firebase/app",bp="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new fh("@firebase/app"),GI="@firebase/app-compat",QI="@firebase/analytics-compat",YI="@firebase/analytics",XI="@firebase/app-check-compat",JI="@firebase/app-check",ZI="@firebase/auth",eC="@firebase/auth-compat",tC="@firebase/database",nC="@firebase/database-compat",sC="@firebase/functions",rC="@firebase/functions-compat",iC="@firebase/installations",oC="@firebase/installations-compat",aC="@firebase/messaging",cC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",hC="@firebase/remote-config",fC="@firebase/remote-config-compat",dC="@firebase/storage",pC="@firebase/storage-compat",gC="@firebase/firestore",mC="@firebase/firestore-compat",yC="firebase",vC="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="[DEFAULT]",_C={[su]:"fire-core",[GI]:"fire-core-compat",[YI]:"fire-analytics",[QI]:"fire-analytics-compat",[JI]:"fire-app-check",[XI]:"fire-app-check-compat",[ZI]:"fire-auth",[eC]:"fire-auth-compat",[tC]:"fire-rtdb",[nC]:"fire-rtdb-compat",[sC]:"fire-fn",[rC]:"fire-fn-compat",[iC]:"fire-iid",[oC]:"fire-iid-compat",[aC]:"fire-fcm",[cC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[hC]:"fire-rc",[fC]:"fire-rc-compat",[dC]:"fire-gcs",[pC]:"fire-gcs-compat",[gC]:"fire-fst",[mC]:"fire-fst-compat","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Map,iu=new Map;function bC(n,t){try{n.container.addComponent(t)}catch(s){Xs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,s)}}function Dr(n){const t=n.name;if(iu.has(t))return Xs.debug(`There were multiple attempts to register component ${t}.`),!1;iu.set(t,n);for(const s of La.values())bC(s,n);return!0}function ph(n,t){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ls=new co("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,s,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=vC;function Uy(n,t={}){let s=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ru,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ls.create("bad-app-name",{appName:String(i)});if(s||(s=hI()),!s)throw ls.create("no-options");const o=La.get(i);if(o){if(Pa(s,o.options)&&Pa(r,o.config))return o;throw ls.create("duplicate-app",{appName:i})}const a=new DI(i);for(const l of iu.values())a.addComponent(l);const c=new EC(s,r,a);return La.set(i,c),c}function By(n=ru){const t=La.get(n);if(!t&&n===ru)return Uy();if(!t)throw ls.create("no-app",{appName:n});return t}function us(n,t,s){var r;let i=(r=_C[n])!==null&&r!==void 0?r:n;s&&(i+=`-${s}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${t}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xs.warn(c.join(" "));return}Dr(new Ys(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebase-heartbeat-database",AC=1,zi="firebase-heartbeat-store";let Tl=null;function jy(){return Tl||(Tl=HI(TC,AC,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(zi)}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),Tl}async function IC(n){try{return(await jy()).transaction(zi).objectStore(zi).get($y(n))}catch(t){if(t instanceof qn)Xs.warn(t.message);else{const s=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xs.warn(s.message)}}}async function wp(n,t){try{const r=(await jy()).transaction(zi,"readwrite");return await r.objectStore(zi).put(t,$y(n)),r.done}catch(s){if(s instanceof qn)Xs.warn(s.message);else{const r=ls.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Xs.warn(r.message)}}}function $y(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1024,SC=30*24*60*60*1e3;class kC{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new DC(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ep();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=SC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ep(),{heartbeatsToSend:s,unsentEntries:r}=OC(this._heartbeatsCache.heartbeats),i=Ra(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ep(){return new Date().toISOString().substring(0,10)}function OC(n,t=CC){const s=[];let r=n.slice();for(const i of n){const o=s.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Tp(s)>t){o.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),Tp(s)>t){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class DC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await IC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return wp(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return wp(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Tp(n){return Ra(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){Dr(new Ys("platform-logger",t=>new zI(t),"PRIVATE")),Dr(new Ys("heartbeat",t=>new kC(t),"PRIVATE")),us(su,bp,n),us(su,bp,"esm2017"),us("fire-js","")}NC("");var xC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se,gh=gh||{},pe=xC||self;function Ma(){}function _c(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function ho(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function RC(n){return Object.prototype.hasOwnProperty.call(n,Al)&&n[Al]||(n[Al]=++PC)}var Al="closure_uid_"+(1e9*Math.random()>>>0),PC=0;function LC(n,t,s){return n.call.apply(n.bind,arguments)}function MC(n,t,s){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function _t(n,t,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=LC:_t=MC,_t.apply(null,arguments)}function Xo(n,t){var s=Array.prototype.slice.call(arguments,1);return function(){var r=s.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function dt(n,t){function s(){}s.prototype=t.prototype,n.X=t.prototype,n.prototype=new s,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function vs(){this.s=this.s,this.o=this.o}var FC=0;vs.prototype.s=!1;vs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),FC!=0)&&RC(this)};vs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vy=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let s=0;s<n.length;s++)if(s in n&&n[s]===t)return s;return-1};function mh(n){const t=n.length;if(0<t){const s=Array(t);for(let r=0;r<t;r++)s[r]=n[r];return s}return[]}function Ap(n,t){for(let s=1;s<arguments.length;s++){const r=arguments[s];if(_c(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let a=0;a<o;a++)n[i+a]=r[a]}else n.push(r)}}function bt(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var UC=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pe.addEventListener("test",Ma,t),pe.removeEventListener("test",Ma,t)}catch{}return n}();function Fa(n){return/^[\s\xa0]*$/.test(n)}var Ip=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Il(n,t){return n<t?-1:n>t?1:0}function bc(){var n=pe.navigator;return n&&(n=n.userAgent)?n:""}function mn(n){return bc().indexOf(n)!=-1}function yh(n){return yh[" "](n),n}yh[" "]=Ma;function BC(n){var t=VC;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}var jC=mn("Opera"),Nr=mn("Trident")||mn("MSIE"),Hy=mn("Edge"),ou=Hy||Nr,qy=mn("Gecko")&&!(bc().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge"))&&!(mn("Trident")||mn("MSIE"))&&!mn("Edge"),$C=bc().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge");function Ky(){var n=pe.document;return n?n.documentMode:void 0}var Ua;e:{var Cl="",Sl=function(){var n=bc();if(qy)return/rv:([^\);]+)(\)|;)/.exec(n);if(Hy)return/Edge\/([\d\.]+)/.exec(n);if(Nr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if($C)return/WebKit\/(\S+)/.exec(n);if(jC)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(Sl&&(Cl=Sl?Sl[1]:""),Nr){var kl=Ky();if(kl!=null&&kl>parseFloat(Cl)){Ua=String(kl);break e}}Ua=Cl}var VC={};function HC(){return BC(function(){let n=0;const t=Ip(String(Ua)).split("."),s=Ip("9").split("."),r=Math.max(t.length,s.length);for(let a=0;n==0&&a<r;a++){var i=t[a]||"",o=s[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;n=Il(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||Il(i[2].length==0,o[2].length==0)||Il(i[2],o[2]),i=i[3],o=o[3]}while(n==0)}return 0<=n})}var au;if(pe.document&&Nr){var Cp=Ky();au=Cp||parseInt(Ua,10)||void 0}else au=void 0;var qC=au;function Wi(n,t){if(bt.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var s=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(qy){e:{try{yh(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else s=="mouseover"?t=n.fromElement:s=="mouseout"&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:KC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wi.X.h.call(this)}}dt(Wi,bt);var KC={2:"touch",3:"pen",4:"mouse"};Wi.prototype.h=function(){Wi.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fo="closure_listenable_"+(1e6*Math.random()|0),zC=0;function WC(n,t,s,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=s,this.capture=!!r,this.ha=i,this.key=++zC,this.ba=this.ea=!1}function wc(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function vh(n,t,s){for(const r in n)t.call(s,n[r],r,n)}function zy(n){const t={};for(const s in n)t[s]=n[s];return t}const Sp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wy(n,t){let s,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(s in r)n[s]=r[s];for(let o=0;o<Sp.length;o++)s=Sp[o],Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}}function Ec(n){this.src=n,this.g={},this.h=0}Ec.prototype.add=function(n,t,s,r,i){var o=n.toString();n=this.g[o],n||(n=this.g[o]=[],this.h++);var a=lu(n,t,r,i);return-1<a?(t=n[a],s||(t.ea=!1)):(t=new WC(t,this.src,o,!!r,i),t.ea=s,n.push(t)),t};function cu(n,t){var s=t.type;if(s in n.g){var r=n.g[s],i=Vy(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(wc(t),n.g[s].length==0&&(delete n.g[s],n.h--))}}function lu(n,t,s,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==t&&o.capture==!!s&&o.ha==r)return i}return-1}var _h="closure_lm_"+(1e6*Math.random()|0),Ol={};function Gy(n,t,s,r,i){if(r&&r.once)return Yy(n,t,s,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Gy(n,t[o],s,r,i);return null}return s=Eh(s),n&&n[fo]?n.N(t,s,ho(r)?!!r.capture:!!r,i):Qy(n,t,s,!1,r,i)}function Qy(n,t,s,r,i,o){if(!t)throw Error("Invalid event type");var a=ho(i)?!!i.capture:!!i,c=wh(n);if(c||(n[_h]=c=new Ec(n)),s=c.add(t,s,r,a,o),s.proxy)return s;if(r=GC(),s.proxy=r,r.src=n,r.listener=s,n.addEventListener)UC||(i=a),i===void 0&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(Jy(t.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return s}function GC(){function n(s){return t.call(n.src,n.listener,s)}const t=QC;return n}function Yy(n,t,s,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Yy(n,t[o],s,r,i);return null}return s=Eh(s),n&&n[fo]?n.O(t,s,ho(r)?!!r.capture:!!r,i):Qy(n,t,s,!0,r,i)}function Xy(n,t,s,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Xy(n,t[o],s,r,i);else r=ho(r)?!!r.capture:!!r,s=Eh(s),n&&n[fo]?(n=n.i,t=String(t).toString(),t in n.g&&(o=n.g[t],s=lu(o,s,r,i),-1<s&&(wc(o[s]),Array.prototype.splice.call(o,s,1),o.length==0&&(delete n.g[t],n.h--)))):n&&(n=wh(n))&&(t=n.g[t.toString()],n=-1,t&&(n=lu(t,s,r,i)),(s=-1<n?t[n]:null)&&bh(s))}function bh(n){if(typeof n!="number"&&n&&!n.ba){var t=n.src;if(t&&t[fo])cu(t.i,n);else{var s=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(s,r,n.capture):t.detachEvent?t.detachEvent(Jy(s),r):t.addListener&&t.removeListener&&t.removeListener(r),(s=wh(t))?(cu(s,n),s.h==0&&(s.src=null,t[_h]=null)):wc(n)}}}function Jy(n){return n in Ol?Ol[n]:Ol[n]="on"+n}function QC(n,t){if(n.ba)n=!0;else{t=new Wi(t,this);var s=n.listener,r=n.ha||n.src;n.ea&&bh(n),n=s.call(r,t)}return n}function wh(n){return n=n[_h],n instanceof Ec?n:null}var Dl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(n){return typeof n=="function"?n:(n[Dl]||(n[Dl]=function(t){return n.handleEvent(t)}),n[Dl])}function ct(){vs.call(this),this.i=new Ec(this),this.P=this,this.I=null}dt(ct,vs);ct.prototype[fo]=!0;ct.prototype.removeEventListener=function(n,t,s,r){Xy(this,n,t,s,r)};function ft(n,t){var s,r=n.I;if(r)for(s=[];r;r=r.I)s.push(r);if(n=n.P,r=t.type||t,typeof t=="string")t=new bt(t,n);else if(t instanceof bt)t.target=t.target||n;else{var i=t;t=new bt(r,n),Wy(t,i)}if(i=!0,s)for(var o=s.length-1;0<=o;o--){var a=t.g=s[o];i=Jo(a,r,!0,t)&&i}if(a=t.g=n,i=Jo(a,r,!0,t)&&i,i=Jo(a,r,!1,t)&&i,s)for(o=0;o<s.length;o++)a=t.g=s[o],i=Jo(a,r,!1,t)&&i}ct.prototype.M=function(){if(ct.X.M.call(this),this.i){var n=this.i,t;for(t in n.g){for(var s=n.g[t],r=0;r<s.length;r++)wc(s[r]);delete n.g[t],n.h--}}this.I=null};ct.prototype.N=function(n,t,s,r){return this.i.add(String(n),t,!1,s,r)};ct.prototype.O=function(n,t,s,r){return this.i.add(String(n),t,!0,s,r)};function Jo(n,t,s,r){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ba&&a.capture==s){var c=a.listener,l=a.ha||a.src;a.ea&&cu(n.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Th=pe.JSON.stringify;function YC(){var n=tv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class XC{constructor(){this.h=this.g=null}add(t,s){const r=Zy.get();r.set(t,s),this.h?this.h.next=r:this.g=r,this.h=r}}var Zy=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new JC,n=>n.reset());class JC{constructor(){this.next=this.g=this.h=null}set(t,s){this.h=t,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function ZC(n){pe.setTimeout(()=>{throw n},0)}function ev(n,t){uu||eS(),hu||(uu(),hu=!0),tv.add(n,t)}var uu;function eS(){var n=pe.Promise.resolve(void 0);uu=function(){n.then(tS)}}var hu=!1,tv=new XC;function tS(){for(var n;n=YC();){try{n.h.call(n.g)}catch(s){ZC(s)}var t=Zy;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}hu=!1}function Tc(n,t){ct.call(this),this.h=n||1,this.g=t||pe,this.j=_t(this.lb,this),this.l=Date.now()}dt(Tc,ct);se=Tc.prototype;se.ca=!1;se.R=null;se.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ft(this,"tick"),this.ca&&(Ah(this),this.start()))}};se.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ah(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}se.M=function(){Tc.X.M.call(this),Ah(this),delete this.g};function Ih(n,t,s){if(typeof n=="function")s&&(n=_t(n,s));else if(n&&typeof n.handleEvent=="function")n=_t(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:pe.setTimeout(n,t||0)}function nv(n){n.g=Ih(()=>{n.g=null,n.i&&(n.i=!1,nv(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class nS extends vs{constructor(t,s){super(),this.m=t,this.j=s,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nv(this)}M(){super.M(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(n){vs.call(this),this.h=n,this.g={}}dt(Gi,vs);var kp=[];function sv(n,t,s,r){Array.isArray(s)||(s&&(kp[0]=s.toString()),s=kp);for(var i=0;i<s.length;i++){var o=Gy(t,s[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function rv(n){vh(n.g,function(t,s){this.g.hasOwnProperty(s)&&bh(t)},n),n.g={}}Gi.prototype.M=function(){Gi.X.M.call(this),rv(this)};Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ac(){this.g=!0}Ac.prototype.Aa=function(){this.g=!1};function sS(n,t,s,r,i,o){n.info(function(){if(n.g)if(o)for(var a="",c=o.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var f=h[0];h=h[1];var d=f.split("_");a=2<=d.length&&d[1]=="type"?a+(f+"="+h+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+s+`
`+a})}function rS(n,t,s,r,i,o,a){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+s+`
`+o+" "+a})}function mr(n,t,s,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+oS(n,s)+(r?" "+r:"")})}function iS(n,t){n.info(function(){return"TIMEOUT: "+t})}Ac.prototype.info=function(){};function oS(n,t){if(!n.g)return t;if(!t)return null;try{var s=JSON.parse(t);if(s){for(n=0;n<s.length;n++)if(Array.isArray(s[n])){var r=s[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Th(s)}catch{return t}}var rr={},Op=null;function Ic(){return Op=Op||new ct}rr.Pa="serverreachability";function iv(n){bt.call(this,rr.Pa,n)}dt(iv,bt);function Qi(n){const t=Ic();ft(t,new iv(t))}rr.STAT_EVENT="statevent";function ov(n,t){bt.call(this,rr.STAT_EVENT,n),this.stat=t}dt(ov,bt);function St(n){const t=Ic();ft(t,new ov(t,n))}rr.Qa="timingevent";function av(n,t){bt.call(this,rr.Qa,n),this.size=t}dt(av,bt);function po(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){n()},t)}var Cc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},cv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ch(){}Ch.prototype.h=null;function Dp(n){return n.h||(n.h=n.i())}function lv(){}var go={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Sh(){bt.call(this,"d")}dt(Sh,bt);function kh(){bt.call(this,"c")}dt(kh,bt);var fu;function Sc(){}dt(Sc,Ch);Sc.prototype.g=function(){return new XMLHttpRequest};Sc.prototype.i=function(){return{}};fu=new Sc;function mo(n,t,s,r){this.l=n,this.j=t,this.m=s,this.U=r||1,this.S=new Gi(this),this.O=aS,n=ou?125:void 0,this.T=new Tc(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new uv}function uv(){this.i=null,this.g="",this.h=!1}var aS=45e3,du={},Ba={};se=mo.prototype;se.setTimeout=function(n){this.O=n};function pu(n,t,s){n.K=1,n.v=Oc(Fn(t)),n.s=s,n.P=!0,hv(n,null)}function hv(n,t){n.F=Date.now(),yo(n),n.A=Fn(n.v);var s=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),_v(s.i,"t",r),n.C=0,s=n.l.H,n.h=new uv,n.g=jv(n.l,s?t:null,!n.s),0<n.N&&(n.L=new nS(_t(n.La,n,n.g),n.N)),sv(n.S,n.g,"readystatechange",n.ib),t=n.H?zy(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),Qi(),sS(n.j,n.u,n.A,n.m,n.U,n.s)}se.ib=function(n){n=n.target;const t=this.L;t&&Dn(n)==3?t.l():this.La(n)};se.La=function(n){try{if(n==this.g)e:{const f=Dn(this.g);var t=this.g.Ea();const d=this.g.aa();if(!(3>f)&&(f!=3||ou||this.g&&(this.h.h||this.g.fa()||Pp(this.g)))){this.I||f!=4||t==7||(t==8||0>=d?Qi(3):Qi(2)),kc(this);var s=this.g.aa();this.Y=s;t:if(fv(this)){var r=Pp(this.g);n="";var i=r.length,o=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),Si(this);var a="";break t}this.h.i=new pe.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=s==200,rS(this.j,this.u,this.A,this.m,this.U,f,s),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fa(c)){var h=c;break t}}h=null}if(s=h)mr(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gu(this,s);else{this.i=!1,this.o=3,St(12),js(this),Si(this);break e}}this.P?(dv(this,f,a),ou&&this.i&&f==3&&(sv(this.S,this.T,"tick",this.hb),this.T.start())):(mr(this.j,this.m,a,null),gu(this,a)),f==4&&js(this),this.i&&!this.I&&(f==4?Mv(this.l,this):(this.i=!1,yo(this)))}else s==400&&0<a.indexOf("Unknown SID")?(this.o=3,St(12)):(this.o=0,St(13)),js(this),Si(this)}}}catch{}finally{}};function fv(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Da:!1}function dv(n,t,s){let r=!0,i;for(;!n.I&&n.C<s.length;)if(i=cS(n,s),i==Ba){t==4&&(n.o=4,St(14),r=!1),mr(n.j,n.m,null,"[Incomplete Response]");break}else if(i==du){n.o=4,St(15),mr(n.j,n.m,s,"[Invalid Chunk]"),r=!1;break}else mr(n.j,n.m,i,null),gu(n,i);fv(n)&&i!=Ba&&i!=du&&(n.h.g="",n.C=0),t!=4||s.length!=0||n.h.h||(n.o=1,St(16),r=!1),n.i=n.i&&r,r?0<s.length&&!n.$&&(n.$=!0,t=n.l,t.g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),Lh(t),t.K=!0,St(11))):(mr(n.j,n.m,s,"[Invalid Chunked Response]"),js(n),Si(n))}se.hb=function(){if(this.g){var n=Dn(this.g),t=this.g.fa();this.C<t.length&&(kc(this),dv(this,n,t),this.i&&n!=4&&yo(this))}};function cS(n,t){var s=n.C,r=t.indexOf(`
`,s);return r==-1?Ba:(s=Number(t.substring(s,r)),isNaN(s)?du:(r+=1,r+s>t.length?Ba:(t=t.substr(r,s),n.C=r+s,t)))}se.cancel=function(){this.I=!0,js(this)};function yo(n){n.V=Date.now()+n.O,pv(n,n.O)}function pv(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=po(_t(n.gb,n),t)}function kc(n){n.B&&(pe.clearTimeout(n.B),n.B=null)}se.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(iS(this.j,this.A),this.K!=2&&(Qi(),St(17)),js(this),this.o=2,Si(this)):pv(this,this.V-n)};function Si(n){n.l.G==0||n.I||Mv(n.l,n)}function js(n){kc(n);var t=n.L;t&&typeof t.na=="function"&&t.na(),n.L=null,Ah(n.T),rv(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function gu(n,t){try{var s=n.l;if(s.G!=0&&(s.g==n||mu(s.h,n))){if(!n.J&&mu(s.h,n)&&s.G==3){try{var r=s.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!s.u){if(s.g)if(s.g.F+3e3<n.F)Va(s),xc(s);else break e;Ph(s),St(18)}}else s.Ba=i[1],0<s.Ba-s.T&&37500>i[2]&&s.L&&s.A==0&&!s.v&&(s.v=po(_t(s.cb,s),6e3));if(1>=Ev(s.h)&&s.ja){try{s.ja()}catch{}s.ja=void 0}}else $s(s,11)}else if((n.J||s.g==n)&&Va(s),!Fa(t))for(i=s.Fa.g.parse(t),t=0;t<i.length;t++){let h=i[t];if(s.T=h[0],h=h[1],s.G==2)if(h[0]=="c"){s.I=h[1],s.ka=h[2];const f=h[3];f!=null&&(s.ma=f,s.j.info("VER="+s.ma));const d=h[4];d!=null&&(s.Ca=d,s.j.info("SVER="+s.Ca));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,s.J=r,s.j.info("backChannelRequestTimeoutMs_="+r)),r=s;const m=n.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.h;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Oh(o,o.h),o.h=null))}if(r.D){const E=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.za=E,$e(r.F,r.D,E))}}s.G=3,s.l&&s.l.xa(),s.$&&(s.P=Date.now()-n.F,s.j.info("Handshake RTT: "+s.P+"ms")),r=s;var a=n;if(r.sa=Bv(r,r.H?r.ka:null,r.V),a.J){Tv(r.h,a);var c=a,l=r.J;l&&c.setTimeout(l),c.B&&(kc(c),yo(c)),r.g=a}else Pv(r);0<s.i.length&&Rc(s)}else h[0]!="stop"&&h[0]!="close"||$s(s,7);else s.G==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?$s(s,7):Rh(s):h[0]!="noop"&&s.l&&s.l.wa(h),s.A=0)}}Qi(4)}catch{}}function lS(n){if(n.W&&typeof n.W=="function")return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(_c(n)){for(var t=[],s=n.length,r=0;r<s;r++)t.push(n[r]);return t}t=[],s=0;for(r in n)t[s++]=n[r];return t}function uS(n){if(n.oa&&typeof n.oa=="function")return n.oa();if(!n.W||typeof n.W!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(_c(n)||typeof n=="string"){var t=[];n=n.length;for(var s=0;s<n;s++)t.push(s);return t}t=[],s=0;for(const r in n)t[s++]=r;return t}}}function gv(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(_c(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var s=uS(n),r=lS(n),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],s&&s[o],n)}var mv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hS(n,t){if(n){n=n.split("&");for(var s=0;s<n.length;s++){var r=n[s].indexOf("="),i=null;if(0<=r){var o=n[s].substring(0,r);i=n[s].substring(r+1)}else o=n[s];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function zs(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zs){this.h=t!==void 0?t:n.h,ja(this,n.j),this.s=n.s,this.g=n.g,$a(this,n.m),this.l=n.l,t=n.i;var s=new Yi;s.i=t.i,t.g&&(s.g=new Map(t.g),s.h=t.h),Np(this,s),this.o=n.o}else n&&(s=String(n).match(mv))?(this.h=!!t,ja(this,s[1]||"",!0),this.s=gi(s[2]||""),this.g=gi(s[3]||"",!0),$a(this,s[4]),this.l=gi(s[5]||"",!0),Np(this,s[6]||"",!0),this.o=gi(s[7]||"")):(this.h=!!t,this.i=new Yi(null,this.h))}zs.prototype.toString=function(){var n=[],t=this.j;t&&n.push(mi(t,xp,!0),":");var s=this.g;return(s||t=="file")&&(n.push("//"),(t=this.s)&&n.push(mi(t,xp,!0),"@"),n.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.m,s!=null&&n.push(":",String(s))),(s=this.l)&&(this.g&&s.charAt(0)!="/"&&n.push("/"),n.push(mi(s,s.charAt(0)=="/"?pS:dS,!0))),(s=this.i.toString())&&n.push("?",s),(s=this.o)&&n.push("#",mi(s,mS)),n.join("")};function Fn(n){return new zs(n)}function ja(n,t,s){n.j=s?gi(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function $a(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Np(n,t,s){t instanceof Yi?(n.i=t,yS(n.i,n.h)):(s||(t=mi(t,gS)),n.i=new Yi(t,n.h))}function $e(n,t,s){n.i.set(t,s)}function Oc(n){return $e(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gi(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mi(n,t,s){return typeof n=="string"?(n=encodeURI(n).replace(t,fS),s&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fS(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var xp=/[#\/\?@]/g,dS=/[#\?:]/g,pS=/[#\?]/g,gS=/[#\?@]/g,mS=/#/g;function Yi(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function _s(n){n.g||(n.g=new Map,n.h=0,n.i&&hS(n.i,function(t,s){n.add(decodeURIComponent(t.replace(/\+/g," ")),s)}))}se=Yi.prototype;se.add=function(n,t){_s(this),this.i=null,n=Gr(this,n);var s=this.g.get(n);return s||this.g.set(n,s=[]),s.push(t),this.h+=1,this};function yv(n,t){_s(n),t=Gr(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function vv(n,t){return _s(n),t=Gr(n,t),n.g.has(t)}se.forEach=function(n,t){_s(this),this.g.forEach(function(s,r){s.forEach(function(i){n.call(t,i,r,this)},this)},this)};se.oa=function(){_s(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),s=[];for(let r=0;r<t.length;r++){const i=n[r];for(let o=0;o<i.length;o++)s.push(t[r])}return s};se.W=function(n){_s(this);let t=[];if(typeof n=="string")vv(this,n)&&(t=t.concat(this.g.get(Gr(this,n))));else{n=Array.from(this.g.values());for(let s=0;s<n.length;s++)t=t.concat(n[s])}return t};se.set=function(n,t){return _s(this),this.i=null,n=Gr(this,n),vv(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};se.get=function(n,t){return n?(n=this.W(n),0<n.length?String(n[0]):t):t};function _v(n,t,s){yv(n,t),0<s.length&&(n.i=null,n.g.set(Gr(n,t),mh(s)),n.h+=s.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var s=0;s<t.length;s++){var r=t[s];const o=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var i=o;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),n.push(i)}}return this.i=n.join("&")};function Gr(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function yS(n,t){t&&!n.j&&(_s(n),n.i=null,n.g.forEach(function(s,r){var i=r.toLowerCase();r!=i&&(yv(this,r),_v(this,i,s))},n)),n.j=t}var vS=class{constructor(t,s){this.h=t,this.g=s}};function bv(n){this.l=n||_S,pe.PerformanceNavigationTiming?(n=pe.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(pe.g&&pe.g.Ga&&pe.g.Ga()&&pe.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _S=10;function wv(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function Ev(n){return n.h?1:n.g?n.g.size:0}function mu(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function Oh(n,t){n.g?n.g.add(t):n.h=t}function Tv(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}bv.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function Av(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const s of n.g.values())t=t.concat(s.D);return t}return mh(n.i)}function Dh(){}Dh.prototype.stringify=function(n){return pe.JSON.stringify(n,void 0)};Dh.prototype.parse=function(n){return pe.JSON.parse(n,void 0)};function bS(){this.g=new Dh}function wS(n,t,s){const r=s||"";try{gv(n,function(i,o){let a=i;ho(i)&&(a=Th(i)),t.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ES(n,t){const s=new Ac;if(pe.Image){const r=new Image;r.onload=Xo(Zo,s,r,"TestLoadImage: loaded",!0,t),r.onerror=Xo(Zo,s,r,"TestLoadImage: error",!1,t),r.onabort=Xo(Zo,s,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xo(Zo,s,r,"TestLoadImage: timeout",!1,t),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}function Zo(n,t,s,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function vo(n){this.l=n.ac||null,this.j=n.jb||!1}dt(vo,Ch);vo.prototype.g=function(){return new Dc(this.l,this.j)};vo.prototype.i=function(n){return function(){return n}}({});function Dc(n,t){ct.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Nh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Dc,ct);var Nh=0;se=Dc.prototype;se.open=function(n,t){if(this.readyState!=Nh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Xi(this)};se.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||pe).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=Nh};se.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))};function Iv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}se.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?_o(this):Xi(this),this.readyState==3&&Iv(this)}};se.Va=function(n){this.g&&(this.response=this.responseText=n,_o(this))};se.Ua=function(n){this.g&&(this.response=n,_o(this))};se.ga=function(){this.g&&_o(this)};function _o(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xi(n)}se.setRequestHeader=function(n,t){this.v.append(n,t)};se.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var s=t.next();!s.done;)s=s.value,n.push(s[0]+": "+s[1]),s=t.next();return n.join(`\r
`)};function Xi(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var TS=pe.JSON.parse;function Ge(n){ct.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cv,this.K=this.L=!1}dt(Ge,ct);var Cv="",AS=/^https?$/i,IS=["POST","PUT"];se=Ge.prototype;se.Ka=function(n){this.L=n};se.da=function(n,t,s,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fu.g(),this.C=this.u?Dp(this.u):Dp(fu),this.g.onreadystatechange=_t(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){Rp(this,o);return}if(n=s||"",s=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)s.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())s.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(s.keys()).find(o=>o.toLowerCase()=="content-type"),i=pe.FormData&&n instanceof pe.FormData,!(0<=Vy(IS,t))||r||i||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of s)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ov(this),0<this.B&&((this.K=CS(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.qa,this)):this.A=Ih(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Rp(this,o)}};function CS(n){return Nr&&HC()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}se.qa=function(){typeof gh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))};function Rp(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Sv(n),Nc(n)}function Sv(n){n.D||(n.D=!0,ft(n,"complete"),ft(n,"error"))}se.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ft(this,"complete"),ft(this,"abort"),Nc(this))};se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nc(this,!0)),Ge.X.M.call(this)};se.Ha=function(){this.s||(this.F||this.v||this.l?kv(this):this.fb())};se.fb=function(){kv(this)};function kv(n){if(n.h&&typeof gh<"u"&&(!n.C[1]||Dn(n)!=4||n.aa()!=2)){if(n.v&&Dn(n)==4)Ih(n.Ha,0,n);else if(ft(n,"readystatechange"),Dn(n)==4){n.h=!1;try{const c=n.aa();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var s;if(!(s=t)){var r;if(r=c===0){var i=String(n.H).match(mv)[1]||null;if(!i&&pe.self&&pe.self.location){var o=pe.self.location.protocol;i=o.substr(0,o.length-1)}r=!AS.test(i?i.toLowerCase():"")}s=r}if(s)ft(n,"complete"),ft(n,"success");else{n.m=6;try{var a=2<Dn(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.aa()+"]",Sv(n)}}finally{Nc(n)}}}}function Nc(n,t){if(n.g){Ov(n);const s=n.g,r=n.C[0]?Ma:null;n.g=null,n.C=null,t||ft(n,"ready");try{s.onreadystatechange=r}catch{}}}function Ov(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(pe.clearTimeout(n.A),n.A=null)}function Dn(n){return n.g?n.g.readyState:0}se.aa=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}};se.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),TS(t)}};function Pp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Cv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}se.Ea=function(){return this.m};se.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Dv(n){let t="";return vh(n,function(s,r){t+=r,t+=":",t+=s,t+=`\r
`}),t}function xh(n,t,s){e:{for(r in s){var r=!1;break e}r=!0}r||(s=Dv(s),typeof n=="string"?s!=null&&encodeURIComponent(String(s)):$e(n,t,s))}function ui(n,t,s){return s&&s.internalChannelParams&&s.internalChannelParams[n]||t}function Nv(n){this.Ca=0,this.i=[],this.j=new Ac,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ui("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ui("baseRetryDelayMs",5e3,n),this.bb=ui("retryDelaySeedMs",1e4,n),this.$a=ui("forwardChannelMaxRetries",2,n),this.ta=ui("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new bv(n&&n.concurrentRequestLimit),this.Fa=new bS,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}se=Nv.prototype;se.ma=8;se.G=1;function Rh(n){if(xv(n),n.G==3){var t=n.U++,s=Fn(n.F);$e(s,"SID",n.I),$e(s,"RID",t),$e(s,"TYPE","terminate"),bo(n,s),t=new mo(n,n.j,t,void 0),t.K=2,t.v=Oc(Fn(s)),s=!1,pe.navigator&&pe.navigator.sendBeacon&&(s=pe.navigator.sendBeacon(t.v.toString(),"")),!s&&pe.Image&&(new Image().src=t.v,s=!0),s||(t.g=jv(t.l,null),t.g.da(t.v)),t.F=Date.now(),yo(t)}Uv(n)}function xc(n){n.g&&(Lh(n),n.g.cancel(),n.g=null)}function xv(n){xc(n),n.u&&(pe.clearTimeout(n.u),n.u=null),Va(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&pe.clearTimeout(n.m),n.m=null)}function Rc(n){wv(n.h)||n.m||(n.m=!0,ev(n.Ja,n),n.C=0)}function SS(n,t){return Ev(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=t.D.concat(n.i),!0):n.G==1||n.G==2||n.C>=(n.Za?0:n.$a)?!1:(n.m=po(_t(n.Ja,n,t),Fv(n,n.C)),n.C++,!0)}se.Ja=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new mo(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=zy(o),Wy(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var t=0,s=0;s<this.i.length;s++){t:{var r=this.i[s];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=s;break e}if(t===4096||s===this.i.length-1){t=s+1;break e}}t=1e3}else t=1e3;t=Rv(this,i,t),s=Fn(this.F),$e(s,"RID",n),$e(s,"CVER",22),this.D&&$e(s,"X-HTTP-Session-Id",this.D),bo(this,s),o&&(this.N?t="headers="+encodeURIComponent(String(Dv(o)))+"&"+t:this.o&&xh(s,this.o,o)),Oh(this.h,i),this.Ya&&$e(s,"TYPE","init"),this.O?($e(s,"$req",t),$e(s,"SID","null"),i.Z=!0,pu(i,s,null)):pu(i,s,t),this.G=2}}else this.G==3&&(n?Lp(this,n):this.i.length==0||wv(this.h)||Lp(this))};function Lp(n,t){var s;t?s=t.m:s=n.U++;const r=Fn(n.F);$e(r,"SID",n.I),$e(r,"RID",s),$e(r,"AID",n.T),bo(n,r),n.o&&n.s&&xh(r,n.o,n.s),s=new mo(n,n.j,s,n.C+1),n.o===null&&(s.H=n.s),t&&(n.i=t.D.concat(n.i)),t=Rv(n,s,1e3),s.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Oh(n.h,s),pu(s,r,t)}function bo(n,t){n.ia&&vh(n.ia,function(s,r){$e(t,r,s)}),n.l&&gv({},function(s,r){$e(t,r,s)})}function Rv(n,t,s){s=Math.min(n.i.length,s);var r=n.l?_t(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const a=["count="+s];o==-1?0<s?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let l=0;l<s;l++){let h=i[l].h;const f=i[l].g;if(h-=o,0>h)o=Math.max(0,i[l].h-100),c=!1;else try{wS(f,a,"req"+h+"_")}catch{r&&r(f)}}if(c){r=a.join("&");break e}}}return n=n.i.splice(0,s),t.D=n,r}function Pv(n){n.g||n.u||(n.Z=1,ev(n.Ia,n),n.A=0)}function Ph(n){return n.g||n.u||3<=n.A?!1:(n.Z++,n.u=po(_t(n.Ia,n),Fv(n,n.A)),n.A++,!0)}se.Ia=function(){if(this.u=null,Lv(this),this.$&&!(this.K||this.g==null||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=po(_t(this.eb,this),n)}};se.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,St(10),xc(this),Lv(this))};function Lh(n){n.B!=null&&(pe.clearTimeout(n.B),n.B=null)}function Lv(n){n.g=new mo(n,n.j,"rpc",n.Z),n.o===null&&(n.g.H=n.s),n.g.N=0;var t=Fn(n.sa);$e(t,"RID","rpc"),$e(t,"SID",n.I),$e(t,"CI",n.L?"0":"1"),$e(t,"AID",n.T),$e(t,"TYPE","xmlhttp"),bo(n,t),n.o&&n.s&&xh(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var s=n.g;n=n.ka,s.K=1,s.v=Oc(Fn(t)),s.s=null,s.P=!0,hv(s,n)}se.cb=function(){this.v!=null&&(this.v=null,xc(this),Ph(this),St(19))};function Va(n){n.v!=null&&(pe.clearTimeout(n.v),n.v=null)}function Mv(n,t){var s=null;if(n.g==t){Va(n),Lh(n),n.g=null;var r=2}else if(mu(n.h,t))s=t.D,Tv(n.h,t),r=1;else return;if(n.G!=0){if(n.pa=t.Y,t.i)if(r==1){s=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;r=Ic(),ft(r,new av(r,s)),Rc(n)}else Pv(n);else if(i=t.o,i==3||i==0&&0<n.pa||!(r==1&&SS(n,t)||r==2&&Ph(n)))switch(s&&0<s.length&&(t=n.h,t.i=t.i.concat(s)),i){case 1:$s(n,5);break;case 4:$s(n,10);break;case 3:$s(n,6);break;default:$s(n,2)}}}function Fv(n,t){let s=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(s*=2),s*t}function $s(n,t){if(n.j.info("Error code "+t),t==2){var s=null;n.l&&(s=null);var r=_t(n.kb,n);s||(s=new zs("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||ja(s,"https"),Oc(s)),ES(s.toString(),r)}else St(2);n.G=0,n.l&&n.l.va(t),Uv(n),xv(n)}se.kb=function(n){n?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Uv(n){if(n.G=0,n.la=[],n.l){const t=Av(n.h);(t.length!=0||n.i.length!=0)&&(Ap(n.la,t),Ap(n.la,n.i),n.h.i.length=0,mh(n.i),n.i.length=0),n.l.ua()}}function Bv(n,t,s){var r=s instanceof zs?Fn(s):new zs(s,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),$a(r,r.m);else{var i=pe.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new zs(null,void 0);r&&ja(o,r),t&&(o.g=t),i&&$a(o,i),s&&(o.l=s),r=o}return s=n.D,t=n.za,s&&t&&$e(r,s,t),$e(r,"VER",n.ma),bo(n,r),r}function jv(n,t,s){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=s&&n.Da&&!n.ra?new Ge(new vo({jb:!0})):new Ge(n.ra),t.Ka(n.H),t}function $v(){}se=$v.prototype;se.xa=function(){};se.wa=function(){};se.va=function(){};se.ua=function(){};se.Ra=function(){};function Ha(){if(Nr&&!(10<=Number(qC)))throw Error("Environmental error: no available transport.")}Ha.prototype.g=function(n,t){return new $t(n,t)};function $t(n,t){ct.call(this),this.g=new Nv(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Fa(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fa(t)&&(this.g.D=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Qr(this)}dt($t,ct);$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,s=this.h||void 0;St(0),n.V=t,n.ia=s||{},n.L=n.Y,n.F=Bv(n,null,n.V),Rc(n)};$t.prototype.close=function(){Rh(this.g)};$t.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var s={};s.__data__=n,n=s}else this.v&&(s={},s.__data__=Th(n),n=s);t.i.push(new vS(t.ab++,n)),t.G==3&&Rc(t)};$t.prototype.M=function(){this.g.l=null,delete this.j,Rh(this.g),delete this.g,$t.X.M.call(this)};function Vv(n){Sh.call(this);var t=n.__sm__;if(t){e:{for(const s in t){n=s;break e}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}dt(Vv,Sh);function Hv(){kh.call(this),this.status=1}dt(Hv,kh);function Qr(n){this.g=n}dt(Qr,$v);Qr.prototype.xa=function(){ft(this.g,"a")};Qr.prototype.wa=function(n){ft(this.g,new Vv(n))};Qr.prototype.va=function(n){ft(this.g,new Hv)};Qr.prototype.ua=function(){ft(this.g,"b")};Ha.prototype.createWebChannel=Ha.prototype.g;$t.prototype.send=$t.prototype.u;$t.prototype.open=$t.prototype.m;$t.prototype.close=$t.prototype.close;Cc.NO_ERROR=0;Cc.TIMEOUT=8;Cc.HTTP_ERROR=6;cv.COMPLETE="complete";lv.EventType=go;go.OPEN="a";go.CLOSE="b";go.ERROR="c";go.MESSAGE="d";ct.prototype.listen=ct.prototype.N;Ge.prototype.listenOnce=Ge.prototype.O;Ge.prototype.getLastError=Ge.prototype.Oa;Ge.prototype.getLastErrorCode=Ge.prototype.Ea;Ge.prototype.getStatus=Ge.prototype.aa;Ge.prototype.getResponseJson=Ge.prototype.Sa;Ge.prototype.getResponseText=Ge.prototype.fa;Ge.prototype.send=Ge.prototype.da;Ge.prototype.setWithCredentials=Ge.prototype.Ka;var kS=function(){return new Ha},OS=function(){return Ic()},Nl=Cc,DS=cv,NS=rr,Mp={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xS=vo,ea=lv,RS=Ge;const Fp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr="9.17.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new fh("@firebase/firestore");function Up(){return Js.logLevel}function re(n,...t){if(Js.logLevel<=Re.DEBUG){const s=t.map(Mh);Js.debug(`Firestore (${Yr}): ${n}`,...s)}}function Un(n,...t){if(Js.logLevel<=Re.ERROR){const s=t.map(Mh);Js.error(`Firestore (${Yr}): ${n}`,...s)}}function yu(n,...t){if(Js.logLevel<=Re.WARN){const s=t.map(Mh);Js.warn(`Firestore (${Yr}): ${n}`,...s)}}function Mh(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(n="Unexpected state"){const t=`FIRESTORE (${Yr}) INTERNAL ASSERTION FAILED: `+n;throw Un(t),new Error(t)}function Fe(n,t){n||de()}function ye(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends qn{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(gt.UNAUTHENTICATED))}shutdown(){}}class LS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class MS{constructor(t){this.t=t,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){let r=this.i;const i=l=>this.i!==r?(r=this.i,s(l)):Promise.resolve();let o=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ln,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},c=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ln)}},0),a()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(r=>this.i!==t?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new qv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Fe(t===null||typeof t=="string"),new gt(t)}}class FS{constructor(t,s,r,i){this.h=t,this.l=s,this.m=r,this.g=i,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Fe(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class US{constructor(t,s,r,i){this.h=t,this.l=s,this.m=r,this.g=i}getToken(){return Promise.resolve(new FS(this.h,this.l,this.m,this.g))}start(t,s){t.enqueueRetryable(()=>s(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jS{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,s){const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.A;return this.A=o.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?s(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(Fe(typeof s.token=="string"),this.A=s.token,new BS(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let r=0;r<n;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=$S(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<s&&(r+=t.charAt(i[o]%t.length))}return r}}function Pe(n,t){return n<t?-1:n>t?1:0}function xr(n,t,s){return n.length===t.length&&n.every((r,i)=>s(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return tt.fromMillis(Date.now())}static fromDate(t){return tt.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*s));return new tt(s,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.timestamp=t}static fromTimestamp(t){return new me(t)}static min(){return new me(new tt(0,0))}static max(){return new me(new tt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,s,r){s===void 0?s=0:s>t.length&&de(),r===void 0?r=t.length-s:r>t.length-s&&de(),this.segments=t,this.offset=s,this.len=r}get length(){return this.len}isEqual(t){return Ji.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Ji?t.forEach(r=>{s.push(r)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,r=this.limit();s<r;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const r=Math.min(t.length,s.length);for(let i=0;i<r;i++){const o=t.get(i),a=s.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<s.length?-1:t.length>s.length?1:0}}class je extends Ji{construct(t,s,r){return new je(t,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const s=[];for(const r of t){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter(i=>i.length>0))}return new je(s)}static emptyPath(){return new je([])}}const VS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Ji{construct(t,s,r){return new vt(t,s,r)}static isValidIdentifier(t){return VS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(t){const s=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let a=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vt(s)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.path=t}static fromPath(t){return new oe(je.fromString(t))}static fromName(t){return new oe(je.fromString(t).popFirst(5))}static empty(){return new oe(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return je.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new je(t.slice()))}}function HS(n,t){const s=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new tt(s+1,0):new tt(s,r));return new gs(i,oe.empty(),t)}function qS(n){return new gs(n.readTime,n.key,-1)}class gs{constructor(t,s,r){this.readTime=t,this.documentKey=s,this.largestBatchId=r}static min(){return new gs(me.min(),oe.empty(),-1)}static max(){return new gs(me.max(),oe.empty(),-1)}}function KS(n,t){let s=n.readTime.compareTo(t.readTime);return s!==0?s:(s=oe.comparator(n.documentKey,t.documentKey),s!==0?s:Pe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==zS)throw n;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(s,o).next(r,i)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof V?s:V.resolve(s)}catch(s){return V.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):V.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):V.reject(s)}static resolve(t){return new V((s,r)=>{s(t)})}static reject(t){return new V((s,r)=>{r(t)})}static waitFor(t){return new V((s,r)=>{let i=0,o=0,a=!1;t.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&s()},l=>r(l))}),a=!0,o===i&&s()})}static or(t){let s=V.resolve(!1);for(const r of t)s=s.next(i=>i?V.resolve(i):r());return s}static forEach(t,s){const r=[];return t.forEach((i,o)=>{r.push(s.call(this,i,o))}),this.waitFor(r)}static mapArray(t,s){return new V((r,i)=>{const o=t.length,a=new Array(o);let c=0;for(let l=0;l<o;l++){const h=l;s(t[h]).next(f=>{a[h]=f,++c,c===o&&r(a)},f=>i(f))}})}static doWhile(t,s){return new V((r,i)=>{const o=()=>{t()===!0?s().next(()=>{o()},i):r()};o()})}}function Eo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>s.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Fh.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,s,r,i,o,a,c,l){this.databaseId=t,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.useFetchStreams=l}}class Zi{constructor(t,s){this.projectId=t,this.database=s||"(default)"}static empty(){return new Zi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Zi&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n){let t=0;for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t++;return t}function ir(n,t){for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t(s,n[s])}function zv(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){return n==null}function qa(n){return n===0&&1/n==-1/0}function QS(n){return typeof n=="number"&&Number.isInteger(n)&&!qa(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.binaryString=t}static fromBase64String(t){const s=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new YS("Invalid base64 string: "+i):i}}(t);return new Et(s)}static fromUint8Array(t){const s=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new Et(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let r=0;r<t.length;r++)s[r]=t.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const XS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(n){if(Fe(!!n),typeof n=="string"){let t=0;const s=XS.exec(n);if(Fe(!!s),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Je(n.seconds),nanos:Je(n.nanos)}}function Je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Rr(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function Gv(n){const t=n.mapValue.fields.__previous_value__;return Wv(t)?Gv(t):t}function eo(n){const t=ms(n.mapValue.fields.__local_write_time__.timestampValue);return new tt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wv(n)?4:JS(n)?9007199254740991:10:de()}function En(n,t){if(n===t)return!0;const s=Zs(n);if(s!==Zs(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return eo(n).isEqual(eo(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ms(r.timestampValue),a=ms(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,i){return Rr(r.bytesValue).isEqual(Rr(i.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Je(r.doubleValue),a=Je(i.doubleValue);return o===a?qa(o)===qa(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return xr(n.arrayValue.values||[],t.arrayValue.values||[],En);case 10:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(Bp(o)!==Bp(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!En(o[c],a[c])))return!1;return!0}(n,t);default:return de()}}function to(n,t){return(n.values||[]).find(s=>En(s,t))!==void 0}function Pr(n,t){if(n===t)return 0;const s=Zs(n),r=Zs(t);if(s!==r)return Pe(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,t.booleanValue);case 2:return function(i,o){const a=Je(i.integerValue||i.doubleValue),c=Je(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return jp(n.timestampValue,t.timestampValue);case 4:return jp(eo(n),eo(t));case 5:return Pe(n.stringValue,t.stringValue);case 6:return function(i,o){const a=Rr(i),c=Rr(o);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=Pe(a[l],c[l]);if(h!==0)return h}return Pe(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,o){const a=Pe(Je(i.latitude),Je(o.latitude));return a!==0?a:Pe(Je(i.longitude),Je(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=Pr(a[l],c[l]);if(h)return h}return Pe(a.length,c.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===ta.mapValue&&o===ta.mapValue)return 0;if(i===ta.mapValue)return 1;if(o===ta.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const d=Pe(c[f],h[f]);if(d!==0)return d;const g=Pr(a[c[f]],l[h[f]]);if(g!==0)return g}return Pe(c.length,h.length)}(n.mapValue,t.mapValue);default:throw de()}}function jp(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pe(n,t);const s=ms(n),r=ms(t),i=Pe(s.seconds,r.seconds);return i!==0?i:Pe(s.nanos,r.nanos)}function Lr(n){return vu(n)}function vu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ms(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rr(n.bytesValue).toBase64():"referenceValue"in n?(s=n.referenceValue,oe.fromName(s).toString()):"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const a of r.values||[])o?o=!1:i+=",",i+=vu(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${vu(r.fields[c])}`;return o+"}"}(n.mapValue):de();var t,s}function $p(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function _u(n){return!!n&&"integerValue"in n}function Uh(n){return!!n&&"arrayValue"in n}function Vp(n){return!!n&&"nullValue"in n}function Hp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fa(n){return!!n&&"mapValue"in n}function ki(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ir(n.mapValue.fields,(s,r)=>t.mapValue.fields[s]=ki(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(n.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=ki(n.arrayValue.values[s]);return t}return Object.assign({},n)}function JS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,s){this.position=t,this.inclusive=s}}function qp(n,t,s){let r=0;for(let i=0;i<n.position.length;i++){const o=t[i],a=n.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),s.key):r=Pr(a,s.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kp(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let s=0;s<n.position.length;s++)if(!En(n.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{}class Ze extends Qv{constructor(t,s,r){super(),this.field=t,this.op=s,this.value=r}static create(t,s,r){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,r):new ek(t,s,r):s==="array-contains"?new sk(t,r):s==="in"?new rk(t,r):s==="not-in"?new ik(t,r):s==="array-contains-any"?new ok(t,r):new Ze(t,s,r)}static createKeyFieldInFilter(t,s,r){return s==="in"?new tk(t,r):new nk(t,r)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(Pr(s,this.value)):s!==null&&Zs(this.value)===Zs(s)&&this.matchesComparison(Pr(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class on extends Qv{constructor(t,s){super(),this.filters=t,this.op=s,this.ft=null}static create(t,s){return new on(t,s)}matches(t){return Yv(this)?this.filters.find(s=>!s.matches(t))===void 0:this.filters.find(s=>s.matches(t))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.dt(s=>s.isInequality());return t!==null?t.field:null}dt(t){for(const s of this.getFlattenedFilters())if(t(s))return s;return null}}function Yv(n){return n.op==="and"}function Xv(n){return ZS(n)&&Yv(n)}function ZS(n){for(const t of n.filters)if(t instanceof on)return!1;return!0}function bu(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+Lr(n.value);if(Xv(n))return n.filters.map(t=>bu(t)).join(",");{const t=n.filters.map(s=>bu(s)).join(",");return`${n.op}(${t})`}}function Jv(n,t){return n instanceof Ze?function(s,r){return r instanceof Ze&&s.op===r.op&&s.field.isEqual(r.field)&&En(s.value,r.value)}(n,t):n instanceof on?function(s,r){return r instanceof on&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&Jv(o,r.filters[a]),!0):!1}(n,t):void de()}function Zv(n){return n instanceof Ze?function(t){return`${t.field.canonicalString()} ${t.op} ${Lr(t.value)}`}(n):n instanceof on?function(t){return t.op.toString()+" {"+t.getFilters().map(Zv).join(" ,")+"}"}(n):"Filter"}class ek extends Ze{constructor(t,s,r){super(t,s,r),this.key=oe.fromName(r.referenceValue)}matches(t){const s=oe.comparator(t.key,this.key);return this.matchesComparison(s)}}class tk extends Ze{constructor(t,s){super(t,"in",s),this.keys=e_("in",s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class nk extends Ze{constructor(t,s){super(t,"not-in",s),this.keys=e_("not-in",s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function e_(n,t){var s;return(((s=t.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(r=>oe.fromName(r.referenceValue))}class sk extends Ze{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return Uh(s)&&to(s.arrayValue,this.value)}}class rk extends Ze{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&to(this.value.arrayValue,s)}}class ik extends Ze{constructor(t,s){super(t,"not-in",s)}matches(t){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&!to(this.value.arrayValue,s)}}class ok extends Ze{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!Uh(s)||!s.arrayValue.values)&&s.arrayValue.values.some(r=>to(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,s="asc"){this.field=t,this.dir=s}}function ak(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t,s){this.comparator=t,this.root=s||ut.EMPTY}insert(t,s){return new st(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(t){return new st(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ut.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(t){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,r)=>(t(s,r),!1))}toString(){const t=[];return this.inorderTraversal((s,r)=>(t.push(`${s}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new na(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new na(this.root,t,this.comparator,!1)}getReverseIterator(){return new na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new na(this.root,t,this.comparator,!0)}}class na{constructor(t,s,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=s?r(t.key,s):1,s&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ut{constructor(t,s,r,i,o){this.key=t,this.value=s,this.color=r??ut.RED,this.left=i??ut.EMPTY,this.right=o??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,r,i,o){return new ut(t??this.key,s??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,s,r),null):o===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(t,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let r,i=this;if(s(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(t,i.key)===0){if(i.right.isEmpty())return ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const t=this.left.check();if(t!==this.right.check())throw de();return t+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(n,t,s,r,i){return this}insert(n,t,s){return new ut(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.comparator=t,this.data=new st(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,r)=>(t(s),!1))}forEachInRange(t,s){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;s(i.key)}}forEachWhile(t,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new zp(this.data.getIterator())}getIteratorFrom(t){return new zp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(r=>{s=s.add(r)}),s}isEqual(t){if(!(t instanceof nt)||this.size!==t.size)return!1;const s=this.data.getIterator(),r=t.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new nt(this.comparator);return s.data=t,s}}class zp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.fields=t,t.sort(vt.comparator)}static empty(){return new jt([])}unionWith(t){let s=new nt(vt.comparator);for(const r of this.fields)s=s.add(r);for(const r of t)s=s.add(r);return new jt(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return xr(this.fields,t.fields,(s,r)=>s.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.value=t}static empty(){return new Rt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let r=0;r<t.length-1;++r)if(s=(s.mapValue.fields||{})[t.get(r)],!fa(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=ki(s)}setAll(t){let s=vt.emptyPath(),r={},i=[];t.forEach((a,c)=>{if(!s.isImmediateParentOf(c)){const l=this.getFieldsMap(s);this.applyChanges(l,r,i),r={},i=[],s=c.popLast()}a?r[c.lastSegment()]=ki(a):i.push(c.lastSegment())});const o=this.getFieldsMap(s);this.applyChanges(o,r,i)}delete(t){const s=this.field(t.popLast());fa(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return En(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=s.mapValue.fields[t.get(r)];fa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[t.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(t,s,r){ir(s,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Rt(ki(this.value))}}function t_(n){const t=[];return ir(n.fields,(s,r)=>{const i=new vt([s]);if(fa(r)){const o=t_(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new jt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t,s,r,i,o,a,c){this.key=t,this.documentType=s,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(t){return new mt(t,0,me.min(),me.min(),me.min(),Rt.empty(),0)}static newFoundDocument(t,s,r,i){return new mt(t,1,s,me.min(),r,i,0)}static newNoDocument(t,s){return new mt(t,2,s,me.min(),me.min(),Rt.empty(),0)}static newUnknownDocument(t,s){return new mt(t,3,s,me.min(),me.min(),Rt.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,s=null,r=[],i=[],o=null,a=null,c=null){this.path=t,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this._t=null}}function Wp(n,t=null,s=[],r=[],i=null,o=null,a=null){return new ck(n,t,s,r,i,o,a)}function Bh(n){const t=ye(n);if(t._t===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(r=>bu(r)).join(","),s+="|ob:",s+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pc(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(r=>Lr(r)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(r=>Lr(r)).join(",")),t._t=s}return t._t}function jh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!ak(n.orderBy[s],t.orderBy[s]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if(!Jv(n.filters[s],t.filters[s]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Kp(n.startAt,t.startAt)&&Kp(n.endAt,t.endAt)}function wu(n){return oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,s=null,r=[],i=[],o=null,a="F",c=null,l=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=l,this.wt=null,this.gt=null,this.startAt,this.endAt}}function lk(n,t,s,r,i,o,a,c){return new To(n,t,s,r,i,o,a,c)}function $h(n){return new To(n)}function Gp(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function n_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Vh(n){for(const t of n.filters){const s=t.getFirstInequalityField();if(s!==null)return s}return null}function s_(n){return n.collectionGroup!==null}function wr(n){const t=ye(n);if(t.wt===null){t.wt=[];const s=Vh(t),r=n_(t);if(s!==null&&r===null)s.isKeyField()||t.wt.push(new Oi(s)),t.wt.push(new Oi(vt.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Oi(vt.keyField(),o))}}}return t.wt}function Bn(n){const t=ye(n);if(!t.gt)if(t.limitType==="F")t.gt=Wp(t.path,t.collectionGroup,wr(t),t.filters,t.limit,t.startAt,t.endAt);else{const s=[];for(const o of wr(t)){const a=o.dir==="desc"?"asc":"desc";s.push(new Oi(o.field,a))}const r=t.endAt?new Ka(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ka(t.startAt.position,t.startAt.inclusive):null;t.gt=Wp(t.path,t.collectionGroup,s,t.filters,t.limit,r,i)}return t.gt}function Eu(n,t){t.getFirstInequalityField(),Vh(n);const s=n.filters.concat([t]);return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),s,n.limit,n.limitType,n.startAt,n.endAt)}function Tu(n,t,s){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,s,n.startAt,n.endAt)}function Lc(n,t){return jh(Bn(n),Bn(t))&&n.limitType===t.limitType}function r_(n){return`${Bh(Bn(n))}|lt:${n.limitType}`}function Au(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(r=>Zv(r)).join(", ")}]`),Pc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(r=>Lr(r)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(r=>Lr(r)).join(",")),`Target(${s})`}(Bn(n))}; limitType=${n.limitType})`}function Mc(n,t){return t.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):oe.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(n,t)&&function(s,r){for(const i of wr(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(n,t)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(n,t)&&function(s,r){return!(s.startAt&&!function(i,o,a){const c=qp(i,o,a);return i.inclusive?c<=0:c<0}(s.startAt,wr(s),r)||s.endAt&&!function(i,o,a){const c=qp(i,o,a);return i.inclusive?c>=0:c>0}(s.endAt,wr(s),r))}(n,t)}function uk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i_(n){return(t,s)=>{let r=!1;for(const i of wr(n)){const o=hk(i,t,s);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hk(n,t,s){const r=n.field.isKeyField()?oe.comparator(t.key,s.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Pr(c,l):de()}(n.field,t,s);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,t){if(n.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qa(t)?"-0":t}}function a_(n){return{integerValue:""+n}}function fk(n,t){return QS(t)?a_(t):o_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function dk(n,t,s){return n instanceof za?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(s,t):n instanceof no?l_(n,t):n instanceof so?u_(n,t):function(r,i){const o=c_(r,i),a=Qp(o)+Qp(r.It);return _u(o)&&_u(r.It)?a_(a):o_(r.Tt,a)}(n,t)}function pk(n,t,s){return n instanceof no?l_(n,t):n instanceof so?u_(n,t):s}function c_(n,t){return n instanceof Wa?_u(s=t)||function(r){return!!r&&"doubleValue"in r}(s)?t:{integerValue:0}:null;var s}class za extends Fc{}class no extends Fc{constructor(t){super(),this.elements=t}}function l_(n,t){const s=h_(t);for(const r of n.elements)s.some(i=>En(i,r))||s.push(r);return{arrayValue:{values:s}}}class so extends Fc{constructor(t){super(),this.elements=t}}function u_(n,t){let s=h_(t);for(const r of n.elements)s=s.filter(i=>!En(i,r));return{arrayValue:{values:s}}}class Wa extends Fc{constructor(t,s){super(),this.Tt=t,this.It=s}}function Qp(n){return Je(n.integerValue||n.doubleValue)}function h_(n){return Uh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gk(n,t){return n.field.isEqual(t.field)&&function(s,r){return s instanceof no&&r instanceof no||s instanceof so&&r instanceof so?xr(s.elements,r.elements,En):s instanceof Wa&&r instanceof Wa?En(s.It,r.It):s instanceof za&&r instanceof za}(n.transform,t.transform)}class mk{constructor(t,s){this.version=t,this.transformResults=s}}class Yt{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new Yt}static exists(t){return new Yt(void 0,t)}static updateTime(t){return new Yt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function da(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Uc{}function f_(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Hh(n.key,Yt.none()):new Ao(n.key,n.data,Yt.none());{const s=n.data,r=Rt.empty();let i=new nt(vt.comparator);for(let o of t.fields)if(!i.has(o)){let a=s.field(o);a===null&&o.length>1&&(o=o.popLast(),a=s.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new bs(n.key,r,new jt(i.toArray()),Yt.none())}}function yk(n,t,s){n instanceof Ao?function(r,i,o){const a=r.value.clone(),c=Xp(r.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,s):n instanceof bs?function(r,i,o){if(!da(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Xp(r.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(d_(r)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,s):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,s)}function Di(n,t,s,r){return n instanceof Ao?function(i,o,a,c){if(!da(i.precondition,o))return a;const l=i.value.clone(),h=Jp(i.fieldTransforms,c,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,t,s,r):n instanceof bs?function(i,o,a,c){if(!da(i.precondition,o))return a;const l=Jp(i.fieldTransforms,c,o),h=o.data;return h.setAll(d_(i)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(n,t,s,r):function(i,o,a){return da(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,t,s)}function vk(n,t){let s=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),o=c_(r.transform,i||null);o!=null&&(s===null&&(s=Rt.empty()),s.set(r.field,o))}return s||null}function Yp(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&xr(s,r,(i,o)=>gk(i,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ao extends Uc{constructor(t,s,r,i=[]){super(),this.key=t,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends Uc{constructor(t,s,r,i,o=[]){super(),this.key=t,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d_(n){const t=new Map;return n.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const r=n.data.field(s);t.set(s,r)}}),t}function Xp(n,t,s){const r=new Map;Fe(n.length===s.length);for(let i=0;i<s.length;i++){const o=n[i],a=o.transform,c=t.data.field(o.field);r.set(o.field,pk(a,c,s[i]))}return r}function Jp(n,t,s){const r=new Map;for(const i of n){const o=i.transform,a=s.data.field(i.field);r.set(i.field,dk(o,a,t))}return r}class Hh extends Uc{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _k extends Uc{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,Ce;function wk(n){switch(n){default:return de();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function p_(n){if(n===void 0)return Un("GRPC error has no .code"),B.UNKNOWN;switch(n){case Xe.OK:return B.OK;case Xe.CANCELLED:return B.CANCELLED;case Xe.UNKNOWN:return B.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return B.INTERNAL;case Xe.UNAVAILABLE:return B.UNAVAILABLE;case Xe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Xe.NOT_FOUND:return B.NOT_FOUND;case Xe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Xe.ABORTED:return B.ABORTED;case Xe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Xe.DATA_LOSS:return B.DATA_LOSS;default:return de()}}(Ce=Xe||(Xe={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),r=this.inner[s];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,s){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,s]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,s]);i.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,(s,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return zv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new st(oe.comparator);function jn(){return Ek}const g_=new st(oe.comparator);function yi(...n){let t=g_;for(const s of n)t=t.insert(s.key,s);return t}function m_(n){let t=g_;return n.forEach((s,r)=>t=t.insert(s,r.overlayedDocument)),t}function Vs(){return Ni()}function y_(){return Ni()}function Ni(){return new Xr(n=>n.toString(),(n,t)=>n.isEqual(t))}const Tk=new st(oe.comparator),Ak=new nt(oe.comparator);function Te(...n){let t=Ak;for(const s of n)t=t.add(s);return t}const Ik=new nt(Pe);function v_(){return Ik}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,s,r,i,o){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,s,r){const i=new Map;return i.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,s,r)),new Bc(me.min(),i,v_(),jn(),Te())}}class Io{constructor(t,s,r,i,o){this.resumeToken=t,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,s,r){return new Io(r,s,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,s,r,i){this.Et=t,this.removedTargetIds=s,this.key=r,this.At=i}}class __{constructor(t,s){this.targetId=t,this.Rt=s}}class b_{constructor(t,s,r=Et.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=s,this.resumeToken=r,this.cause=i}}class Zp{constructor(){this.bt=0,this.vt=tg(),this.Pt=Et.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return this.bt!==0}get Ct(){return this.St}xt(t){t.approximateByteSize()>0&&(this.St=!0,this.Pt=t)}Nt(){let t=Te(),s=Te(),r=Te();return this.vt.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Io(this.Pt,this.Vt,t,s,r)}kt(){this.St=!1,this.vt=tg()}Ot(t,s){this.St=!0,this.vt=this.vt.insert(t,s)}Mt(t){this.St=!0,this.vt=this.vt.remove(t)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class Ck{constructor(t){this.Lt=t,this.qt=new Map,this.Ut=jn(),this.Kt=eg(),this.Gt=new nt(Pe)}Qt(t){for(const s of t.Et)t.At&&t.At.isFoundDocument()?this.jt(s,t.At):this.zt(s,t.key,t.At);for(const s of t.removedTargetIds)this.zt(s,t.key,t.At)}Wt(t){this.forEachTarget(t,s=>{const r=this.Ht(s);switch(t.state){case 0:this.Jt(s)&&r.xt(t.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(t.resumeToken);break;case 2:r.$t(),r.Dt||this.removeTarget(s);break;case 3:this.Jt(s)&&(r.Bt(),r.xt(t.resumeToken));break;case 4:this.Jt(s)&&(this.Yt(s),r.xt(t.resumeToken));break;default:de()}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.qt.forEach((r,i)=>{this.Jt(i)&&s(i)})}Zt(t){const s=t.targetId,r=t.Rt.count,i=this.Xt(s);if(i){const o=i.target;if(wu(o))if(r===0){const a=new oe(o.path);this.zt(s,a,mt.newNoDocument(a,me.min()))}else Fe(r===1);else this.te(s)!==r&&(this.Yt(s),this.Gt=this.Gt.add(s))}}ee(t){const s=new Map;this.qt.forEach((o,a)=>{const c=this.Xt(a);if(c){if(o.current&&wu(c.target)){const l=new oe(c.target.path);this.Ut.get(l)!==null||this.ne(a,l)||this.zt(a,l,mt.newNoDocument(l,t))}o.Ct&&(s.set(a,o.Nt()),o.kt())}});let r=Te();this.Kt.forEach((o,a)=>{let c=!0;a.forEachWhile(l=>{const h=this.Xt(l);return!h||h.purpose===2||(c=!1,!1)}),c&&(r=r.add(o))}),this.Ut.forEach((o,a)=>a.setReadTime(t));const i=new Bc(t,s,this.Gt,this.Ut,r);return this.Ut=jn(),this.Kt=eg(),this.Gt=new nt(Pe),i}jt(t,s){if(!this.Jt(t))return;const r=this.ne(t,s.key)?2:0;this.Ht(t).Ot(s.key,r),this.Ut=this.Ut.insert(s.key,s),this.Kt=this.Kt.insert(s.key,this.se(s.key).add(t))}zt(t,s,r){if(!this.Jt(t))return;const i=this.Ht(t);this.ne(t,s)?i.Ot(s,1):i.Mt(s),this.Kt=this.Kt.insert(s,this.se(s).delete(t)),r&&(this.Ut=this.Ut.insert(s,r))}removeTarget(t){this.qt.delete(t)}te(t){const s=this.Ht(t).Nt();return this.Lt.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ft(t){this.Ht(t).Ft()}Ht(t){let s=this.qt.get(t);return s||(s=new Zp,this.qt.set(t,s)),s}se(t){let s=this.Kt.get(t);return s||(s=new nt(Pe),this.Kt=this.Kt.insert(t,s)),s}Jt(t){const s=this.Xt(t)!==null;return s||re("WatchChangeAggregator","Detected inactive target",t),s}Xt(t){const s=this.qt.get(t);return s&&s.Dt?null:this.Lt.ie(t)}Yt(t){this.qt.set(t,new Zp),this.Lt.getRemoteKeysForTarget(t).forEach(s=>{this.zt(t,s,null)})}ne(t,s){return this.Lt.getRemoteKeysForTarget(t).has(s)}}function eg(){return new st(oe.comparator)}function tg(){return new st(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Ok=(()=>({and:"AND",or:"OR"}))();class Dk{constructor(t,s){this.databaseId=t,this.yt=s}}function Ga(n,t){return n.yt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w_(n,t){return n.yt?t.toBase64():t.toUint8Array()}function Nk(n,t){return Ga(n,t.toTimestamp())}function yn(n){return Fe(!!n),me.fromTimestamp(function(t){const s=ms(t);return new tt(s.seconds,s.nanos)}(n))}function qh(n,t){return function(s){return new je(["projects",s.projectId,"databases",s.database])}(n).child("documents").child(t).canonicalString()}function E_(n){const t=je.fromString(n);return Fe(C_(t)),t}function Iu(n,t){return qh(n.databaseId,t.path)}function xl(n,t){const s=E_(t);if(s.get(1)!==n.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+n.databaseId.projectId);if(s.get(3)!==n.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+n.databaseId.database);return new oe(T_(s))}function Cu(n,t){return qh(n.databaseId,t)}function xk(n){const t=E_(n);return t.length===4?je.emptyPath():T_(t)}function Su(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T_(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ng(n,t,s){return{name:Iu(n,t),fields:s.value.mapValue.fields}}function Rk(n,t){let s;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:de()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(l,h){return l.yt?(Fe(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(l){const h=l.code===void 0?B.UNKNOWN:p_(l.code);return new Z(h,l.message||"")}(a);s=new b_(r,i,o,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xl(n,r.document.name),o=yn(r.document.updateTime),a=r.document.createTime?yn(r.document.createTime):me.min(),c=new Rt({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,o,a,c),h=r.targetIds||[],f=r.removedTargetIds||[];s=new pa(h,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xl(n,r.document),o=r.readTime?yn(r.readTime):me.min(),a=mt.newNoDocument(i,o),c=r.removedTargetIds||[];s=new pa([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xl(n,r.document),o=r.removedTargetIds||[];s=new pa([],o,i,null)}else{if(!("filter"in t))return de();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,o=new bk(i),a=r.targetId;s=new __(a,o)}}return s}function Pk(n,t){let s;if(t instanceof Ao)s={update:ng(n,t.key,t.value)};else if(t instanceof Hh)s={delete:Iu(n,t.key)};else if(t instanceof bs)s={update:ng(n,t.key,t.data),updateMask:Hk(t.fieldMask)};else{if(!(t instanceof _k))return de();s={verify:Iu(n,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof za)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof no)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof so)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),increment:a.It};throw de()}(0,r))),t.precondition.isNone||(s.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Nk(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(n,t.precondition)),s}function Lk(n,t){return n&&n.length>0?(Fe(t!==void 0),n.map(s=>function(r,i){let o=r.updateTime?yn(r.updateTime):yn(i);return o.isEqual(me.min())&&(o=yn(i)),new mk(o,r.transformResults||[])}(s,t))):[]}function Mk(n,t){return{documents:[Cu(n,t.path)]}}function Fk(n,t){const s={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(s.parent=Cu(n,r),s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s.parent=Cu(n,r.popLast()),s.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return I_(on.create(l,"and"))}(t.filters);i&&(s.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(h=>function(f){return{field:dr(f.field),direction:jk(f.dir)}}(h))}(t.orderBy);o&&(s.structuredQuery.orderBy=o);const a=function(l,h){return l.yt||Pc(h)?h:{value:h}}(n,t.limit);var c;return a!==null&&(s.structuredQuery.limit=a),t.startAt&&(s.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(s.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),s}function Uk(n){let t=xk(n.parent);const s=n.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Fe(r===1);const f=s.from[0];f.allDescendants?i=f.collectionId:t=t.child(f.collectionId)}let o=[];s.where&&(o=function(f){const d=A_(f);return d instanceof on&&Xv(d)?d.getFilters():[d]}(s.where));let a=[];s.orderBy&&(a=s.orderBy.map(f=>function(d){return new Oi(pr(d.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(f)));let c=null;s.limit&&(c=function(f){let d;return d=typeof f=="object"?f.value:f,Pc(d)?null:d}(s.limit));let l=null;s.startAt&&(l=function(f){const d=!!f.before,g=f.values||[];return new Ka(g,d)}(s.startAt));let h=null;return s.endAt&&(h=function(f){const d=!f.before,g=f.values||[];return new Ka(g,d)}(s.endAt)),lk(t,i,a,o,c,"F",l,h)}function Bk(n,t){const s=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return de()}}(0,t.purpose);return s==null?null:{"goog-listen-tags":s}}function A_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=pr(t.unaryFilter.field);return Ze.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=pr(t.unaryFilter.field);return Ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=pr(t.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pr(t.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(n):n.fieldFilter!==void 0?function(t){return Ze.create(pr(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return on.create(t.compositeFilter.filters.map(s=>A_(s)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(t.compositeFilter.op))}(n):de()}function jk(n){return Sk[n]}function $k(n){return kk[n]}function Vk(n){return Ok[n]}function dr(n){return{fieldPath:n.canonicalString()}}function pr(n){return vt.fromServerFormat(n.fieldPath)}function I_(n){return n instanceof Ze?function(t){if(t.op==="=="){if(Hp(t.value))return{unaryFilter:{field:dr(t.field),op:"IS_NAN"}};if(Vp(t.value))return{unaryFilter:{field:dr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Hp(t.value))return{unaryFilter:{field:dr(t.field),op:"IS_NOT_NAN"}};if(Vp(t.value))return{unaryFilter:{field:dr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(t.field),op:$k(t.op),value:t.value}}}(n):n instanceof on?function(t){const s=t.getFilters().map(r=>I_(r));return s.length===1?s[0]:{compositeFilter:{op:Vk(t.op),filters:s}}}(n):de()}function Hk(n){const t=[];return n.fields.forEach(s=>t.push(s.canonicalString())),{fieldPaths:t}}function C_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,s,r,i){this.batchId=t,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&yk(o,t,r[i])}}applyToLocalView(t,s){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(s=Di(r,t,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(s=Di(r,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const r=y_();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=s.has(i.key)?null:c;const l=f_(a,c);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),Te())}isEqual(t){return this.batchId===t.batchId&&xr(this.mutations,t.mutations,(s,r)=>Yp(s,r))&&xr(this.baseMutations,t.baseMutations,(s,r)=>Yp(s,r))}}class Kh{constructor(t,s,r,i){this.batch=t,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(t,s,r){Fe(t.mutations.length===r.length);let i=Tk;const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Kh(t,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,s,r,i,o=me.min(),a=me.min(),c=Et.EMPTY_BYTE_STRING){this.target=t,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}withSequenceNumber(t){return new Ws(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,s){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.oe=t}}function Wk(n){const t=Uk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.Ze=new Qk}addToCollectionParentIndex(t,s){return this.Ze.add(s),V.resolve()}getCollectionParents(t,s){return V.resolve(this.Ze.getEntries(s))}addFieldIndex(t,s){return V.resolve()}deleteFieldIndex(t,s){return V.resolve()}getDocumentsMatchingTarget(t,s){return V.resolve(null)}getIndexType(t,s){return V.resolve(0)}getFieldIndexes(t,s){return V.resolve([])}getNextCollectionGroupToUpdate(t){return V.resolve(null)}getMinOffset(t,s){return V.resolve(gs.min())}getMinOffsetFromCollectionGroup(t,s){return V.resolve(gs.min())}updateCollectionGroup(t,s,r){return V.resolve()}updateIndexEntries(t,s){return V.resolve()}}class Qk{constructor(){this.index={}}add(t){const s=t.lastSegment(),r=t.popLast(),i=this.index[s]||new nt(je.comparator),o=!i.has(r);return this.index[s]=i.add(r),o}has(t){const s=t.lastSegment(),r=t.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(t){return(this.index[t]||new nt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.Pn=t}next(){return this.Pn+=2,this.Pn}static Vn(){return new Mr(0)}static Sn(){return new Mr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.changes=new Xr(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,mt.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?V.resolve(r):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,s,r,i){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,s){let r=null;return this.documentOverlayCache.getOverlay(t,s).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,s))).next(i=>(r!==null&&Di(r.mutation,i,jt.empty(),tt.now()),i))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(r=>this.getLocalViewOfDocuments(t,r,Te()).next(()=>r))}getLocalViewOfDocuments(t,s,r=Te()){const i=Vs();return this.populateOverlays(t,i,s).next(()=>this.computeViews(t,s,i,r).next(o=>{let a=yi();return o.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,s){const r=Vs();return this.populateOverlays(t,r,s).next(()=>this.computeViews(t,s,r,Te()))}populateOverlays(t,s,r){const i=[];return r.forEach(o=>{s.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,c)=>{s.set(a,c)})})}computeViews(t,s,r,i){let o=jn();const a=Ni(),c=Ni();return s.forEach((l,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof bs)?o=o.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Di(f.mutation,h,f.mutation.getFieldMask(),tt.now())):a.set(h.key,jt.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((h,f)=>a.set(h,f)),s.forEach((h,f)=>{var d;return c.set(h,new Xk(f,(d=a.get(h))!==null&&d!==void 0?d:null))}),c))}recalculateAndSaveOverlays(t,s){const r=Ni();let i=new st((a,c)=>a-c),o=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(a=>{for(const c of a)c.keys().forEach(l=>{const h=s.get(l);if(h===null)return;let f=r.get(l)||jt.empty();f=c.applyToLocalView(h,f),r.set(l,f);const d=(i.get(c.batchId)||Te()).add(l);i=i.insert(c.batchId,d)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),h=l.key,f=l.value,d=y_();f.forEach(g=>{if(!o.has(g)){const m=f_(s.get(g),r.get(g));m!==null&&d.set(g,m),o=o.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,d))}return V.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,s,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):s_(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,r):this.getDocumentsMatchingCollectionQuery(t,s,r)}getNextDocuments(t,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,r.largestBatchId,i-o.size):V.resolve(Vs());let c=-1,l=o;return a.next(h=>V.forEach(h,(f,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),o.get(f)?V.resolve():this.remoteDocumentCache.getEntry(t,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(t,h,o)).next(()=>this.computeViews(t,l,h,Te())).next(f=>({batchId:c,changes:m_(f)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new oe(s)).next(r=>{let i=yi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,s,r){const i=s.collectionGroup;let o=yi();return this.indexManager.getCollectionParents(t,i).next(a=>V.forEach(a,c=>{const l=function(h,f){return new To(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(s,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,r,i))).next(o=>{i.forEach((c,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,mt.newInvalidDocument(h)))});let a=yi();return o.forEach((c,l)=>{const h=i.get(c);h!==void 0&&Di(h.mutation,l,jt.empty(),tt.now()),Mc(s,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t){this.Tt=t,this.es=new Map,this.ns=new Map}getBundleMetadata(t,s){return V.resolve(this.es.get(s))}saveBundleMetadata(t,s){var r;return this.es.set(s.id,{id:(r=s).id,version:r.version,createTime:yn(r.createTime)}),V.resolve()}getNamedQuery(t,s){return V.resolve(this.ns.get(s))}saveNamedQuery(t,s){return this.ns.set(s.name,function(r){return{name:r.name,query:Wk(r.bundledQuery),readTime:yn(r.readTime)}}(s)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.overlays=new st(oe.comparator),this.ss=new Map}getOverlay(t,s){return V.resolve(this.overlays.get(s))}getOverlays(t,s){const r=Vs();return V.forEach(s,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,s,r){return r.forEach((i,o)=>{this.ce(t,s,o)}),V.resolve()}removeOverlaysForBatchId(t,s,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ss.delete(r)),V.resolve()}getOverlaysForCollection(t,s,r){const i=Vs(),o=s.length+1,a=new oe(s.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const l=c.getNext().value,h=l.getKey();if(!s.isPrefixOf(h.path))break;h.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(t,s,r,i){let o=new st((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===s&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=Vs(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=i)););return V.resolve(c)}ce(t,s,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Kk(s,r));let o=this.ss.get(s);o===void 0&&(o=Te(),this.ss.set(s,o)),this.ss.set(s,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.rs=new nt(it.os),this.us=new nt(it.cs)}isEmpty(){return this.rs.isEmpty()}addReference(t,s){const r=new it(t,s);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(t,s){t.forEach(r=>this.addReference(r,s))}removeReference(t,s){this.ls(new it(t,s))}fs(t,s){t.forEach(r=>this.removeReference(r,s))}ds(t){const s=new oe(new je([])),r=new it(s,t),i=new it(s,t+1),o=[];return this.us.forEachInRange([r,i],a=>{this.ls(a),o.push(a.key)}),o}_s(){this.rs.forEach(t=>this.ls(t))}ls(t){this.rs=this.rs.delete(t),this.us=this.us.delete(t)}ws(t){const s=new oe(new je([])),r=new it(s,t),i=new it(s,t+1);let o=Te();return this.us.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const s=new it(t,0),r=this.rs.firstAfterOrEqual(s);return r!==null&&t.isEqual(r.key)}}class it{constructor(t,s){this.key=t,this.gs=s}static os(t,s){return oe.comparator(t.key,s.key)||Pe(t.gs,s.gs)}static cs(t,s){return Pe(t.gs,s.gs)||oe.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.ys=1,this.ps=new nt(it.os)}checkEmpty(t){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,r,i){const o=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qk(o,s,r,i);this.mutationQueue.push(a);for(const c of i)this.ps=this.ps.add(new it(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return V.resolve(a)}lookupMutationBatch(t,s){return V.resolve(this.Is(s))}getNextMutationBatchAfterBatchId(t,s){const r=s+1,i=this.Ts(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(t){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const r=new it(s,0),i=new it(s,Number.POSITIVE_INFINITY),o=[];return this.ps.forEachInRange([r,i],a=>{const c=this.Is(a.gs);o.push(c)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,s){let r=new nt(Pe);return s.forEach(i=>{const o=new it(i,0),a=new it(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([o,a],c=>{r=r.add(c.gs)})}),V.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(t,s){const r=s.path,i=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const a=new it(new oe(o),0);let c=new nt(Pe);return this.ps.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.gs)),!0)},a),V.resolve(this.Es(c))}Es(t){const s=[];return t.forEach(r=>{const i=this.Is(r);i!==null&&s.push(i)}),s}removeMutationBatch(t,s){Fe(this.As(s.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return V.forEach(s.mutations,i=>{const o=new it(i.key,s.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ps=r})}bn(t){}containsKey(t,s){const r=new it(s,0),i=this.ps.firstAfterOrEqual(r);return V.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,V.resolve()}As(t,s){return this.Ts(t)}Ts(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Is(t){const s=this.Ts(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.Rs=t,this.docs=new st(oe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const r=s.key,i=this.docs.get(r),o=i?i.size:0,a=this.Rs(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const r=this.docs.get(s);return V.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(s))}getEntries(t,s){let r=jn();return s.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(t,s,r,i){let o=jn();const a=s.path,c=new oe(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:h,value:{document:f}}=l.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||KS(qS(f),r)<=0||(i.has(f.key)||Mc(s,f))&&(o=o.insert(f.key,f.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(t,s,r,i){de()}bs(t,s){return V.forEach(this.docs,r=>s(r))}newChangeBuffer(t){return new sO(this)}getSize(t){return V.resolve(this.size)}}class sO extends Yk{constructor(t){super(),this.Xn=t}applyChanges(t){const s=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?s.push(this.Xn.addEntry(t,i)):this.Xn.removeEntry(r)}),V.waitFor(s)}getFromCache(t,s){return this.Xn.getEntry(t,s)}getAllFromCache(t,s){return this.Xn.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t){this.persistence=t,this.vs=new Xr(s=>Bh(s),jh),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new zh,this.targetCount=0,this.Ss=Mr.Vn()}forEachTarget(t,s){return this.vs.forEach((r,i)=>s(i)),V.resolve()}getLastRemoteSnapshotVersion(t){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return V.resolve(this.Ps)}allocateTargetId(t){return this.highestTargetId=this.Ss.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(t,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.Ps&&(this.Ps=s),V.resolve()}xn(t){this.vs.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.Ss=new Mr(s),this.highestTargetId=s),t.sequenceNumber>this.Ps&&(this.Ps=t.sequenceNumber)}addTargetData(t,s){return this.xn(s),this.targetCount+=1,V.resolve()}updateTargetData(t,s){return this.xn(s),V.resolve()}removeTargetData(t,s){return this.vs.delete(s.target),this.Vs.ds(s.targetId),this.targetCount-=1,V.resolve()}removeTargets(t,s,r){let i=0;const o=[];return this.vs.forEach((a,c)=>{c.sequenceNumber<=s&&r.get(c.targetId)===null&&(this.vs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(t){return V.resolve(this.targetCount)}getTargetData(t,s){const r=this.vs.get(s)||null;return V.resolve(r)}addMatchingKeys(t,s,r){return this.Vs.hs(s,r),V.resolve()}removeMatchingKeys(t,s,r){this.Vs.fs(s,r);const i=this.persistence.referenceDelegate,o=[];return i&&s.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),V.waitFor(o)}removeMatchingKeysForTargetId(t,s){return this.Vs.ds(s),V.resolve()}getMatchingKeysForTargetId(t,s){const r=this.Vs.ws(s);return V.resolve(r)}containsKey(t,s){return V.resolve(this.Vs.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,s){this.Ds={},this.overlays={},this.Cs=new Fh(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new rO(this),this.indexManager=new Gk,this.remoteDocumentCache=function(r){return new nO(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new zk(s),this.Os=new Zk(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new eO,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let r=this.Ds[t.toKey()];return r||(r=new tO(s,this.referenceDelegate),this.Ds[t.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(t,s,r){re("MemoryPersistence","Starting transaction:",t);const i=new oO(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(o=>this.referenceDelegate.Fs(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}$s(t,s){return V.or(Object.values(this.Ds).map(r=>()=>r.containsKey(t,s)))}}class oO extends WS{constructor(t){super(),this.currentSequenceNumber=t}}class Wh{constructor(t){this.persistence=t,this.Bs=new zh,this.Ls=null}static qs(t){return new Wh(t)}get Us(){if(this.Ls)return this.Ls;throw de()}addReference(t,s,r){return this.Bs.addReference(r,s),this.Us.delete(r.toString()),V.resolve()}removeReference(t,s,r){return this.Bs.removeReference(r,s),this.Us.add(r.toString()),V.resolve()}markPotentiallyOrphaned(t,s){return this.Us.add(s.toString()),V.resolve()}removeTarget(t,s){this.Bs.ds(s.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,s.targetId).next(i=>{i.forEach(o=>this.Us.add(o.toString()))}).next(()=>r.removeTargetData(t,s))}Ms(){this.Ls=new Set}Fs(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Us,r=>{const i=oe.fromPath(r);return this.Ks(t,i).next(o=>{o||s.removeEntry(i,me.min())})}).next(()=>(this.Ls=null,s.apply(t)))}updateLimboDocument(t,s){return this.Ks(t,s).next(r=>{r?this.Us.delete(s.toString()):this.Us.add(s.toString())})}ks(t){return 0}Ks(t,s){return V.or([()=>V.resolve(this.Bs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.$s(t,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,s,r,i){this.targetId=t,this.fromCache=s,this.Ci=r,this.xi=i}static Ni(t,s){let r=Te(),i=Te();for(const o of s.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Gh(t,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.ki=!1}initialize(t,s){this.Oi=t,this.indexManager=s,this.ki=!0}getDocumentsMatchingQuery(t,s,r,i){return this.Mi(t,s).next(o=>o||this.Fi(t,s,i,r)).next(o=>o||this.$i(t,s))}Mi(t,s){if(Gp(s))return V.resolve(null);let r=Bn(s);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(s.limit!==null&&i===1&&(s=Tu(s,null,"F"),r=Bn(s)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=Te(...o);return this.Oi.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,r).next(l=>{const h=this.Bi(s,c);return this.Li(s,h,a,l.readTime)?this.Mi(t,Tu(s,null,"F")):this.qi(t,h,s,l)}))})))}Fi(t,s,r,i){return Gp(s)||i.isEqual(me.min())?this.$i(t,s):this.Oi.getDocuments(t,r).next(o=>{const a=this.Bi(s,o);return this.Li(s,a,r,i)?this.$i(t,s):(Up()<=Re.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Au(s)),this.qi(t,a,s,HS(i,-1)))})}Bi(t,s){let r=new nt(i_(t));return s.forEach((i,o)=>{Mc(t,o)&&(r=r.add(o))}),r}Li(t,s,r,i){if(t.limit===null)return!1;if(r.size!==s.size)return!0;const o=t.limitType==="F"?s.last():s.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}$i(t,s){return Up()<=Re.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Au(s)),this.Oi.getDocumentsMatchingQuery(t,s,gs.min())}qi(t,s,r,i){return this.Oi.getDocumentsMatchingQuery(t,r,i).next(o=>(s.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,s,r,i){this.persistence=t,this.Ui=s,this.Tt=i,this.Ki=new st(Pe),this.Gi=new Xr(o=>Bh(o),jh),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jk(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.Ki))}}function lO(n,t,s,r){return new cO(n,t,s,r)}async function S_(n,t){const s=ye(n);return await s.persistence.runTransaction("Handle user change","readonly",r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,s.zi(t),s.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],c=[];let l=Te();for(const h of i){a.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}for(const h of o){c.push(h.batchId);for(const f of h.mutations)l=l.add(f.key)}return s.localDocuments.getDocuments(r,l).next(h=>({Wi:h,removedBatchIds:a,addedBatchIds:c}))})})}function uO(n,t){const s=ye(n);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=s.ji.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,d=f.keys();let g=V.resolve();return d.forEach(m=>{g=g.next(()=>h.getEntry(c,m)).next(w=>{const E=l.docVersions.get(m);Fe(E!==null),w.version.compareTo(E)<0&&(f.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(s,r,t,o).next(()=>o.apply(r)).next(()=>s.mutationQueue.performConsistencyCheck(r)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Te();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>s.localDocuments.getDocuments(r,i))})}function k_(n){const t=ye(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.Ns.getLastRemoteSnapshotVersion(s))}function hO(n,t){const s=ye(n),r=t.snapshotVersion;let i=s.Ki;return s.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=s.ji.newChangeBuffer({trackRemovals:!0});i=s.Ki;const c=[];t.targetChanges.forEach((f,d)=>{const g=i.get(d);if(!g)return;c.push(s.Ns.removeMatchingKeys(o,f.removedDocuments,d).next(()=>s.Ns.addMatchingKeys(o,f.addedDocuments,d)));let m=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.has(d)?m=m.withResumeToken(Et.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(d,m),function(w,E,I){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(g,m,f)&&c.push(s.Ns.updateTargetData(o,m))});let l=jn(),h=Te();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(s.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(fO(o,a,t.documentUpdates).next(f=>{l=f.Hi,h=f.Ji})),!r.isEqual(me.min())){const f=s.Ns.getLastRemoteSnapshotVersion(o).next(d=>s.Ns.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return V.waitFor(c).next(()=>a.apply(o)).next(()=>s.localDocuments.getLocalViewOfDocuments(o,l,h)).next(()=>l)}).then(o=>(s.Ki=i,o))}function fO(n,t,s){let r=Te(),i=Te();return s.forEach(o=>r=r.add(o)),t.getEntries(n,r).next(o=>{let a=jn();return s.forEach((c,l)=>{const h=o.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(me.min())?(t.removeEntry(c,l.readTime),a=a.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(l),a=a.insert(c,l)):re("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Hi:a,Ji:i}})}function dO(n,t){const s=ye(n);return s.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function pO(n,t){const s=ye(n);return s.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return s.Ns.getTargetData(r,t).next(o=>o?(i=o,V.resolve(i)):s.Ns.allocateTargetId(r).next(a=>(i=new Ws(t,a,0,r.currentSequenceNumber),s.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=s.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.Ki=s.Ki.insert(r.targetId,r),s.Gi.set(t,r.targetId)),r})}async function ku(n,t,s){const r=ye(n),i=r.Ki.get(t),o=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Eo(a))throw a;re("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ki=r.Ki.remove(t),r.Gi.delete(i.target)}function sg(n,t,s){const r=ye(n);let i=me.min(),o=Te();return r.persistence.runTransaction("Execute query","readonly",a=>function(c,l,h){const f=ye(c),d=f.Gi.get(h);return d!==void 0?V.resolve(f.Ki.get(d)):f.Ns.getTargetData(l,h)}(r,a,Bn(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(a,c.targetId).next(l=>{o=l})}).next(()=>r.Ui.getDocumentsMatchingQuery(a,t,s?i:me.min(),s?o:Te())).next(c=>(gO(r,uk(t),c),{documents:c,Yi:o})))}function gO(n,t,s){let r=n.Qi.get(t)||me.min();s.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Qi.set(t,r)}class rg{constructor(){this.activeTargetIds=v_()}sr(t){this.activeTargetIds=this.activeTargetIds.add(t)}ir(t){this.activeTargetIds=this.activeTargetIds.delete(t)}nr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mO{constructor(){this.Ur=new rg,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,r){}addLocalQueryTarget(t){return this.Ur.sr(t),this.Kr[t]||"not-current"}updateQueryState(t,s,r){this.Kr[t]=s}removeLocalQueryTarget(t){this.Ur.ir(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.Kr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new rg,Promise.resolve()}handleUserChange(t,s,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{Gr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(t){this.Hr.push(t)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Hr)t(0)}Wr(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Hr)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.Yr=t.Yr,this.Zr=t.Zr}Xr(t){this.eo=t}no(t){this.so=t}onMessage(t){this.io=t}close(){this.Zr()}send(t){this.Yr(t)}ro(){this.eo()}oo(t){this.so(t)}uo(t){this.io(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http";this.co=s+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(t,s,r,i,o){const a=this.fo(t,s);re("RestConnection","Sending: ",a,r);const c={};return this._o(c,i,o),this.wo(t,a,c,r).then(l=>(re("RestConnection","Received: ",l),l),l=>{throw yu("RestConnection",`${t} failed with error: `,l,"url: ",a,"request:",r),l})}mo(t,s,r,i,o,a){return this.lo(t,s,r,i,o)}_o(t,s,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Yr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}fo(t,s){const r=vO[t];return`${this.co}/v1/${s}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}wo(t,s,r,i){return new Promise((o,a)=>{const c=new RS;c.setWithCredentials(!0),c.listenOnce(DS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nl.NO_ERROR:const h=c.getResponseJson();re("Connection","XHR received:",JSON.stringify(h)),o(h);break;case Nl.TIMEOUT:re("Connection",'RPC "'+t+'" timed out'),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const f=c.getStatus();if(re("Connection",'RPC "'+t+'" failed with status:',f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const m=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(g.status);a(new Z(m,g.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{re("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(i);c.send(s,"POST",l,r,15)})}yo(t,s,r){const i=[this.co,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=kS(),a=OS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new xS({})),this._o(c.initMessageHeaders,s,r),c.encodeInitMessageHeaders=!0;const l=i.join("");re("Connection","Creating WebChannel: "+l,c);const h=o.createWebChannel(l,c);let f=!1,d=!1;const g=new _O({Yr:w=>{d?re("Connection","Not sending because WebChannel is closed:",w):(f||(re("Connection","Opening WebChannel transport."),h.open(),f=!0),re("Connection","WebChannel sending:",w),h.send(w))},Zr:()=>h.close()}),m=(w,E,I)=>{w.listen(E,k=>{try{I(k)}catch(F){setTimeout(()=>{throw F},0)}})};return m(h,ea.EventType.OPEN,()=>{d||re("Connection","WebChannel transport opened.")}),m(h,ea.EventType.CLOSE,()=>{d||(d=!0,re("Connection","WebChannel transport closed"),g.oo())}),m(h,ea.EventType.ERROR,w=>{d||(d=!0,yu("Connection","WebChannel transport errored:",w),g.oo(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),m(h,ea.EventType.MESSAGE,w=>{var E;if(!d){const I=w.data[0];Fe(!!I);const k=I,F=k.error||((E=k[0])===null||E===void 0?void 0:E.error);if(F){re("Connection","WebChannel received error:",F);const M=F.status;let T=function(S){const R=Xe[S];if(R!==void 0)return p_(R)}(M),O=F.message;T===void 0&&(T=B.INTERNAL,O="Unknown error status: "+M+" with message "+F.message),d=!0,g.oo(new Z(T,O)),h.close()}else re("Connection","WebChannel received:",I),g.uo(I)}}),m(a,NS.STAT_EVENT,w=>{w.stat===Mp.PROXY?re("Connection","Detected buffering proxy"):w.stat===Mp.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(()=>{g.ro()},0),g}}function Rl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){return new Dk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(t,s,r=1e3,i=1.5,o=6e4){this.Ys=t,this.timerId=s,this.po=r,this.Io=i,this.To=o,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(t){this.cancel();const s=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,s-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),t())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(t,s,r,i,o,a,c,l){this.Ys=t,this.So=r,this.Do=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new O_(t,s)}Oo(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Fo()}async stop(){this.Oo()&&await this.close(0)}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(t){this.Uo(),this.stream.send(t)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(t,s){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,t!==4?this.ko.reset():s&&s.code===B.RESOURCE_EXHAUSTED?(Un(s.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):s&&s.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,await this.listener.no(s)}Go(){}auth(){this.state=1;const t=this.Qo(this.Co),s=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===s&&this.jo(r,i)},r=>{t(()=>{const i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(t,s){const r=this.Qo(this.Co);this.stream=this.Wo(t,s),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Fo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(t){return re("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Qo(t){return s=>{this.Ys.enqueueAndForget(()=>this.Co===t?s():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wO extends D_{constructor(t,s,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,a),this.Tt=o}Wo(t,s){return this.connection.yo("Listen",t,s)}onMessage(t){this.ko.reset();const s=Rk(this.Tt,t),r=function(i){if(!("targetChange"in i))return me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?yn(o.readTime):me.min()}(t);return this.listener.Ho(s,r)}Jo(t){const s={};s.database=Su(this.Tt),s.addTarget=function(i,o){let a;const c=o.target;return a=wu(c)?{documents:Mk(i,c)}:{query:Fk(i,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=w_(i,o.resumeToken):o.snapshotVersion.compareTo(me.min())>0&&(a.readTime=Ga(i,o.snapshotVersion.toTimestamp())),a}(this.Tt,t);const r=Bk(this.Tt,t);r&&(s.labels=r),this.qo(s)}Yo(t){const s={};s.database=Su(this.Tt),s.removeTarget=t,this.qo(s)}}class EO extends D_{constructor(t,s,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,a),this.Tt=o,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(t,s){return this.connection.yo("Write",t,s)}onMessage(t){if(Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Zo){this.ko.reset();const s=Lk(t.writeResults,t.commitTime),r=yn(t.commitTime);return this.listener.eu(r,s)}return Fe(!t.writeResults||t.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const t={};t.database=Su(this.Tt),this.qo(t)}tu(t){const s={streamToken:this.lastStreamToken,writes:t.map(r=>Pk(this.Tt,r))};this.qo(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO extends class{}{constructor(t,s,r,i){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}lo(t,s,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.lo(t,s,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(B.UNKNOWN,i.toString())})}mo(t,s,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.mo(t,s,r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.iu=!0}}class AO{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(t){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.hu("Offline")))}set(t){this.du(),this.ou=0,t==="Online"&&(this.cu=!1),this.hu(t)}hu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}lu(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Un(s),this.cu=!1):re("OnlineStateTracker",s)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,s,r,i,o){this.localStore=t,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=o,this.yu.Gr(a=>{r.enqueueAndForget(async()=>{or(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=ye(c);l.mu.add(4),await Co(l),l.pu.set("Unknown"),l.mu.delete(4),await $c(l)}(this))})}),this.pu=new AO(r,i)}}async function $c(n){if(or(n))for(const t of n.gu)await t(!0)}async function Co(n){for(const t of n.gu)await t(!1)}function N_(n,t){const s=ye(n);s.wu.has(t.targetId)||(s.wu.set(t.targetId,t),Xh(s)?Yh(s):Jr(s).Mo()&&Qh(s,t))}function x_(n,t){const s=ye(n),r=Jr(s);s.wu.delete(t),r.Mo()&&R_(s,t),s.wu.size===0&&(r.Mo()?r.Bo():or(s)&&s.pu.set("Unknown"))}function Qh(n,t){n.Iu.Ft(t.targetId),Jr(n).Jo(t)}function R_(n,t){n.Iu.Ft(t),Jr(n).Yo(t)}function Yh(n){n.Iu=new Ck({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ie:t=>n.wu.get(t)||null}),Jr(n).start(),n.pu.au()}function Xh(n){return or(n)&&!Jr(n).Oo()&&n.wu.size>0}function or(n){return ye(n).mu.size===0}function P_(n){n.Iu=void 0}async function CO(n){n.wu.forEach((t,s)=>{Qh(n,t)})}async function SO(n,t){P_(n),Xh(n)?(n.pu.fu(t),Yh(n)):n.pu.set("Unknown")}async function kO(n,t,s){if(n.pu.set("Online"),t instanceof b_&&t.state===2&&t.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.wu.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.wu.delete(a),r.Iu.removeTarget(a))}(n,t)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Qa(n,r)}else if(t instanceof pa?n.Iu.Qt(t):t instanceof __?n.Iu.Zt(t):n.Iu.Wt(t),!s.isEqual(me.min()))try{const r=await k_(n.localStore);s.compareTo(r)>=0&&await function(i,o){const a=i.Iu.ee(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.wu.get(l);h&&i.wu.set(l,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach(c=>{const l=i.wu.get(c);if(!l)return;i.wu.set(c,l.withResumeToken(Et.EMPTY_BYTE_STRING,l.snapshotVersion)),R_(i,c);const h=new Ws(l.target,c,1,l.sequenceNumber);Qh(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(n,s)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Qa(n,r)}}async function Qa(n,t,s){if(!Eo(t))throw t;n.mu.add(1),await Co(n),n.pu.set("Offline"),s||(s=()=>k_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await s(),n.mu.delete(1),await $c(n)})}function L_(n,t){return t().catch(s=>Qa(n,s,t))}async function Vc(n){const t=ye(n),s=ys(t);let r=t._u.length>0?t._u[t._u.length-1].batchId:-1;for(;OO(t);)try{const i=await dO(t.localStore,r);if(i===null){t._u.length===0&&s.Bo();break}r=i.batchId,DO(t,i)}catch(i){await Qa(t,i)}M_(t)&&F_(t)}function OO(n){return or(n)&&n._u.length<10}function DO(n,t){n._u.push(t);const s=ys(n);s.Mo()&&s.Xo&&s.tu(t.mutations)}function M_(n){return or(n)&&!ys(n).Oo()&&n._u.length>0}function F_(n){ys(n).start()}async function NO(n){ys(n).su()}async function xO(n){const t=ys(n);for(const s of n._u)t.tu(s.mutations)}async function RO(n,t,s){const r=n._u.shift(),i=Kh.from(r,t,s);await L_(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Vc(n)}async function PO(n,t){t&&ys(n).Xo&&await async function(s,r){if(i=r.code,wk(i)&&i!==B.ABORTED){const o=s._u.shift();ys(s).$o(),await L_(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Vc(s)}var i}(n,t),M_(n)&&F_(n)}async function og(n,t){const s=ye(n);s.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=or(s);s.mu.add(3),await Co(s),r&&s.pu.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.mu.delete(3),await $c(s)}async function LO(n,t){const s=ye(n);t?(s.mu.delete(2),await $c(s)):t||(s.mu.add(2),await Co(s),s.pu.set("Unknown"))}function Jr(n){return n.Tu||(n.Tu=function(t,s,r){const i=ye(t);return i.ru(),new wO(s,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:CO.bind(null,n),no:SO.bind(null,n),Ho:kO.bind(null,n)}),n.gu.push(async t=>{t?(n.Tu.$o(),Xh(n)?Yh(n):n.pu.set("Unknown")):(await n.Tu.stop(),P_(n))})),n.Tu}function ys(n){return n.Eu||(n.Eu=function(t,s,r){const i=ye(t);return i.ru(),new EO(s,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:NO.bind(null,n),no:PO.bind(null,n),nu:xO.bind(null,n),eu:RO.bind(null,n)}),n.gu.push(async t=>{t?(n.Eu.$o(),await Vc(n)):(await n.Eu.stop(),n._u.length>0&&(re("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))})),n.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,s,r,i,o){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,s,r,i,o){const a=Date.now()+r,c=new Jh(t,s,a,i,o);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zh(n,t){if(Un("AsyncQueue",`${t}: ${n}`),Eo(n))return new Z(B.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.comparator=t?(s,r)=>t(s,r)||oe.comparator(s.key,r.key):(s,r)=>oe.comparator(s.key,r.key),this.keyedMap=yi(),this.sortedSet=new st(this.comparator)}static emptySet(t){return new Er(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,r)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Er)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const r=new Er;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.Au=new st(oe.comparator)}track(t){const s=t.doc.key,r=this.Au.get(s);r?t.type!==0&&r.type===3?this.Au=this.Au.insert(s,t):t.type===3&&r.type!==1?this.Au=this.Au.insert(s,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Au=this.Au.insert(s,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Au=this.Au.insert(s,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Au=this.Au.remove(s):t.type===1&&r.type===2?this.Au=this.Au.insert(s,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Au=this.Au.insert(s,{type:2,doc:t.doc}):de():this.Au=this.Au.insert(s,t)}Ru(){const t=[];return this.Au.inorderTraversal((s,r)=>{t.push(r)}),t}}class Fr{constructor(t,s,r,i,o,a,c,l,h){this.query=t,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(t,s,r,i,o){const a=[];return s.forEach(c=>{a.push({type:0,doc:c})}),new Fr(t,s,Er.emptySet(s),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,r=t.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.bu=void 0,this.listeners=[]}}class FO{constructor(){this.queries=new Xr(t=>r_(t),Lc),this.onlineState="Unknown",this.vu=new Set}}async function U_(n,t){const s=ye(n),r=t.query;let i=!1,o=s.queries.get(r);if(o||(i=!0,o=new MO),i)try{o.bu=await s.onListen(r)}catch(a){const c=Zh(a,`Initialization of query '${Au(t.query)}' failed`);return void t.onError(c)}s.queries.set(r,o),o.listeners.push(t),t.Pu(s.onlineState),o.bu&&t.Vu(o.bu)&&ef(s)}async function B_(n,t){const s=ye(n),r=t.query;let i=!1;const o=s.queries.get(r);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0)}if(i)return s.queries.delete(r),s.onUnlisten(r)}function UO(n,t){const s=ye(n);let r=!1;for(const i of t){const o=i.query,a=s.queries.get(o);if(a){for(const c of a.listeners)c.Vu(i)&&(r=!0);a.bu=i}}r&&ef(s)}function BO(n,t,s){const r=ye(n),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(s);r.queries.delete(t)}function ef(n){n.vu.forEach(t=>{t.next()})}class j_{constructor(t,s,r){this.query=t,this.Su=s,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Fr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.Du?this.xu(t)&&(this.Su.next(t),s=!0):this.Nu(t,this.onlineState)&&(this.ku(t),s=!0),this.Cu=t,s}onError(t){this.Su.error(t)}Pu(t){this.onlineState=t;let s=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,t)&&(this.ku(this.Cu),s=!0),s}Nu(t,s){if(!t.fromCache)return!0;const r=s!=="Offline";return(!this.options.Ou||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}xu(t){if(t.docChanges.length>0)return!0;const s=this.Cu&&this.Cu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ku(t){t=Fr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Du=!0,this.Su.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t){this.key=t}}class V_{constructor(t){this.key=t}}class jO{constructor(t,s){this.query=t,this.Ku=s,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Te(),this.mutatedKeys=Te(),this.ju=i_(t),this.zu=new Er(this.ju)}get Wu(){return this.Ku}Hu(t,s){const r=s?s.Ju:new ag,i=s?s.zu:this.zu;let o=s?s.mutatedKeys:this.mutatedKeys,a=i,c=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((f,d)=>{const g=i.get(f),m=Mc(this.query,d)?d:null,w=!!g&&this.mutatedKeys.has(g.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;g&&m?g.data.isEqual(m.data)?w!==E&&(r.track({type:3,doc:m}),I=!0):this.Yu(g,m)||(r.track({type:2,doc:m}),I=!0,(l&&this.ju(m,l)>0||h&&this.ju(m,h)<0)&&(c=!0)):!g&&m?(r.track({type:0,doc:m}),I=!0):g&&!m&&(r.track({type:1,doc:g}),I=!0,(l||h)&&(c=!0)),I&&(m?(a=a.add(m),o=E?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{zu:a,Ju:r,Li:c,mutatedKeys:o}}Yu(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,r){const i=this.zu;this.zu=t.zu,this.mutatedKeys=t.mutatedKeys;const o=t.Ju.Ru();o.sort((h,f)=>function(d,g){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return m(d)-m(g)}(h.type,f.type)||this.ju(h.doc,f.doc)),this.Zu(r);const a=s?this.Xu():[],c=this.Qu.size===0&&this.current?1:0,l=c!==this.Gu;return this.Gu=c,o.length!==0||l?{snapshot:new Fr(this.query,t.zu,i,o,t.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:a}:{tc:a}}Pu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new ag,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(t){return!this.Ku.has(t)&&!!this.zu.has(t)&&!this.zu.get(t).hasLocalMutations}Zu(t){t&&(t.addedDocuments.forEach(s=>this.Ku=this.Ku.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.Ku=this.Ku.delete(s)),this.current=t.current)}Xu(){if(!this.current)return[];const t=this.Qu;this.Qu=Te(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const s=[];return t.forEach(r=>{this.Qu.has(r)||s.push(new V_(r))}),this.Qu.forEach(r=>{t.has(r)||s.push(new $_(r))}),s}nc(t){this.Ku=t.Yi,this.Qu=Te();const s=this.Hu(t.documents);return this.applyChanges(s,!0)}sc(){return Fr.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class $O{constructor(t,s,r){this.query=t,this.targetId=s,this.view=r}}class VO{constructor(t){this.key=t,this.ic=!1}}class HO{constructor(t,s,r,i,o,a){this.localStore=t,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.rc={},this.oc=new Xr(c=>r_(c),Lc),this.uc=new Map,this.cc=new Set,this.ac=new st(oe.comparator),this.hc=new Map,this.lc=new zh,this.fc={},this.dc=new Map,this._c=Mr.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function qO(n,t){const s=e1(n);let r,i;const o=s.oc.get(t);if(o)r=o.targetId,s.sharedClientState.addLocalQueryTarget(r),i=o.view.sc();else{const a=await pO(s.localStore,Bn(t));s.isPrimaryClient&&N_(s.remoteStore,a);const c=s.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await KO(s,t,r,c==="current",a.resumeToken)}return i}async function KO(n,t,s,r,i){n.mc=(d,g,m)=>async function(w,E,I,k){let F=E.view.Hu(I);F.Li&&(F=await sg(w.localStore,E.query,!1).then(({documents:O})=>E.view.Hu(O,F)));const M=k&&k.targetChanges.get(E.targetId),T=E.view.applyChanges(F,w.isPrimaryClient,M);return lg(w,E.targetId,T.tc),T.snapshot}(n,d,g,m);const o=await sg(n.localStore,t,!0),a=new jO(t,o.Yi),c=a.Hu(o.documents),l=Io.createSynthesizedTargetChangeForCurrentChange(s,r&&n.onlineState!=="Offline",i),h=a.applyChanges(c,n.isPrimaryClient,l);lg(n,s,h.tc);const f=new $O(t,s,a);return n.oc.set(t,f),n.uc.has(s)?n.uc.get(s).push(t):n.uc.set(s,[t]),h.snapshot}async function zO(n,t){const s=ye(n),r=s.oc.get(t),i=s.uc.get(r.targetId);if(i.length>1)return s.uc.set(r.targetId,i.filter(o=>!Lc(o,t))),void s.oc.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await ku(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),x_(s.remoteStore,r.targetId),Ou(s,r.targetId)}).catch(wo)):(Ou(s,r.targetId),await ku(s.localStore,r.targetId,!0))}async function WO(n,t,s){const r=t1(n);try{const i=await function(o,a){const c=ye(o),l=tt.now(),h=a.reduce((g,m)=>g.add(m.key),Te());let f,d;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=jn(),w=Te();return c.ji.getEntries(g,h).next(E=>{m=E,m.forEach((I,k)=>{k.isValidDocument()||(w=w.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,m)).next(E=>{f=E;const I=[];for(const k of a){const F=vk(k,f.get(k.key).overlayedDocument);F!=null&&I.push(new bs(k.key,F,t_(F.value.mapValue),Yt.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,I,a)}).next(E=>{d=E;const I=E.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(g,E.batchId,I)})}).then(()=>({batchId:d.batchId,changes:m_(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.fc[o.currentUser.toKey()];l||(l=new st(Pe)),l=l.insert(a,c),o.fc[o.currentUser.toKey()]=l}(r,i.batchId,s),await So(r,i.changes),await Vc(r.remoteStore)}catch(i){const o=Zh(i,"Failed to persist write");s.reject(o)}}async function H_(n,t){const s=ye(n);try{const r=await hO(s.localStore,t);t.targetChanges.forEach((i,o)=>{const a=s.hc.get(o);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.ic=!0:i.modifiedDocuments.size>0?Fe(a.ic):i.removedDocuments.size>0&&(Fe(a.ic),a.ic=!1))}),await So(s,r,t)}catch(r){await wo(r)}}function cg(n,t,s){const r=ye(n);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.oc.forEach((o,a)=>{const c=a.view.Pu(t);c.snapshot&&i.push(c.snapshot)}),function(o,a){const c=ye(o);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const d of f.listeners)d.Pu(a)&&(l=!0)}),l&&ef(c)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function GO(n,t,s){const r=ye(n);r.sharedClientState.updateQueryState(t,"rejected",s);const i=r.hc.get(t),o=i&&i.key;if(o){let a=new st(oe.comparator);a=a.insert(o,mt.newNoDocument(o,me.min()));const c=Te().add(o),l=new Bc(me.min(),new Map,new nt(Pe),a,c);await H_(r,l),r.ac=r.ac.remove(o),r.hc.delete(t),tf(r)}else await ku(r.localStore,t,!1).then(()=>Ou(r,t,s)).catch(wo)}async function QO(n,t){const s=ye(n),r=t.batch.batchId;try{const i=await uO(s.localStore,t);K_(s,r,null),q_(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await So(s,i)}catch(i){await wo(i)}}async function YO(n,t,s){const r=ye(n);try{const i=await function(o,a){const c=ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Fe(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,t);K_(r,t,s),q_(r,t),r.sharedClientState.updateMutationState(t,"rejected",s),await So(r,i)}catch(i){await wo(i)}}function q_(n,t){(n.dc.get(t)||[]).forEach(s=>{s.resolve()}),n.dc.delete(t)}function K_(n,t,s){const r=ye(n);let i=r.fc[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(s?o.reject(s):o.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function Ou(n,t,s=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.uc.get(t))n.oc.delete(r),s&&n.rc.gc(r,s);n.uc.delete(t),n.isPrimaryClient&&n.lc.ds(t).forEach(r=>{n.lc.containsKey(r)||z_(n,r)})}function z_(n,t){n.cc.delete(t.path.canonicalString());const s=n.ac.get(t);s!==null&&(x_(n.remoteStore,s),n.ac=n.ac.remove(t),n.hc.delete(s),tf(n))}function lg(n,t,s){for(const r of s)r instanceof $_?(n.lc.addReference(r.key,t),XO(n,r)):r instanceof V_?(re("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,t),n.lc.containsKey(r.key)||z_(n,r.key)):de()}function XO(n,t){const s=t.key,r=s.path.canonicalString();n.ac.get(s)||n.cc.has(r)||(re("SyncEngine","New document in limbo: "+s),n.cc.add(r),tf(n))}function tf(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const t=n.cc.values().next().value;n.cc.delete(t);const s=new oe(je.fromString(t)),r=n._c.next();n.hc.set(r,new VO(s)),n.ac=n.ac.insert(s,r),N_(n.remoteStore,new Ws(Bn($h(s.path)),r,2,Fh.at))}}async function So(n,t,s){const r=ye(n),i=[],o=[],a=[];r.oc.isEmpty()||(r.oc.forEach((c,l)=>{a.push(r.mc(l,t,s).then(h=>{if((h||s)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=Gh.Ni(l.targetId,h);o.push(f)}}))}),await Promise.all(a),r.rc.Ho(i),await async function(c,l){const h=ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(l,d=>V.forEach(d.Ci,g=>h.persistence.referenceDelegate.addReference(f,d.targetId,g)).next(()=>V.forEach(d.xi,g=>h.persistence.referenceDelegate.removeReference(f,d.targetId,g)))))}catch(f){if(!Eo(f))throw f;re("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const g=h.Ki.get(d),m=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(m);h.Ki=h.Ki.insert(d,w)}}}(r.localStore,o))}async function JO(n,t){const s=ye(n);if(!s.currentUser.isEqual(t)){re("SyncEngine","User change. New user:",t.toKey());const r=await S_(s.localStore,t);s.currentUser=t,function(i,o){i.dc.forEach(a=>{a.forEach(c=>{c.reject(new Z(B.CANCELLED,o))})}),i.dc.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await So(s,r.Wi)}}function ZO(n,t){const s=ye(n),r=s.hc.get(t);if(r&&r.ic)return Te().add(r.key);{let i=Te();const o=s.uc.get(t);if(!o)return i;for(const a of o){const c=s.oc.get(a);i=i.unionWith(c.view.Wu)}return i}}function e1(n){const t=ye(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=H_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GO.bind(null,t),t.rc.Ho=UO.bind(null,t.eventManager),t.rc.gc=BO.bind(null,t.eventManager),t}function t1(n){const t=ye(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YO.bind(null,t),t}let n1=class{constructor(){this.synchronizeTabs=!1}async initialize(t){this.Tt=jc(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),await this.persistence.start(),this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore)}Ac(t,s){return null}Rc(t,s){return null}Ec(t){return lO(this.persistence,new aO,t.initialUser,this.Tt)}Tc(t){return new iO(Wh.qs,this.Tt)}Ic(t){return new mO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}};class s1{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new FO}createDatastore(t){const s=jc(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new bO(i));var i;return function(o,a,c,l){return new TO(o,a,c,l)}(t.authCredentials,t.appCheckCredentials,r,s)}createRemoteStore(t){return s=this.localStore,r=this.datastore,i=t.asyncQueue,o=c=>cg(this.syncEngine,c,0),a=ig.C()?new ig:new yO,new IO(s,r,i,o,a);var s,r,i,o,a}createSyncEngine(t,s){return function(r,i,o,a,c,l,h){const f=new HO(r,i,o,a,c,l);return h&&(f.wc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}terminate(){return async function(t){const s=ye(t);re("RemoteStore","RemoteStore shutting down."),s.mu.add(5),await Co(s),s.yu.shutdown(),s.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.vc(this.observer.next,t)}error(t){this.observer.error?this.vc(this.observer.error,t):Un("Uncaught Error in snapshot listener:",t.toString())}Pc(){this.muted=!0}vc(t,s){this.muted||setTimeout(()=>{this.muted||t(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,s,r,i){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Kv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const r=Zh(s,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function i1(n,t){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const s=await n.getConfiguration();await t.initialize(s);let r=s.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await S_(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}async function o1(n,t){n.asyncQueue.verifyOperationInProgress();const s=await a1(n);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await n.getConfiguration();await t.initialize(s,r),n.setCredentialChangeListener(i=>og(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>og(t.remoteStore,o)),n.onlineComponents=t}async function a1(n){return n.offlineComponents||(re("FirestoreClient","Using default OfflineComponentProvider"),await i1(n,new n1)),n.offlineComponents}async function G_(n){return n.onlineComponents||(re("FirestoreClient","Using default OnlineComponentProvider"),await o1(n,new s1)),n.onlineComponents}function c1(n){return G_(n).then(t=>t.syncEngine)}async function Q_(n){const t=await G_(n),s=t.eventManager;return s.onListen=qO.bind(null,t.syncEngine),s.onUnlisten=zO.bind(null,t.syncEngine),s}function l1(n,t,s={}){const r=new Ln;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const h=new W_({next:d=>{o.enqueueAndForget(()=>B_(i,f));const g=d.docs.has(a);!g&&d.fromCache?l.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&c&&c.source==="server"?l.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new j_($h(a.path),h,{includeMetadataChanges:!0,Ou:!0});return U_(i,f)}(await Q_(n),n.asyncQueue,t,s,r)),r.promise}function u1(n,t,s={}){const r=new Ln;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const h=new W_({next:d=>{o.enqueueAndForget(()=>B_(i,f)),d.fromCache&&c.source==="server"?l.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new j_(a,h,{includeMetadataChanges:!0,Ou:!0});return U_(i,f)}(await Q_(n),n.asyncQueue,t,s,r)),r.promise}const ug=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n,t,s){if(!s)throw new Z(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function h1(n,t,s,r){if(t===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${n} and ${s} cannot be used together.`)}function hg(n){if(!oe.isDocumentKey(n))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fg(n){if(oe.isDocumentKey(n))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":de()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Hc(n);throw new Z(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){var s;if(t.host===void 0){if(t.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(s=t.ssl)===null||s===void 0||s;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,h1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,s,r,i){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dg(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PS;switch(s.type){case"gapi":const r=s.client;return new US(r,s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ug.get(t);s&&(re("ComponentProvider","Removing Datastore"),ug.delete(t),s.terminate())}(this),Promise.resolve()}}function f1(n,t,s,r={}){var i;const o=(n=an(n,qc))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==t&&yu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${s}`,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=gt.MOCK_USER;else{a=dI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gt(l)}n._authCredentials=new LS(new qv(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new kt(this.firestore,t,this._key)}}class Zr{constructor(t,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zr(this.firestore,t,this._query)}}class hs extends Zr{constructor(t,s,r){super(t,s,$h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new kt(this.firestore,null,new oe(t))}withConverter(t){return new hs(this.firestore,t,this._path)}}function pg(n,t,...s){if(n=at(n),Y_("collection","path",t),n instanceof qc){const r=je.fromString(t,...s);return fg(r),new hs(n,null,r)}{if(!(n instanceof kt||n instanceof hs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(t,...s));return fg(r),new hs(n.firestore,null,r)}}function ga(n,t,...s){if(n=at(n),arguments.length===1&&(t=Kv.R()),Y_("doc","path",t),n instanceof qc){const r=je.fromString(t,...s);return hg(r),new kt(n,null,new oe(r))}{if(!(n instanceof kt||n instanceof hs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(je.fromString(t,...s));return hg(r),new kt(n.firestore,n instanceof hs?n.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new O_(this,"async_queue_retry"),this.Hc=()=>{const s=Rl();s&&re("AsyncQueue","Visibility state changed to "+s.visibilityState),this.ko.Vo()};const t=Rl();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Jc(),this.Yc(t)}enterRestrictedMode(t){if(!this.Kc){this.Kc=!0,this.zc=t||!1;const s=Rl();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Hc)}}enqueue(t){if(this.Jc(),this.Kc)return new Promise(()=>{});const s=new Ln;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Uc.push(t),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(t){if(!Eo(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(t){const s=this.qc.then(()=>(this.jc=!0,t().catch(r=>{this.Qc=r,this.jc=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=s,s}enqueueAfterDelay(t,s,r){this.Jc(),this.Wc.indexOf(t)>-1&&(s=0);const i=Jh.createAndSchedule(this,t,s,r,o=>this.Xc(o));return this.Gc.push(i),i}Jc(){this.Qc&&de()}verifyOperationInProgress(){}async ta(){let t;do t=this.qc,await t;while(t!==this.qc)}ea(t){for(const s of this.Gc)if(s.timerId===t)return!0;return!1}na(t){return this.ta().then(()=>{this.Gc.sort((s,r)=>s.targetTimeMs-r.targetTimeMs);for(const s of this.Gc)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.ta()})}sa(t){this.Wc.push(t)}Xc(t){const s=this.Gc.indexOf(t);this.Gc.splice(s,1)}}class ar extends qc{constructor(t,s,r,i){super(t,s,r,i),this.type="firestore",this._queue=new d1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||X_(this),this._firestoreClient.terminate()}}function p1(n,t){const s=typeof n=="object"?n:By(),r=typeof n=="string"?n:t||"(default)",i=ph(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uI("firestore");o&&f1(i,...o)}return i}function nf(n){return n._firestoreClient||X_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X_(n){var t;const s=n._freezeSettings(),r=function(i,o,a,c){return new GS(i,o,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._firestoreClient=new r1(n._authCredentials,n._appCheckCredentials,n._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ur(Et.fromBase64String(t))}catch(s){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new Ur(Et.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=/^__.*__$/;class m1{constructor(t,s,r){this.data=t,this.fieldMask=s,this.fieldTransforms=r}toMutation(t,s){return this.fieldMask!==null?new bs(t,this.data,this.fieldMask,s,this.fieldTransforms):new Ao(t,this.data,s,this.fieldTransforms)}}class J_{constructor(t,s,r){this.data=t,this.fieldMask=s,this.fieldTransforms=r}toMutation(t,s){return new bs(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function Z_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class of{constructor(t,s,r,i,o,a){this.settings=t,this.databaseId=s,this.Tt=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ia(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(t){return new of(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(t){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(t),i=this.oa({path:r,ca:!1});return i.aa(t),i}ha(t){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(t),i=this.oa({path:r,ca:!1});return i.ia(),i}la(t){return this.oa({path:void 0,ca:!0})}fa(t){return Ya(t,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(t){return this.fieldMask.find(s=>t.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>t.isPrefixOf(s.field))!==void 0}ia(){if(this.path)for(let t=0;t<this.path.length;t++)this.aa(this.path.get(t))}aa(t){if(t.length===0)throw this.fa("Document fields must not be empty");if(Z_(this.ra)&&g1.test(t))throw this.fa('Document fields cannot begin and end with "__"')}}class y1{constructor(t,s,r){this.databaseId=t,this.ignoreUndefinedProperties=s,this.Tt=r||jc(t)}wa(t,s,r,i=!1){return new of({ra:t,methodName:s,_a:r,path:vt.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function zc(n){const t=n._freezeSettings(),s=jc(n._databaseId);return new y1(n._databaseId,!!t.ignoreUndefinedProperties,s)}function eb(n,t,s,r,i,o={}){const a=n.wa(o.merge||o.mergeFields?2:0,t,s,i);af("Data must be an object, but it was:",a,r);const c=tb(r,a);let l,h;if(o.merge)l=new jt(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const d of o.mergeFields){const g=Du(t,d,s);if(!a.contains(g))throw new Z(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sb(f,g)||f.push(g)}l=new jt(f),h=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,h=a.fieldTransforms;return new m1(new Rt(c),l,h)}class Wc extends sf{_toFieldTransform(t){if(t.ra!==2)throw t.ra===1?t.fa(`${this._methodName}() can only appear at the top level of your update data`):t.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wc}}function v1(n,t,s,r){const i=n.wa(1,t,s);af("Data must be an object, but it was:",i,r);const o=[],a=Rt.empty();ir(r,(l,h)=>{const f=cf(t,l,s);h=at(h);const d=i.ha(f);if(h instanceof Wc)o.push(f);else{const g=ko(h,d);g!=null&&(o.push(f),a.set(f,g))}});const c=new jt(o);return new J_(a,c,i.fieldTransforms)}function _1(n,t,s,r,i,o){const a=n.wa(1,t,s),c=[Du(t,r,s)],l=[i];if(o.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)c.push(Du(t,o[g])),l.push(o[g+1]);const h=[],f=Rt.empty();for(let g=c.length-1;g>=0;--g)if(!sb(h,c[g])){const m=c[g];let w=l[g];w=at(w);const E=a.ha(m);if(w instanceof Wc)h.push(m);else{const I=ko(w,E);I!=null&&(h.push(m),f.set(m,I))}}const d=new jt(h);return new J_(f,d,a.fieldTransforms)}function b1(n,t,s,r=!1){return ko(s,n.wa(r?4:3,t))}function ko(n,t){if(nb(n=at(n)))return af("Unsupported field value:",t,n),tb(n,t);if(n instanceof sf)return function(s,r){if(!Z_(r.ra))throw r.fa(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ca&&t.ra!==4)throw t.fa("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let c=ko(a,r.la(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(n,t)}return function(s,r){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fk(r.Tt,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=tt.fromDate(s);return{timestampValue:Ga(r.Tt,i)}}if(s instanceof tt){const i=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ga(r.Tt,i)}}if(s instanceof rf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ur)return{bytesValue:w_(r.Tt,s._byteString)};if(s instanceof kt){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.fa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qh(s.firestore._databaseId||r.databaseId,s._key.path)}}throw r.fa(`Unsupported field value: ${Hc(s)}`)}(n,t)}function tb(n,t){const s={};return zv(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(n,(r,i)=>{const o=ko(i,t.ua(r));o!=null&&(s[r]=o)}),{mapValue:{fields:s}}}function nb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof rf||n instanceof Ur||n instanceof kt||n instanceof sf)}function af(n,t,s){if(!nb(s)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(s)){const r=Hc(s);throw r==="an object"?t.fa(n+" a custom object"):t.fa(n+" "+r)}}function Du(n,t,s){if((t=at(t))instanceof Kc)return t._internalPath;if(typeof t=="string")return cf(n,t);throw Ya("Field path arguments must be of type string or ",n,!1,void 0,s)}const w1=new RegExp("[~\\*/\\[\\]]");function cf(n,t,s){if(t.search(w1)>=0)throw Ya(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,s);try{return new Kc(...t.split("."))._internalPath}catch{throw Ya(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,s)}}function Ya(n,t,s,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${t}() called with invalid data`;s&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Z(B.INVALID_ARGUMENT,c+n+l)}function sb(n,t){return n.some(s=>s.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,s,r,i,o){this._firestore=t,this._userDataWriter=s,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new E1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(ib("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class E1 extends rb{data(){return super.data()}}function ib(n,t){return typeof t=="string"?cf(n,t):t instanceof Kc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lf{}class A1 extends lf{}function gg(n,t,...s){let r=[];t instanceof lf&&r.push(t),r=r.concat(s),function(i){const o=i.filter(c=>c instanceof hf).length,a=i.filter(c=>c instanceof uf).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class uf extends A1{constructor(t,s,r){super(),this._field=t,this._op=s,this._value=r,this.type="where"}static _create(t,s,r){return new uf(t,s,r)}_apply(t){const s=this._parse(t);return ob(t._query,s),new Zr(t.firestore,t.converter,Eu(t._query,s))}_parse(t){const s=zc(t.firestore);return function(i,o,a,c,l,h,f){let d;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){yg(f,h);const g=[];for(const m of f)g.push(mg(c,i,m));d={arrayValue:{values:g}}}else d=mg(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||yg(f,h),d=b1(a,o,f,h==="in"||h==="not-in");return Ze.create(l,h,d)}(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}class hf extends lf{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new hf(t,s)}_parse(t){const s=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return s.length===1?s[0]:on.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const c of a)ob(o,c),o=Eu(o,c)}(t._query,s),new Zr(t.firestore,t.converter,Eu(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mg(n,t,s){if(typeof(s=at(s))=="string"){if(s==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s_(t)&&s.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=t.path.child(je.fromString(s));if(!oe.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $p(n,new oe(r))}if(s instanceof kt)return $p(n,s._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(s)}.`)}function yg(n,t){if(!Array.isArray(n)||n.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ob(n,t){if(t.isInequality()){const r=Vh(n),i=t.field;if(r!==null&&!r.isEqual(i))throw new Z(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=n_(n);o!==null&&I1(n,i,o)}const s=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(s!==null)throw s===t.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}function I1(n,t,s){if(!s.isEqual(t))throw new Z(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${s.toString()}' instead.`)}class C1{convertValue(t,s="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 10:return this.convertObject(t.mapValue,s);default:throw de()}}convertObject(t,s){const r={};return ir(t.fields,(i,o)=>{r[i]=this.convertValue(o,s)}),r}convertGeoPoint(t){return new rf(Je(t.latitude),Je(t.longitude))}convertArray(t,s){return(t.values||[]).map(r=>this.convertValue(r,s))}convertServerTimestamp(t,s){switch(s){case"previous":const r=Gv(t);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(eo(t));default:return null}}convertTimestamp(t){const s=ms(t);return new tt(s.seconds,s.nanos)}convertDocumentKey(t,s){const r=je.fromString(t);Fe(C_(r));const i=new Zi(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(s)||Un(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n,t,s){let r;return r=n?s&&(s.merge||s.mergeFields)?n.toFirestore(t,s):n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cb extends rb{constructor(t,s,r,i,o,a){super(t,s,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const r=this._document.data.field(ib("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}}class ma extends cb{data(t={}){return super.data(t)}}class S1{constructor(t,s,r,i){this._firestore=t,this._userDataWriter=s,this._snapshot=i,this.metadata=new vi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach(r=>{t.call(s,new ma(this._firestore,this._userDataWriter,r.key,r,new vi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const c=new ma(r._firestore,r._userDataWriter,a.doc.key,a.doc,new vi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new ma(r._firestore,r._userDataWriter,a.doc.key,a.doc,new vi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:k1(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function k1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){n=an(n,kt);const t=an(n.firestore,ar);return l1(nf(t),n._key).then(s=>x1(t,n,s))}class lb extends C1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ur(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new kt(this.firestore,null,s)}}function vg(n){n=an(n,Zr);const t=an(n.firestore,ar),s=nf(t),r=new lb(t);return T1(n._query),u1(s,n._query).then(i=>new S1(t,r,n,i))}function D1(n,t,s){n=an(n,kt);const r=an(n.firestore,ar),i=ab(n.converter,t,s);return Gc(r,[eb(zc(r),"setDoc",n._key,i,n.converter!==null,s).toMutation(n._key,Yt.none())])}function xP(n,t,s,...r){n=an(n,kt);const i=an(n.firestore,ar),o=zc(i);let a;return a=typeof(t=at(t))=="string"||t instanceof Kc?_1(o,"updateDoc",n._key,t,s,r):v1(o,"updateDoc",n._key,t),Gc(i,[a.toMutation(n._key,Yt.exists(!0))])}function N1(n){return Gc(an(n.firestore,ar),[new Hh(n._key,Yt.none())])}function RP(n,t){const s=an(n.firestore,ar),r=ga(n),i=ab(n.converter,t);return Gc(s,[eb(zc(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function Gc(n,t){return function(s,r){const i=new Ln;return s.asyncQueue.enqueueAndForget(async()=>WO(await c1(s),r,i)),i.promise}(nf(n),t)}function x1(n,t,s){const r=s.docs.get(t._key),i=new lb(n);return new cb(n,i,t._key,r,new vi(s.hasPendingWrites,s.fromCache),t.converter)}(function(n,t=!0){(function(s){Yr=s})(uo),Dr(new Ys("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new ar(new MS(s.getProvider("auth-internal")),new jS(s.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zi(c.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),us(Fp,"3.8.4",n),us(Fp,"3.8.4","esm2017")})();function ff(n,t){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(s[r[i]]=n[r[i]]);return s}function ub(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R1=ub,hb=new co("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new fh("@firebase/auth");function ya(n,...t){_g.logLevel<=Re.ERROR&&_g.error(`Auth (${uo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n,...t){throw df(n,...t)}function vn(n,...t){return df(n,...t)}function P1(n,t,s){const r=Object.assign(Object.assign({},R1()),{[t]:s});return new co("auth","Firebase",r).create(t,{appName:n.name})}function df(n,...t){if(typeof n!="string"){const s=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return hb.create(n,...t)}function he(n,t,...s){if(!n)throw df(t,...s)}function Nn(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ya(t),new Error(t)}function $n(n,t){n||Nn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=new Map;function xn(n){$n(n instanceof Function,"Expected a class definition");let t=bg.get(n);return t?($n(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,bg.set(n,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n,t){const s=ph(n,"auth");if(s.isInitialized()){const i=s.getImmediate(),o=s.getOptions();if(Pa(o,t??{}))return i;cn(i,"already-initialized")}return s.initialize({options:t})}function M1(n,t){const s=(t==null?void 0:t.persistence)||[],r=(Array.isArray(s)?s:[s]).map(xn);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function F1(){return wg()==="http:"||wg()==="https:"}function wg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F1()||gI()||"connection"in navigator)?navigator.onLine:!0}function B1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,s){this.shortDelay=t,this.longDelay=s,$n(s>t,"Short delay should be less than long delay!"),this.isMobile=pI()||mI()}get(){return U1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n,t){$n(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(t,s,r){this.fetchImpl=t,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Oo(3e4,6e4);function Qc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Do(n,t,s,r,i={}){return db(n,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const c=lo(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),fb.fetch()(pb(n,n.config.apiHost,s,c),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function db(n,t,s){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},j1),t);try{const i=new V1(n),o=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw sa(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sa(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw sa(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw sa(n,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw P1(n,f,h);cn(n,f)}}catch(i){if(i instanceof qn)throw i;cn(n,"internal-error",{message:String(i)})}}async function Yc(n,t,s,r,i={}){const o=await Do(n,t,s,r,i);return"mfaPendingCredential"in o&&cn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function pb(n,t,s,r){const i=`${t}${s}?${r}`;return n.config.emulator?pf(n.config,i):`${n.config.apiScheme}://${i}`}class V1{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),$1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sa(n,t,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=vn(n,t,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(n,t){return Do(n,"POST","/v1/accounts:delete",t)}async function q1(n,t){return Do(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function K1(n,t=!1){const s=at(n),r=await s.getIdToken(t),i=gf(r);he(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xi(Pl(i.auth_time)),issuedAtTime:xi(Pl(i.iat)),expirationTime:xi(Pl(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Pl(n){return Number(n)*1e3}function gf(n){const[t,s,r]=n.split(".");if(t===void 0||s===void 0||r===void 0)return ya("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ry(s);return i?JSON.parse(i):(ya("Failed to decode base64 JWT payload"),null)}catch(i){return ya("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z1(n){const t=gf(n);return he(t,"internal-error"),he(typeof t.exp<"u","internal-error"),he(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(n,t,s=!1){if(s)return t;try{return await t}catch(r){throw r instanceof qn&&W1(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function W1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=xi(this.lastLoginAt),this.creationTime=xi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(n){var t;const s=n.auth,r=await n.getIdToken(),i=await ro(n,q1(s,{idToken:r}));he(i==null?void 0:i.users.length,s,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?X1(o.providerUserInfo):[],c=Y1(n.providerData,a),l=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),f=l?h:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gb(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,d)}async function Q1(n){const t=at(n);await Xa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y1(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function X1(n){return n.map(t=>{var{providerId:s}=t,r=ff(t,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(n,t){const s=await db(n,{},async()=>{const r=lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,a=pb(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fb.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){he(t.idToken,"internal-error"),he(typeof t.idToken<"u","internal-error"),he(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}async getToken(t,s=!1){return he(!this.accessToken||this.refreshToken,t,"user-token-expired"),!s&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:r,refreshToken:i,expiresIn:o}=await J1(t,s);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,s,r){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,s){const{refreshToken:r,accessToken:i,expirationTime:o}=s,a=new io;return r&&(he(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(n,t){he(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Gs{constructor(t){var{uid:s,auth:r,stsTokenManager:i}=t,o=ff(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const s=await ro(this,this.stsTokenManager.getToken(this.auth,t));return he(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return K1(this,t)}reload(){return Q1(this)}_assign(t){this!==t&&(he(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Gs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),s&&await Xa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ro(this,H1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var r,i,o,a,c,l,h,f;const d=(r=s.displayName)!==null&&r!==void 0?r:void 0,g=(i=s.email)!==null&&i!==void 0?i:void 0,m=(o=s.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=s.photoURL)!==null&&a!==void 0?a:void 0,E=(c=s.tenantId)!==null&&c!==void 0?c:void 0,I=(l=s._redirectEventId)!==null&&l!==void 0?l:void 0,k=(h=s.createdAt)!==null&&h!==void 0?h:void 0,F=(f=s.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:M,emailVerified:T,isAnonymous:O,providerData:S,stsTokenManager:R}=s;he(M&&R,t,"internal-error");const x=io.fromJSON(this.name,R);he(typeof M=="string",t,"internal-error"),Qn(d,t.name),Qn(g,t.name),he(typeof T=="boolean",t,"internal-error"),he(typeof O=="boolean",t,"internal-error"),Qn(m,t.name),Qn(w,t.name),Qn(E,t.name),Qn(I,t.name),Qn(k,t.name),Qn(F,t.name);const q=new Gs({uid:M,auth:t,email:g,emailVerified:T,displayName:d,isAnonymous:O,photoURL:w,phoneNumber:m,tenantId:E,stsTokenManager:x,createdAt:k,lastLoginAt:F});return S&&Array.isArray(S)&&(q.providerData=S.map(J=>Object.assign({},J))),I&&(q._redirectEventId=I),q}static async _fromIdTokenResponse(t,s,r=!1){const i=new io;i.updateFromServerResponse(s);const o=new Gs({uid:s.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Xa(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}mb.type="NONE";const Eg=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(n,t,s){return`firebase:${n}:${t}:${s}`}class Tr{constructor(t,s,r){this.persistence=t,this.auth=s,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=va(this.userKey,i.apiKey,o),this.fullPersistenceKey=va("persistence",i.apiKey,o),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Gs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,r="authUser"){if(!s.length)return new Tr(xn(Eg),t,r);const i=(await Promise.all(s.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||xn(Eg);const a=va(r,t.config.apiKey,t.name);let c=null;for(const h of s)try{const f=await h._get(a);if(f){const d=Gs._fromJSON(t,f);h!==o&&(c=d),o=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Tr(o,t,r):(o=l[0],c&&await o._set(a,c.toJSON()),await Promise.all(s.map(async h=>{if(h!==o)try{await h._remove(a)}catch{}})),new Tr(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_b(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wb(t))return"Blackberry";if(Eb(t))return"Webos";if(mf(t))return"Safari";if((t.includes("chrome/")||vb(t))&&!t.includes("edge/"))return"Chrome";if(bb(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yb(n=wt()){return/firefox\//i.test(n)}function mf(n=wt()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vb(n=wt()){return/crios\//i.test(n)}function _b(n=wt()){return/iemobile/i.test(n)}function bb(n=wt()){return/android/i.test(n)}function wb(n=wt()){return/blackberry/i.test(n)}function Eb(n=wt()){return/webos/i.test(n)}function Xc(n=wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z1(n=wt()){var t;return Xc(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function eD(){return yI()&&document.documentMode===10}function Tb(n=wt()){return Xc(n)||bb(n)||Eb(n)||wb(n)||/windows phone/i.test(n)||_b(n)}function tD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n,t=[]){let s;switch(n){case"Browser":s=Tg(wt());break;case"Worker":s=`${Tg(wt())}-${n}`;break;default:s=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const r=o=>new Promise((a,c)=>{try{const l=t(o);a(l)}catch(l){c(l)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const r of this.queue)await r(t),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,s,r){this.app=t,this.heartbeatServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ag(this),this.idTokenSubscription=new Ag(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=xn(s)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Tr.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var s;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,c=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===c)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await Xa(t)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const s=t?at(t):null;return s&&he(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&he(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xn(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new co("auth","Firebase",t())}onAuthStateChanged(t,s,r){return this.registerStateListener(this.authStateSubscription,t,s,r)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,r){return this.registerStateListener(this.idTokenSubscription,t,s,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const r=await this.getOrInitRedirectPersistenceManager(s);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&xn(t)||this._popupRedirectResolver;he(s,this,"argument-error"),this.redirectPersistenceManager=await Tr.create(this,[xn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,r,i){if(this._deleted)return()=>{};const o=typeof s=="function"?s:s.next.bind(s),a=this._isInitialized?Promise.resolve():this._initializationPromise;return he(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof s=="function"?t.addObserver(s,r,i):t.addObserver(s)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(s["X-Firebase-Client"]=r),s}}function Jc(n){return at(n)}class Ag{constructor(t){this.auth=t,this.observer=null,this.addObserver=AI(s=>this.observer=s)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rD(n,t,s){const r=Jc(n);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(s!=null&&s.disableWarnings),o=Ib(t),{host:a,port:c}=iD(t),l=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oD()}function Ib(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function iD(n){const t=Ib(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ig(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Ig(a)}}}function Ig(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function oD(){function n(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return Nn("not implemented")}_getIdTokenResponse(t){return Nn("not implemented")}_linkToIdToken(t,s){return Nn("not implemented")}_getReauthenticationResolver(t){return Nn("not implemented")}}async function aD(n,t){return Do(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,t){return Yc(n,"POST","/v1/accounts:signInWithPassword",Qc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,t){return Yc(n,"POST","/v1/accounts:signInWithEmailLink",Qc(n,t))}async function uD(n,t){return Yc(n,"POST","/v1/accounts:signInWithEmailLink",Qc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends yf{constructor(t,s,r,i=null){super("password",r),this._email=t,this._password=s,this._tenantId=i}static _fromEmailAndPassword(t,s){return new oo(t,s,"password")}static _fromEmailAndCode(t,s,r=null){return new oo(t,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return cD(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return lD(t,{email:this._email,oobCode:this._password});default:cn(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":return aD(t,{idToken:s,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return uD(t,{idToken:s,email:this._email,oobCode:this._password});default:cn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ar(n,t){return Yc(n,"POST","/v1/accounts:signInWithIdp",Qc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="http://localhost";class er extends yf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new er(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):cn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=s,o=ff(s,["providerId","signInMethod"]);if(!r||!i)return null;const a=new er(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const s=this.buildRequest();return Ar(t,s)}_linkToIdToken(t,s){const r=this.buildRequest();return r.idToken=s,Ar(t,r)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Ar(t,s)}buildRequest(){const t={requestUri:hD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=lo(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dD(n){const t=di(pi(n)).link,s=t?di(pi(t)).deep_link_id:null,r=di(pi(n)).deep_link_id;return(r?di(pi(r)).link:null)||r||s||t||n}class vf{constructor(t){var s,r,i,o,a,c;const l=di(pi(t)),h=(s=l.apiKey)!==null&&s!==void 0?s:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,d=fD((i=l.mode)!==null&&i!==void 0?i:null);he(h&&f&&d,"argument-error"),this.apiKey=h,this.operation=d,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const s=dD(t);try{return new vf(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.providerId=ei.PROVIDER_ID}static credential(t,s){return oo._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const r=vf.parseLink(s);return he(r,"argument-error"),oo._fromEmailAndCode(t,r.code,r.tenantId)}}ei.PROVIDER_ID="password";ei.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ei.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends No{constructor(){super("facebook.com")}static credential(t){return er._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends No{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return er._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:r}=t;if(!s&&!r)return null;try{return ss.credential(s,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends No{constructor(){super("github.com")}static credential(t){return er._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends No{constructor(){super("twitter.com")}static credential(t,s){return er._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=t;if(!s||!r)return null;try{return is.credential(s,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,r,i=!1){const o=await Gs._fromIdTokenResponse(t,r,i),a=Cg(r);return new Br({user:o,providerId:a,_tokenResponse:r,operationType:s})}static async _forOperation(t,s,r){await t._updateTokensIfNecessary(r,!0);const i=Cg(r);return new Br({user:t,providerId:i,_tokenResponse:r,operationType:s})}}function Cg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends qn{constructor(t,s,r,i){var o;super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ja.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,s,r,i){return new Ja(t,s,r,i)}}function Sb(n,t,s,r){return(t==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ja._fromErrorAndOperation(n,o,t,r):o})}async function pD(n,t,s=!1){const r=await ro(n,t._linkToIdToken(n.auth,await n.getIdToken()),s);return Br._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,t,s=!1){const{auth:r}=n,i="reauthenticate";try{const o=await ro(n,Sb(r,i,t,n),s);he(o.idToken,r,"internal-error");const a=gf(o.idToken);he(a,r,"internal-error");const{sub:c}=a;return he(n.uid===c,r,"user-mismatch"),Br._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(n,t,s=!1){const r="signIn",i=await Sb(n,r,t),o=await Br._fromIdTokenResponse(n,r,i);return s||await n._updateCurrentUser(o.user),o}async function mD(n,t){return kb(Jc(n),t)}function yD(n,t,s){return mD(at(n),ei.credential(t,s))}function vD(n,t,s,r){return at(n).onIdTokenChanged(t,s,r)}function _D(n,t,s){return at(n).beforeAuthStateChanged(t,s)}function bD(n,t,s,r){return at(n).onAuthStateChanged(t,s,r)}function wD(n){return at(n).signOut()}const Za="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){const n=wt();return mf(n)||Xc(n)}const TD=1e3,AD=10;class Db extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ED()&&tD(),this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&t(s,i,r)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const r=t.key;if(s?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!s)return}const i=()=>{const a=this.storage.getItem(r);!s&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);eD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,AD):i()}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:r}),!0)})},TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}Db.type="LOCAL";const ID=Db;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}Nb.type="SESSION";const xb=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(i=>i.isListeningto(t));if(s)return s;const r=new Zc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:r,eventType:i,data:o}=s.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async h=>h(s.origin,o)),l=await CD(c);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n="",t=10){let s="";for(let r=0;r<t;r++)s+=Math.floor(Math.random()*10);return n+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const h=_f("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:s},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function kD(n){_n().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function OD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ND(){return Rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebaseLocalStorageDb",xD=1,ec="firebaseLocalStorage",Lb="fbase_key";class xo{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function el(n,t){return n.transaction([ec],t?"readwrite":"readonly").objectStore(ec)}function RD(){const n=indexedDB.deleteDatabase(Pb);return new xo(n).toPromise()}function xu(){const n=indexedDB.open(Pb,xD);return new Promise((t,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ec,{keyPath:Lb})}catch(i){s(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ec)?t(r):(r.close(),await RD(),t(await xu()))})})}async function Sg(n,t,s){const r=el(n,!0).put({[Lb]:t,value:s});return new xo(r).toPromise()}async function PD(n,t){const s=el(n,!1).get(t),r=await new xo(s).toPromise();return r===void 0?null:r.value}function kg(n,t){const s=el(n,!0).delete(t);return new xo(s).toPromise()}const LD=800,MD=3;class Mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xu(),this.db)}async _withRetries(t){let s=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(s++>MD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(ND()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await OD(),!this.activeServiceWorker)return;this.sender=new SD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xu();return await Sg(t,Za,"1"),await kg(t,Za),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sg(r,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(r=>PD(r,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>kg(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=el(i,!1).getAll();return new xo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mb.type="LOCAL";const FD=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}function BD(n){return new Promise((t,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const o=vn("internal-error");o.customData=i,s(o)},r.type="text/javascript",r.charset="UTF-8",UD().appendChild(r)})}function jD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}new Oo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n,t){return t?xn(t):(he(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends yf{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ar(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Ar(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Ar(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function VD(n){return kb(n.auth,new bf(n),n.bypassAuthState)}function HD(n){const{auth:t,user:s}=n;return he(s,t,"internal-error"),gD(s,new bf(n),n.bypassAuthState)}async function qD(n){const{auth:t,user:s}=n;return he(s,t,"internal-error"),pD(s,new bf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,s,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:r,postBody:i,tenantId:o,error:a,type:c}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:s,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return VD;case"linkViaPopup":case"linkViaRedirect":return qD;case"reauthViaPopup":case"reauthViaRedirect":return HD;default:cn(this.auth,"internal-error")}}resolve(t){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Oo(2e3,1e4);class yr extends Fb{constructor(t,s,r,i,o){super(t,s,i,o),this.provider=r,this.authWindow=null,this.pollId=null,yr.currentPopupAction&&yr.currentPopupAction.cancel(),yr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return he(t,this.auth,"internal-error"),t}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const t=_f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,KD.get())};t()}}yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="pendingRedirect",_a=new Map;class WD extends Fb{constructor(t,s,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let t=_a.get(this.auth._key());if(!t){try{const r=await GD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(s){t=()=>Promise.reject(s)}_a.set(this.auth._key(),t)}return this.bypassAuthState||_a.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(n,t){const s=XD(t),r=YD(n);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}function QD(n,t){_a.set(n._key(),t)}function YD(n){return xn(n._redirectPersistence)}function XD(n){return va(zD,n.config.apiKey,n.name)}async function JD(n,t,s=!1){const r=Jc(n),i=$D(r,t),a=await new WD(r,i,s).execute();return a&&!s&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=10*60*1e3;class eN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(s=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tN(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var r;if(t.error&&!Ub(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(vn(this.auth,i))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const r=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Og(t))}saveEventToCache(t){this.cachedEventUids.add(Og(t)),this.lastProcessedEventTime=Date.now()}}function Og(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Ub({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function tN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(n,t={}){return Do(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rN=/^https?/;async function iN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await nN(n);for(const s of t)try{if(oN(s))return}catch{}cn(n,"unauthorized-domain")}function oN(n){const t=Nu(),{protocol:s,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&a.hostname===r}if(!rN.test(s))return!1;if(sN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Oo(3e4,6e4);function Dg(){const n=_n().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function cN(n){return new Promise((t,s)=>{var r,i,o;function a(){Dg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dg(),s(vn(n,"network-request-failed"))},timeout:aN.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=_n().gapi)===null||o===void 0)&&o.load)a();else{const c=jD("iframefcb");return _n()[c]=()=>{gapi.load?a():s(vn(n,"network-request-failed"))},BD(`https://apis.google.com/js/api.js?onload=${c}`).catch(l=>s(l))}}).catch(t=>{throw ba=null,t})}let ba=null;function lN(n){return ba=ba||cN(n),ba}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Oo(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(n){const t=n.config;he(t.authDomain,n,"auth-domain-config-required");const s=t.emulator?pf(t,fN):`https://${n.config.authDomain}/${hN}`,r={apiKey:t.apiKey,appName:n.name,v:uo},i=pN.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${s}?${lo(r).slice(1)}`}async function mN(n){const t=await lN(n),s=_n().gapi;return he(s,n,"internal-error"),t.open({where:document.body,url:gN(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=vn(n,"network-request-failed"),c=_n().setTimeout(()=>{o(a)},uN.get());function l(){_n().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vN=500,_N=600,bN="_blank",wN="http://localhost";class Ng{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EN(n,t,s,r=vN,i=_N){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},yN),{width:r.toString(),height:i.toString(),top:o,left:a}),h=wt().toLowerCase();s&&(c=vb(h)?bN:s),yb(h)&&(t=t||wN,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(Z1(h)&&c!=="_self")return TN(t||"",c),new Ng(null);const d=window.open(t||"",c,f);he(d,n,"popup-blocked");try{d.focus()}catch{}return new Ng(d)}function TN(n,t){const s=document.createElement("a");s.href=n,s.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",IN="emulator/auth/handler";function xg(n,t,s,r,i,o){he(n.config.authDomain,n,"auth-domain-config-required"),he(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:uo,eventId:i};if(t instanceof Cb){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",TI(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,h]of Object.entries(o||{}))a[l]=h}if(t instanceof No){const l=t.getScopes().filter(h=>h!=="");l.length>0&&(a.scopes=l.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const l of Object.keys(c))c[l]===void 0&&delete c[l];return`${CN(n)}?${lo(c).slice(1)}`}function CN({config:n}){return n.emulator?pf(n,IN):`https://${n.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="webStorageSupport";class SN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=JD,this._overrideRedirectResult=QD}async _openPopup(t,s,r,i){var o;$n((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=xg(t,s,r,Nu(),i);return EN(t,a,_f())}async _openRedirect(t,s,r,i){return await this._originValidation(t),kD(xg(t,s,r,Nu(),i)),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:i,promise:o}=this.eventManagers[s];return i?Promise.resolve(i):($n(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(t){const s=await mN(t),r=new eN(t);return s.register("authEvent",i=>(he(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=s,r}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(Ll,{type:Ll},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ll];a!==void 0&&s(!!a),cn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=iN(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return Tb()||mf()||Xc()}}const kN=SN;var Rg="@firebase/auth",Pg="0.21.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function NN(n){Dr(new Ys("auth",(t,{options:s})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:a}=r.options;return((c,l)=>{he(o&&!o.includes(":"),"invalid-api-key",{appName:c.name}),he(!(a!=null&&a.includes(":")),"argument-error",{appName:c.name});const h={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(n)},f=new sD(c,l,h);return M1(f,s),f})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,r)=>{t.getProvider("auth-internal").initialize()})),Dr(new Ys("auth-internal",t=>{const s=Jc(t.getProvider("auth").getImmediate());return(r=>new ON(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Rg,Pg,DN(n)),us(Rg,Pg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=5*60,RN=Ly("authIdTokenMaxAge")||xN;let Lg=null;const PN=n=>async t=>{const s=t&&await t.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>RN)return;const i=s==null?void 0:s.token;Lg!==i&&(Lg=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LN(n=By()){const t=ph(n,"auth");if(t.isInitialized())return t.getImmediate();const s=L1(n,{popupRedirectResolver:kN,persistence:[FD,ID,xb]}),r=Ly("authTokenSyncURL");if(r){const o=PN(r);_D(s,o,()=>o(s.currentUser)),vD(s,a=>o(a))}const i=Py("auth");return i&&rD(s,`http://${i}`),s}NN("Browser");var MN="firebase",FN="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(MN,FN,"app");const UN={apiKey:"AIzaSyD2qrWGF5QhD2bPhjhFz9WJEEqfy7LCkiE",authDomain:"santiagonet-pagos.firebaseapp.com",projectId:"santiagonet-pagos",storageBucket:"santiagonet-pagos.appspot.com",messagingSenderId:"126153446968",appId:"1:126153446968:web:3fdcb405ba0f7b5b7478cd"};Uy(UN);const Ml=LN(),hi=p1();var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BN(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var s=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),s}const wf=_y("admin",()=>{const n=Ro(),t=uh(),{getColeccion:s,addDoc:r,borrarDoc:i,iniciarSesion:o}=n,a=Ft([]),c=Ft([]),l=Ft([]),h=Ft([]),f=Ft(!1);Ft("");const d=Ft(null),g=async()=>{try{a.value=await s("clientes")}catch(T){console.log(T)}},m=()=>{l.value=l.value.sort((T,O)=>Number(T.id)<Number(O.id)?-1:Number(T.id)>Number(O.id)?1:0)};async function w(){f.value=!0;try{a.value=await s("clientes"),c.value=await s("barrios"),h.value=await s("facturas"),h.value=h.value.sort((T,O)=>T.mes<O.mes?-1:T.mes>O.mes?1:0),c&&(l.value=await s("abonos"),m())}catch(T){console.log(`Error en cargarAbonos ${T}`)}finally{f.value=!1}}jm(()=>{w()});const E=async()=>{try{const T=await s("abonos");l.value.forEach(O=>{const S=R=>R.id===O.id;if(console.log("Consulta: "+T),console.log(!T.some(S)),!T.some(S)){const R={name:O.name,precio:O.precio,bajada:O.bajada,subida:O.subida};r("abonos",O.id,R),console.log(`Abono ${O.name} Agregado`)}})}catch(T){alert(T)}finally{m(),console.log(l.value)}};return{clientes:a,barrios:c,abonos:l,ctaCte:h,loading:f,admin:d,cargarClientes:g,ordenar:m,eliminarAbono:T=>{confirm("Ests seguro que deseas eliminar este abono?")&&(i("abonos",T),l.value=l.value.filter(O=>O.id!=T))},agregarAbono:()=>{let T=prompt("De cuantos megas es el nuevo abono?");if(T=T.trim(),T==null)return;for(;T==null||/\D/.test(T)||T=="";)if(T=prompt("Solo ingrese numeros. De cuantos megas es el nuevo abono?: "),T==null)return;const O=q=>q.id===T;if(l.value.some(O)){alert("El abono ya existe");return}let S=prompt("Precio?");if(S==null)return;for(S=S.trim();S==null||/\D/.test(S)||S=="";)S=prompt("Solo ingrese numeros. Ingrese el Precio: ");let R=prompt("Cuantos megas de Bajada?");if(R==null)return;for(R=R.trim();R==null||/\D/.test(R)||R=="";)R=prompt("Solo ingrese numeros. Ingrese los megas de Bajada: ");let x=prompt("Cuantos megas de Subida?");if(x!=null){for(x=x.trim();x==null||/\D/.test(x)||x=="";)x=prompt("Solo ingrese numeros. Ingrese los megas de Subida: ");l.value.push({id:T,name:T+" Megas",precio:S,subida:x,bajada:R}),E()}},agregarBarrio:async()=>{try{let T=prompt("Como se llama el barrio?");if(T=T.trim(),T==null)return;let O={name:T};T=T.toLocaleLowerCase(),T=T.replace(" ","-"),O.id=T;let S=prompt("Agrega una zona.");if(S==null){alert("Debes ingresar al menos una zona");return}S=S.trim(),O.zonas=[S.toUpperCase()];let R=!0;do{let q=prompt("Deseas agregar otra zona? Si no quieres agregar mas presiona Cancelar.");q?(q=q.trim(),q=q.toUpperCase(),O.zonas.indexOf(q)>-1?alert("La zona ya existe"):(O.zonas.push(q),q=null)):R=!1}while(R);const x={name:O.name,zonas:O.zonas};await r("barrios",O.id,x),c.value.push(O)}catch{alert(e)}},cargarDatos:w,loginAdmin:async T=>{console.log("iniciando login desde el store de admin");let O=prompt("Ingresa tu contrasea");if(O)try{const S=await o(T,O);S=="error"?alert("Error Usuario o Contrasea"):(d.value=S,t.push("/admin"))}catch{}else return"cancel"}}}),Ro=()=>{const n=wf(),{admin:t}=qi(n),s=Ft(null);return{getColeccion:async g=>{const m=gg(pg(hi,g));try{let w=[];return(await vg(m)).forEach(I=>{w.push({id:I.id,...I.data()})}),w}catch(w){alert(w)}},getSingle:async(g,m)=>{try{const w=ga(hi,g,m),E=await O1(w);return E.exists()?(console.log("returnando objeto"),{id:E.id,...E.data()}):(console.log("returnando false"),!1)}catch(w){console.log(w)}},resultado:s,addDoc:async(g,m,w)=>{try{const E=ga(hi,g,m);await D1(E,w)}catch(E){console.log(E)}},customAlert:(g,m)=>{const w=document.getElementById("liveAlertPlaceholder");((I,k)=>{const F=document.createElement("div");F.innerHTML=[`<div class="alert alert-${k} alert-dismissible" role="alert">`,`   <div>${I}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>',"</div>"].join(""),w.append(F)})(g,m)},borrarDoc:async(g,m)=>{try{N1(ga(hi,g,m)),console.log("documento Borrado")}catch(w){alert("El documento no pudo eliminarse "+w)}},cargarCtaCte:async g=>{const m=gg(pg(hi,`clientes/${g}/facturas`));try{let w=[];return(await vg(m)).forEach(I=>{w.push({id:I.id,...I.data()})}),w}catch(w){alert(w)}},iniciarSesion:async(g,m)=>{try{const{user:w}=await yD(Ml,g,m);return console.log(w.email+""+w.uid),w.email}catch(w){return console.log(w),"error"}},cerrarSesion:async()=>{try{await wD(Ml),t.value=null}catch(g){console.log("error al cerrar sesion: "+g)}},currentUser:()=>new Promise((g,m)=>{bD(Ml,E=>{E&&(t.value=E.email),g(E)},E=>m(E))()})}},Ef=_y("users",()=>{const n=wf(),{loginAdmin:t}=n,s=Ro(),{getSingle:r}=s,i=Ft(null),o=uh(),a=Ft(!1);async function c(h){if(a.value=!1,h.trim()=="info@opticacroma.com.ar"||h.trim()=="sgonetrmx@gmail.com")h=h.trim(),await t(h)&&alert("ud no es admin");else try{if(i.value=await r("clientes",h),i.value){const f=await r("abonos",i.value.abono);i.value.abono=f.name,localStorage.setItem("cliente",JSON.stringify(i.value)),o.push("/client-area")}}catch(f){console.log(f)}finally{a.value=!1}}function l(){i.value=null,localStorage.removeItem("cliente"),o.push("/")}return{cliente:i,getCliente:c,$reset:l,loading:a}}),jN={"data-bs-version":"5.1",class:"menu cid-s48OLK6784",once:"menu",id:"menu1-h"},$N={class:"navbar navbar-dropdown navbar-expand-lg"},VN={class:"container"},HN={class:"navbar-brand"},qN={class:"navbar-logo"},KN=we("img",{src:nI,alt:"",title:"",style:{height:"3.8rem"}},null,-1),zN={class:"navbar-caption-wrap"},WN={key:0,class:"navbar-caption text-black align-items-center text-transform-capitalize text-primary display-7"},GN={key:1,class:"navbar-caption text-black align-items-center text-transform-capitalize text-primary display-7"},QN=we("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-bs-toggle":"collapse","data-target":"#navbarSupportedContent","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[we("div",{class:"hamburger"},[we("span"),we("span"),we("span"),we("span")])],-1),YN={key:0},XN={class:"containter"},JN={class:"row"},ZN={class:"col-12 align-items-right"},ex={key:1,class:"collapse navbar-collapse",id:"navbarSupportedContent"},tx={class:"navbar-nav nav-dropdown nav-right","data-app-modern-menu":"false"},nx={class:"nav-item"},sx={class:"nav-link link text-black text-primary display-4"},rx=we("span",{class:"socicon socicon-rss mbr-iconfont mbr-iconfont-btn"},null,-1),ix={class:"nav-item"},ox={class:"nav-link link text-black text-primary display-4"},ax=we("span",{class:"mobi-mbri mobi-mbri-globe-2 mbr-iconfont mbr-iconfont-btn"},null,-1),cx=we("li",{class:"nav-item"},[we("span",{class:"nav-link link text-black text-primary display-4"},[we("span",{class:"mobi-mbri mobi-mbri-cash mbr-iconfont mbr-iconfont-btn"}),qs("COBRO: ONLINE")])],-1),lx={class:"nav-item"},ux={class:"nav-link link text-black text-primary display-4"},hx={__name:"NavComponent",setup(n){const t=Ef(),s=wf(),{admin:r}=qi(s),{$reset:i}=t,{cliente:o}=qi(t),a=new Date().getFullYear(),c=Ro(),{cerrarSesion:l}=c,h=uh(),f=()=>{l(),h.push("/")};return(d,g)=>{var w,E,I;const m=S0("RouterLink");return Ut(),dn("section",jN,[we("nav",$N,[we("div",VN,[we("div",HN,[we("span",qN,[et(m,{to:"/pago"},{default:Rm(()=>[KN]),_:1})]),we("span",zN,[ze(o)?(Ut(),dn("span",WN,[qs("Cliente: "+hr((w=ze(o))==null?void 0:w.name)+" ",1),we("button",{onClick:g[0]||(g[0]=k=>ze(i)()),class:"btn btn-danger"},"Salir")])):ts("",!0),ze(r)?(Ut(),dn("span",GN,"Admin: "+hr(ze(r)),1)):ts("",!0)])]),QN,ze(o)?ts("",!0):(Ut(),dn("div",YN,[we("div",XN,[we("div",JN,[we("div",ZN,[ze(r)?(Ut(),dn("button",{key:0,class:"btn-secondary",onClick:f},"Cerrar Sesion")):ts("",!0)])])])])),ze(o)?(Ut(),dn("div",ex,[we("ul",tx,[we("li",nx,[we("span",sx,[rx,qs("SECTOR: "+hr((E=ze(o))==null?void 0:E.zona.toUpperCase()),1)])]),we("li",ix,[we("span",ox,[ax,qs("ABONO: "+hr((I=ze(o))==null?void 0:I.abono.toUpperCase()),1)])]),cx,we("li",lx,[we("span",ux," AO: "+hr(ze(a)),1)])])])):ts("",!0)])])])}}},fx=we("div",{id:"liveAlertPlaceholder"},null,-1),dx={key:1,class:"d-flex justify-content-center align-items-center"},px=we("strong",null,"Loading...",-1),gx=we("div",{class:"spinner-border ms-auto",role:"status","aria-hidden":"true"},null,-1),mx=[px,gx],yx={key:2,class:"container"},vx={__name:"App",setup(n){const t=Ef(),{loading:s}=qi(t);return(r,i)=>(Ut(),dn(xt,null,[fx,ze(s)?ts("",!0):(Ut(),rh(hx,{key:0})),ze(s)?(Ut(),dn("div",dx,mx)):ts("",!0),ze(s)?ts("",!0):(Ut(),dn("div",yx,[et(ze(Dy))])),et(tI)],64))}},_x="modulepreload",bx=function(n){return"/"+n},Mg={},Yn=function(t,s,r){if(!s||s.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=bx(o),o in Mg)return;Mg[o]=!0;const a=o.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const d=i[f];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const h=document.createElement("link");if(h.rel=a?"stylesheet":_x,a||(h.as="script",h.crossOrigin=""),h.href=o,document.head.appendChild(h),a)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())},wx=async(n,t,s)=>{const r=Ef(),{cliente:i}=qi(r);i.value?s():s("/"),r.loading=!1},ra=async(n,t,s)=>{const r=Ro(),{currentUser:i}=r;await i()?s():s("/")},Ex=async(n,t,s)=>{const r=Ro(),{currentUser:i}=r;await i()?s("/admin"):s()},Tx=WA({history:uA("/"),bas:"/",routes:[{path:"/",name:"home",component:()=>Yn(()=>import("./HomeView-ec626252.js"),[]),beforeEnter:Ex},{path:"/client-area",name:"clientarea",component:()=>Yn(()=>import("./ClientArea-050fce01.js"),[]),beforeEnter:wx},{path:"/cta-cte/:id",name:"ctacte",component:()=>Yn(()=>import("./CtaCte-76126691.js"),[]),beforeEnter:ra},{path:"/admin",name:"admin",component:()=>Yn(()=>import("./PaneldeControl-d88406a7.js"),["assets/PaneldeControl-d88406a7.js","assets/PaneldeControl-f24cfa1b.css"]),beforeEnter:ra},{path:"/pago",name:"pago",component:()=>Yn(()=>import("./Pago-88bea935.js"),[])},{path:"/campo-prueba",name:"campoprueba1",component:()=>Yn(()=>import("./CampoPrueba-b7a4ddec.js"),[])},{path:"/editClient",name:"agregarCliente",component:()=>Yn(()=>import("./AgregaroEditarCliente-f455c3ae.js"),[]),beforeEnter:ra},{path:"/editClient/:id",name:"editarCliente",component:()=>Yn(()=>import("./AgregaroEditarCliente-f455c3ae.js"),[]),beforeEnter:ra}]});var Bb="Expected a function",Fg=0/0,Ax="[object Symbol]",Ix=/^\s+|\s+$/g,Cx=/^[-+]0x[0-9a-f]+$/i,Sx=/^0b[01]+$/i,kx=/^0o[0-7]+$/i,Ox=parseInt,Dx=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,Nx=typeof self=="object"&&self&&self.Object===Object&&self,xx=Dx||Nx||Function("return this")(),Rx=Object.prototype,Px=Rx.toString,Lx=Math.max,Mx=Math.min,Fl=function(){return xx.Date.now()};function Fx(n,t,s){var r,i,o,a,c,l,h=0,f=!1,d=!1,g=!0;if(typeof n!="function")throw new TypeError(Bb);t=Ug(t)||0,tc(s)&&(f=!!s.leading,d="maxWait"in s,o=d?Lx(Ug(s.maxWait)||0,t):o,g="trailing"in s?!!s.trailing:g);function m(S){var R=r,x=i;return r=i=void 0,h=S,a=n.apply(x,R),a}function w(S){return h=S,c=setTimeout(k,t),f?m(S):a}function E(S){var R=S-l,x=S-h,q=t-R;return d?Mx(q,o-x):q}function I(S){var R=S-l,x=S-h;return l===void 0||R>=t||R<0||d&&x>=o}function k(){var S=Fl();if(I(S))return F(S);c=setTimeout(k,E(S))}function F(S){return c=void 0,g&&r?m(S):(r=i=void 0,a)}function M(){c!==void 0&&clearTimeout(c),h=0,r=l=i=c=void 0}function T(){return c===void 0?a:F(Fl())}function O(){var S=Fl(),R=I(S);if(r=arguments,i=this,l=S,R){if(c===void 0)return w(l);if(d)return c=setTimeout(k,t),m(l)}return c===void 0&&(c=setTimeout(k,t)),a}return O.cancel=M,O.flush=T,O}function Ux(n,t,s){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Bb);return tc(s)&&(r="leading"in s?!!s.leading:r,i="trailing"in s?!!s.trailing:i),Fx(n,t,{leading:r,maxWait:t,trailing:i})}function tc(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function Bx(n){return!!n&&typeof n=="object"}function jx(n){return typeof n=="symbol"||Bx(n)&&Px.call(n)==Ax}function Ug(n){if(typeof n=="number")return n;if(jx(n))return Fg;if(tc(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=tc(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(Ix,"");var s=Sx.test(n);return s||kx.test(n)?Ox(n.slice(2),s?2:8):Cx.test(n)?Fg:+n}var $x=Ux,Vx="Expected a function",Bg=0/0,Hx="[object Symbol]",qx=/^\s+|\s+$/g,Kx=/^[-+]0x[0-9a-f]+$/i,zx=/^0b[01]+$/i,Wx=/^0o[0-7]+$/i,Gx=parseInt,Qx=typeof Rn=="object"&&Rn&&Rn.Object===Object&&Rn,Yx=typeof self=="object"&&self&&self.Object===Object&&self,Xx=Qx||Yx||Function("return this")(),Jx=Object.prototype,Zx=Jx.toString,eR=Math.max,tR=Math.min,Ul=function(){return Xx.Date.now()};function nR(n,t,s){var r,i,o,a,c,l,h=0,f=!1,d=!1,g=!0;if(typeof n!="function")throw new TypeError(Vx);t=jg(t)||0,Ru(s)&&(f=!!s.leading,d="maxWait"in s,o=d?eR(jg(s.maxWait)||0,t):o,g="trailing"in s?!!s.trailing:g);function m(S){var R=r,x=i;return r=i=void 0,h=S,a=n.apply(x,R),a}function w(S){return h=S,c=setTimeout(k,t),f?m(S):a}function E(S){var R=S-l,x=S-h,q=t-R;return d?tR(q,o-x):q}function I(S){var R=S-l,x=S-h;return l===void 0||R>=t||R<0||d&&x>=o}function k(){var S=Ul();if(I(S))return F(S);c=setTimeout(k,E(S))}function F(S){return c=void 0,g&&r?m(S):(r=i=void 0,a)}function M(){c!==void 0&&clearTimeout(c),h=0,r=l=i=c=void 0}function T(){return c===void 0?a:F(Ul())}function O(){var S=Ul(),R=I(S);if(r=arguments,i=this,l=S,R){if(c===void 0)return w(l);if(d)return c=setTimeout(k,t),m(l)}return c===void 0&&(c=setTimeout(k,t)),a}return O.cancel=M,O.flush=T,O}function Ru(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function sR(n){return!!n&&typeof n=="object"}function rR(n){return typeof n=="symbol"||sR(n)&&Zx.call(n)==Hx}function jg(n){if(typeof n=="number")return n;if(rR(n))return Bg;if(Ru(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=Ru(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(qx,"");var s=zx.test(n);return s||Wx.test(n)?Gx(n.slice(2),s?2:8):Kx.test(n)?Bg:+n}var $g=nR,jb=function(){};function $b(n){var t=void 0,s=void 0,r=void 0;for(t=0;t<n.length;t+=1)if(s=n[t],s.dataset&&s.dataset.aos||(r=s.children&&$b(s.children),r))return!0;return!1}function iR(n){n&&n.forEach(function(t){var s=Array.prototype.slice.call(t.addedNodes),r=Array.prototype.slice.call(t.removedNodes),i=s.concat(r);if($b(i))return jb()})}function Vb(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function oR(){return!!Vb()}function aR(n,t){var s=window.document,r=Vb(),i=new r(iR);jb=t,i.observe(s.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}var Vg={isSupported:oR,ready:aR},cR=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},lR=function(){function n(t,s){for(var r=0;r<s.length;r++){var i=s[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,s,r){return s&&n(t.prototype,s),r&&n(t,r),t}}(),uR=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},hR=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,fR=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,dR=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,pR=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function Hg(){return navigator.userAgent||navigator.vendor||window.opera||""}var gR=function(){function n(){cR(this,n)}return lR(n,[{key:"phone",value:function(){var s=Hg();return!!(hR.test(s)||fR.test(s.substr(0,4)))}},{key:"mobile",value:function(){var s=Hg();return!!(dR.test(s)||pR.test(s.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),n}(),wa=new gR,mR=function(t,s){return s&&s.forEach(function(r){return t.classList.add(r)})},yR=function(t,s){return s&&s.forEach(function(r){return t.classList.remove(r)})},ia=function(t,s){var r=void 0;return wa.ie11()?(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,{detail:s})):r=new CustomEvent(t,{detail:s}),document.dispatchEvent(r)},vR=function(t,s){var r=t.options,i=t.position,o=t.node;t.data;var a=function(){t.animated&&(yR(o,r.animatedClassNames),ia("aos:out",o),t.options.id&&ia("aos:in:"+t.options.id,o),t.animated=!1)},c=function(){t.animated||(mR(o,r.animatedClassNames),ia("aos:in",o),t.options.id&&ia("aos:in:"+t.options.id,o),t.animated=!0)};r.mirror&&s>=i.out&&!r.once?a():s>=i.in?c():t.animated&&!r.once&&a()},qg=function(t){return t.forEach(function(s,r){return vR(s,window.pageYOffset)})},Hb=function(t){for(var s=0,r=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)s+=t.offsetLeft-(t.tagName!="BODY"?t.scrollLeft:0),r+=t.offsetTop-(t.tagName!="BODY"?t.scrollTop:0),t=t.offsetParent;return{top:r,left:s}},fs=function(n,t,s){var r=n.getAttribute("data-aos-"+t);if(typeof r<"u"){if(r==="true")return!0;if(r==="false")return!1}return r||s},_R=function(t,s,r){var i=window.innerHeight,o=fs(t,"anchor"),a=fs(t,"anchor-placement"),c=Number(fs(t,"offset",a?0:s)),l=a||r,h=t;o&&document.querySelectorAll(o)&&(h=document.querySelectorAll(o)[0]);var f=Hb(h).top-i;switch(l){case"top-bottom":break;case"center-bottom":f+=h.offsetHeight/2;break;case"bottom-bottom":f+=h.offsetHeight;break;case"top-center":f+=i/2;break;case"center-center":f+=i/2+h.offsetHeight/2;break;case"bottom-center":f+=i/2+h.offsetHeight;break;case"top-top":f+=i;break;case"bottom-top":f+=i+h.offsetHeight;break;case"center-top":f+=i+h.offsetHeight/2;break}return f+c},bR=function(t,s){var r=fs(t,"anchor"),i=fs(t,"offset",s),o=t;r&&document.querySelectorAll(r)&&(o=document.querySelectorAll(r)[0]);var a=Hb(o).top;return a+o.offsetHeight-i},wR=function(t,s){return t.forEach(function(r,i){var o=fs(r.node,"mirror",s.mirror),a=fs(r.node,"once",s.once),c=fs(r.node,"id"),l=s.useClassNames&&r.node.getAttribute("data-aos"),h=[s.animatedClassName].concat(l?l.split(" "):[]).filter(function(f){return typeof f=="string"});s.initClassName&&r.node.classList.add(s.initClassName),r.position={in:_R(r.node,s.offset,s.anchorPlacement),out:o&&bR(r.node,s.offset)},r.options={once:a,mirror:o,animatedClassNames:h,id:c}}),t},qb=function(){var n=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(n,function(t){return{node:t}})},On=[],Kg=!1,Ke={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},Kb=function(){return document.all&&!window.atob},ER=function(){return On=wR(On,Ke),qg(On),window.addEventListener("scroll",$x(function(){qg(On,Ke.once)},Ke.throttleDelay)),On},Us=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t&&(Kg=!0),Kg&&ER()},zb=function(){if(On=qb(),Gb(Ke.disable)||Kb())return Wb();Us()},Wb=function(){On.forEach(function(t,s){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay"),Ke.initClassName&&t.node.classList.remove(Ke.initClassName),Ke.animatedClassName&&t.node.classList.remove(Ke.animatedClassName)})},Gb=function(t){return t===!0||t==="mobile"&&wa.mobile()||t==="phone"&&wa.phone()||t==="tablet"&&wa.tablet()||typeof t=="function"&&t()===!0},TR=function(t){return Ke=uR(Ke,t),On=qb(),!Ke.disableMutationObserver&&!Vg.isSupported()&&(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),Ke.disableMutationObserver=!0),Ke.disableMutationObserver||Vg.ready("[data-aos]",zb),Gb(Ke.disable)||Kb()?Wb():(document.querySelector("body").setAttribute("data-aos-easing",Ke.easing),document.querySelector("body").setAttribute("data-aos-duration",Ke.duration),document.querySelector("body").setAttribute("data-aos-delay",Ke.delay),["DOMContentLoaded","load"].indexOf(Ke.startEvent)===-1?document.addEventListener(Ke.startEvent,function(){Us(!0)}):window.addEventListener("load",function(){Us(!0)}),Ke.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1&&Us(!0),window.addEventListener("resize",$g(Us,Ke.debounceDelay,!0)),window.addEventListener("orientationchange",$g(Us,Ke.debounceDelay,!0)),On)},AR={init:TR,refresh:Us,refreshHard:zb};var zg={},IR={get exports(){return zg},set exports(n){zg=n}},Ot="top",Vt="bottom",Ht="right",Dt="left",tl="auto",ti=[Ot,Vt,Ht,Dt],tr="start",jr="end",Qb="clippingParents",Tf="viewport",gr="popper",Yb="reference",Pu=ti.reduce(function(n,t){return n.concat([t+"-"+tr,t+"-"+jr])},[]),Af=[].concat(ti,[tl]).reduce(function(n,t){return n.concat([t,t+"-"+tr,t+"-"+jr])},[]),Xb="beforeRead",Jb="read",Zb="afterRead",ew="beforeMain",tw="main",nw="afterMain",sw="beforeWrite",rw="write",iw="afterWrite",ow=[Xb,Jb,Zb,ew,tw,nw,sw,rw,iw];function Tn(n){return n?(n.nodeName||"").toLowerCase():null}function Jt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function nr(n){var t=Jt(n).Element;return n instanceof t||n instanceof Element}function Xt(n){var t=Jt(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function If(n){if(typeof ShadowRoot>"u")return!1;var t=Jt(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function CR(n){var t=n.state;Object.keys(t.elements).forEach(function(s){var r=t.styles[s]||{},i=t.attributes[s]||{},o=t.elements[s];!Xt(o)||!Tn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?o.removeAttribute(a):o.setAttribute(a,c===!0?"":c)}))})}function SR(n){var t=n.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:s[r]),c=a.reduce(function(l,h){return l[h]="",l},{});!Xt(i)||!Tn(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Cf={name:"applyStyles",enabled:!0,phase:"write",fn:CR,effect:SR,requires:["computeStyles"]};function bn(n){return n.split("-")[0]}var Qs=Math.max,nc=Math.min,$r=Math.round;function Lu(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function aw(){return!/^((?!chrome|android).)*safari/i.test(Lu())}function Vr(n,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var r=n.getBoundingClientRect(),i=1,o=1;t&&Xt(n)&&(i=n.offsetWidth>0&&$r(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&$r(r.height)/n.offsetHeight||1);var a=nr(n)?Jt(n):window,c=a.visualViewport,l=!aw()&&s,h=(r.left+(l&&c?c.offsetLeft:0))/i,f=(r.top+(l&&c?c.offsetTop:0))/o,d=r.width/i,g=r.height/o;return{width:d,height:g,top:f,right:h+d,bottom:f+g,left:h,x:h,y:f}}function Sf(n){var t=Vr(n),s=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:s,height:r}}function cw(n,t){var s=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(s&&If(s)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vn(n){return Jt(n).getComputedStyle(n)}function kR(n){return["table","td","th"].indexOf(Tn(n))>=0}function ws(n){return((nr(n)?n.ownerDocument:n.document)||window.document).documentElement}function nl(n){return Tn(n)==="html"?n:n.assignedSlot||n.parentNode||(If(n)?n.host:null)||ws(n)}function Wg(n){return!Xt(n)||Vn(n).position==="fixed"?null:n.offsetParent}function OR(n){var t=/firefox/i.test(Lu()),s=/Trident/i.test(Lu());if(s&&Xt(n)){var r=Vn(n);if(r.position==="fixed")return null}var i=nl(n);for(If(i)&&(i=i.host);Xt(i)&&["html","body"].indexOf(Tn(i))<0;){var o=Vn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Po(n){for(var t=Jt(n),s=Wg(n);s&&kR(s)&&Vn(s).position==="static";)s=Wg(s);return s&&(Tn(s)==="html"||Tn(s)==="body"&&Vn(s).position==="static")?t:s||OR(n)||t}function kf(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ri(n,t,s){return Qs(n,nc(t,s))}function DR(n,t,s){var r=Ri(n,t,s);return r>s?s:r}function lw(){return{top:0,right:0,bottom:0,left:0}}function uw(n){return Object.assign({},lw(),n)}function hw(n,t){return t.reduce(function(s,r){return s[r]=n,s},{})}var NR=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,uw(typeof t!="number"?t:hw(t,ti))};function xR(n){var t,s=n.state,r=n.name,i=n.options,o=s.elements.arrow,a=s.modifiersData.popperOffsets,c=bn(s.placement),l=kf(c),h=[Dt,Ht].indexOf(c)>=0,f=h?"height":"width";if(!(!o||!a)){var d=NR(i.padding,s),g=Sf(o),m=l==="y"?Ot:Dt,w=l==="y"?Vt:Ht,E=s.rects.reference[f]+s.rects.reference[l]-a[l]-s.rects.popper[f],I=a[l]-s.rects.reference[l],k=Po(o),F=k?l==="y"?k.clientHeight||0:k.clientWidth||0:0,M=E/2-I/2,T=d[m],O=F-g[f]-d[w],S=F/2-g[f]/2+M,R=Ri(T,S,O),x=l;s.modifiersData[r]=(t={},t[x]=R,t.centerOffset=R-S,t)}}function RR(n){var t=n.state,s=n.options,r=s.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||cw(t.elements.popper,i)&&(t.elements.arrow=i))}const fw={name:"arrow",enabled:!0,phase:"main",fn:xR,effect:RR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hr(n){return n.split("-")[1]}var PR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function LR(n){var t=n.x,s=n.y,r=window,i=r.devicePixelRatio||1;return{x:$r(t*i)/i||0,y:$r(s*i)/i||0}}function Gg(n){var t,s=n.popper,r=n.popperRect,i=n.placement,o=n.variation,a=n.offsets,c=n.position,l=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,d=n.isFixed,g=a.x,m=g===void 0?0:g,w=a.y,E=w===void 0?0:w,I=typeof f=="function"?f({x:m,y:E}):{x:m,y:E};m=I.x,E=I.y;var k=a.hasOwnProperty("x"),F=a.hasOwnProperty("y"),M=Dt,T=Ot,O=window;if(h){var S=Po(s),R="clientHeight",x="clientWidth";if(S===Jt(s)&&(S=ws(s),Vn(S).position!=="static"&&c==="absolute"&&(R="scrollHeight",x="scrollWidth")),S=S,i===Ot||(i===Dt||i===Ht)&&o===jr){T=Vt;var q=d&&S===O&&O.visualViewport?O.visualViewport.height:S[R];E-=q-r.height,E*=l?1:-1}if(i===Dt||(i===Ot||i===Vt)&&o===jr){M=Ht;var J=d&&S===O&&O.visualViewport?O.visualViewport.width:S[x];m-=J-r.width,m*=l?1:-1}}var ae=Object.assign({position:c},h&&PR),W=f===!0?LR({x:m,y:E}):{x:m,y:E};if(m=W.x,E=W.y,l){var fe;return Object.assign({},ae,(fe={},fe[T]=F?"0":"",fe[M]=k?"0":"",fe.transform=(O.devicePixelRatio||1)<=1?"translate("+m+"px, "+E+"px)":"translate3d("+m+"px, "+E+"px, 0)",fe))}return Object.assign({},ae,(t={},t[T]=F?E+"px":"",t[M]=k?m+"px":"",t.transform="",t))}function MR(n){var t=n.state,s=n.options,r=s.gpuAcceleration,i=r===void 0?!0:r,o=s.adaptive,a=o===void 0?!0:o,c=s.roundOffsets,l=c===void 0?!0:c,h={placement:bn(t.placement),variation:Hr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Gg(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Gg(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Of={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:MR,data:{}};var oa={passive:!0};function FR(n){var t=n.state,s=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,l=Jt(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(f){f.addEventListener("scroll",s.update,oa)}),c&&l.addEventListener("resize",s.update,oa),function(){o&&h.forEach(function(f){f.removeEventListener("scroll",s.update,oa)}),c&&l.removeEventListener("resize",s.update,oa)}}const Df={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FR,data:{}};var UR={left:"right",right:"left",bottom:"top",top:"bottom"};function Ea(n){return n.replace(/left|right|bottom|top/g,function(t){return UR[t]})}var BR={start:"end",end:"start"};function Qg(n){return n.replace(/start|end/g,function(t){return BR[t]})}function Nf(n){var t=Jt(n),s=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:s,scrollTop:r}}function xf(n){return Vr(ws(n)).left+Nf(n).scrollLeft}function jR(n,t){var s=Jt(n),r=ws(n),i=s.visualViewport,o=r.clientWidth,a=r.clientHeight,c=0,l=0;if(i){o=i.width,a=i.height;var h=aw();(h||!h&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:c+xf(n),y:l}}function $R(n){var t,s=ws(n),r=Nf(n),i=(t=n.ownerDocument)==null?void 0:t.body,o=Qs(s.scrollWidth,s.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Qs(s.scrollHeight,s.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+xf(n),l=-r.scrollTop;return Vn(i||s).direction==="rtl"&&(c+=Qs(s.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:c,y:l}}function Rf(n){var t=Vn(n),s=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+i+r)}function dw(n){return["html","body","#document"].indexOf(Tn(n))>=0?n.ownerDocument.body:Xt(n)&&Rf(n)?n:dw(nl(n))}function Pi(n,t){var s;t===void 0&&(t=[]);var r=dw(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),o=Jt(r),a=i?[o].concat(o.visualViewport||[],Rf(r)?r:[]):r,c=t.concat(a);return i?c:c.concat(Pi(nl(a)))}function Mu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function VR(n,t){var s=Vr(n,!1,t==="fixed");return s.top=s.top+n.clientTop,s.left=s.left+n.clientLeft,s.bottom=s.top+n.clientHeight,s.right=s.left+n.clientWidth,s.width=n.clientWidth,s.height=n.clientHeight,s.x=s.left,s.y=s.top,s}function Yg(n,t,s){return t===Tf?Mu(jR(n,s)):nr(t)?VR(t,s):Mu($R(ws(n)))}function HR(n){var t=Pi(nl(n)),s=["absolute","fixed"].indexOf(Vn(n).position)>=0,r=s&&Xt(n)?Po(n):n;return nr(r)?t.filter(function(i){return nr(i)&&cw(i,r)&&Tn(i)!=="body"}):[]}function qR(n,t,s,r){var i=t==="clippingParents"?HR(n):[].concat(t),o=[].concat(i,[s]),a=o[0],c=o.reduce(function(l,h){var f=Yg(n,h,r);return l.top=Qs(f.top,l.top),l.right=nc(f.right,l.right),l.bottom=nc(f.bottom,l.bottom),l.left=Qs(f.left,l.left),l},Yg(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function pw(n){var t=n.reference,s=n.element,r=n.placement,i=r?bn(r):null,o=r?Hr(r):null,a=t.x+t.width/2-s.width/2,c=t.y+t.height/2-s.height/2,l;switch(i){case Ot:l={x:a,y:t.y-s.height};break;case Vt:l={x:a,y:t.y+t.height};break;case Ht:l={x:t.x+t.width,y:c};break;case Dt:l={x:t.x-s.width,y:c};break;default:l={x:t.x,y:t.y}}var h=i?kf(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(o){case tr:l[h]=l[h]-(t[f]/2-s[f]/2);break;case jr:l[h]=l[h]+(t[f]/2-s[f]/2);break}}return l}function qr(n,t){t===void 0&&(t={});var s=t,r=s.placement,i=r===void 0?n.placement:r,o=s.strategy,a=o===void 0?n.strategy:o,c=s.boundary,l=c===void 0?Qb:c,h=s.rootBoundary,f=h===void 0?Tf:h,d=s.elementContext,g=d===void 0?gr:d,m=s.altBoundary,w=m===void 0?!1:m,E=s.padding,I=E===void 0?0:E,k=uw(typeof I!="number"?I:hw(I,ti)),F=g===gr?Yb:gr,M=n.rects.popper,T=n.elements[w?F:g],O=qR(nr(T)?T:T.contextElement||ws(n.elements.popper),l,f,a),S=Vr(n.elements.reference),R=pw({reference:S,element:M,strategy:"absolute",placement:i}),x=Mu(Object.assign({},M,R)),q=g===gr?x:S,J={top:O.top-q.top+k.top,bottom:q.bottom-O.bottom+k.bottom,left:O.left-q.left+k.left,right:q.right-O.right+k.right},ae=n.modifiersData.offset;if(g===gr&&ae){var W=ae[i];Object.keys(J).forEach(function(fe){var Se=[Ht,Vt].indexOf(fe)>=0?1:-1,De=[Ot,Vt].indexOf(fe)>=0?"y":"x";J[fe]+=W[De]*Se})}return J}function KR(n,t){t===void 0&&(t={});var s=t,r=s.placement,i=s.boundary,o=s.rootBoundary,a=s.padding,c=s.flipVariations,l=s.allowedAutoPlacements,h=l===void 0?Af:l,f=Hr(r),d=f?c?Pu:Pu.filter(function(w){return Hr(w)===f}):ti,g=d.filter(function(w){return h.indexOf(w)>=0});g.length===0&&(g=d);var m=g.reduce(function(w,E){return w[E]=qr(n,{placement:E,boundary:i,rootBoundary:o,padding:a})[bn(E)],w},{});return Object.keys(m).sort(function(w,E){return m[w]-m[E]})}function zR(n){if(bn(n)===tl)return[];var t=Ea(n);return[Qg(n),t,Qg(t)]}function WR(n){var t=n.state,s=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=s.mainAxis,o=i===void 0?!0:i,a=s.altAxis,c=a===void 0?!0:a,l=s.fallbackPlacements,h=s.padding,f=s.boundary,d=s.rootBoundary,g=s.altBoundary,m=s.flipVariations,w=m===void 0?!0:m,E=s.allowedAutoPlacements,I=t.options.placement,k=bn(I),F=k===I,M=l||(F||!w?[Ea(I)]:zR(I)),T=[I].concat(M).reduce(function(Tt,D){return Tt.concat(bn(D)===tl?KR(t,{placement:D,boundary:f,rootBoundary:d,padding:h,flipVariations:w,allowedAutoPlacements:E}):D)},[]),O=t.rects.reference,S=t.rects.popper,R=new Map,x=!0,q=T[0],J=0;J<T.length;J++){var ae=T[J],W=bn(ae),fe=Hr(ae)===tr,Se=[Ot,Vt].indexOf(W)>=0,De=Se?"width":"height",be=qr(t,{placement:ae,boundary:f,rootBoundary:d,altBoundary:g,padding:h}),ve=Se?fe?Ht:Dt:fe?Vt:Ot;O[De]>S[De]&&(ve=Ea(ve));var Ee=Ea(ve),He=[];if(o&&He.push(be[W]<=0),c&&He.push(be[ve]<=0,be[Ee]<=0),He.every(function(Tt){return Tt})){q=ae,x=!1;break}R.set(ae,He)}if(x)for(var pt=w?3:1,lt=function(D){var G=T.find(function(K){var X=R.get(K);if(X)return X.slice(0,D).every(function(ue){return ue})});if(G)return q=G,"break"},Ve=pt;Ve>0;Ve--){var L=lt(Ve);if(L==="break")break}t.placement!==q&&(t.modifiersData[r]._skip=!0,t.placement=q,t.reset=!0)}}const gw={name:"flip",enabled:!0,phase:"main",fn:WR,requiresIfExists:["offset"],data:{_skip:!1}};function Xg(n,t,s){return s===void 0&&(s={x:0,y:0}),{top:n.top-t.height-s.y,right:n.right-t.width+s.x,bottom:n.bottom-t.height+s.y,left:n.left-t.width-s.x}}function Jg(n){return[Ot,Ht,Vt,Dt].some(function(t){return n[t]>=0})}function GR(n){var t=n.state,s=n.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=qr(t,{elementContext:"reference"}),c=qr(t,{altBoundary:!0}),l=Xg(a,r),h=Xg(c,i,o),f=Jg(l),d=Jg(h);t.modifiersData[s]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const mw={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GR};function QR(n,t,s){var r=bn(n),i=[Dt,Ot].indexOf(r)>=0?-1:1,o=typeof s=="function"?s(Object.assign({},t,{placement:n})):s,a=o[0],c=o[1];return a=a||0,c=(c||0)*i,[Dt,Ht].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function YR(n){var t=n.state,s=n.options,r=n.name,i=s.offset,o=i===void 0?[0,0]:i,a=Af.reduce(function(f,d){return f[d]=QR(d,t.rects,o),f},{}),c=a[t.placement],l=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=a}const yw={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YR};function XR(n){var t=n.state,s=n.name;t.modifiersData[s]=pw({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Pf={name:"popperOffsets",enabled:!0,phase:"read",fn:XR,data:{}};function JR(n){return n==="x"?"y":"x"}function ZR(n){var t=n.state,s=n.options,r=n.name,i=s.mainAxis,o=i===void 0?!0:i,a=s.altAxis,c=a===void 0?!1:a,l=s.boundary,h=s.rootBoundary,f=s.altBoundary,d=s.padding,g=s.tether,m=g===void 0?!0:g,w=s.tetherOffset,E=w===void 0?0:w,I=qr(t,{boundary:l,rootBoundary:h,padding:d,altBoundary:f}),k=bn(t.placement),F=Hr(t.placement),M=!F,T=kf(k),O=JR(T),S=t.modifiersData.popperOffsets,R=t.rects.reference,x=t.rects.popper,q=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,J=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),ae=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(S){if(o){var fe,Se=T==="y"?Ot:Dt,De=T==="y"?Vt:Ht,be=T==="y"?"height":"width",ve=S[T],Ee=ve+I[Se],He=ve-I[De],pt=m?-x[be]/2:0,lt=F===tr?R[be]:x[be],Ve=F===tr?-x[be]:-R[be],L=t.elements.arrow,Tt=m&&L?Sf(L):{width:0,height:0},D=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:lw(),G=D[Se],K=D[De],X=Ri(0,R[be],Tt[be]),ue=M?R[be]/2-pt-X-G-J.mainAxis:lt-X-G-J.mainAxis,Ne=M?-R[be]/2+pt+X+K+J.mainAxis:Ve+X+K+J.mainAxis,ie=t.elements.arrow&&Po(t.elements.arrow),y=ie?T==="y"?ie.clientTop||0:ie.clientLeft||0:0,_=(fe=ae==null?void 0:ae[T])!=null?fe:0,C=ve+ue-_-y,N=ve+Ne-_,A=Ri(m?nc(Ee,C):Ee,ve,m?Qs(He,N):He);S[T]=A,W[T]=A-ve}if(c){var H,Q=T==="x"?Ot:Dt,j=T==="x"?Vt:Ht,$=S[O],U=O==="y"?"height":"width",ee=$+I[Q],Y=$-I[j],ne=[Ot,Dt].indexOf(k)!==-1,le=(H=ae==null?void 0:ae[O])!=null?H:0,ge=ne?ee:$-R[U]-x[U]-le+J.altAxis,xe=ne?$+R[U]+x[U]-le-J.altAxis:Y,ke=m&&ne?DR(ge,$,xe):Ri(m?ge:ee,$,m?xe:Y);S[O]=ke,W[O]=ke-$}t.modifiersData[r]=W}}const vw={name:"preventOverflow",enabled:!0,phase:"main",fn:ZR,requiresIfExists:["offset"]};function eP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function tP(n){return n===Jt(n)||!Xt(n)?Nf(n):eP(n)}function nP(n){var t=n.getBoundingClientRect(),s=$r(t.width)/n.offsetWidth||1,r=$r(t.height)/n.offsetHeight||1;return s!==1||r!==1}function sP(n,t,s){s===void 0&&(s=!1);var r=Xt(t),i=Xt(t)&&nP(t),o=ws(t),a=Vr(n,i,s),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!s)&&((Tn(t)!=="body"||Rf(o))&&(c=tP(t)),Xt(t)?(l=Vr(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=xf(o))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function rP(n){var t=new Map,s=new Set,r=[];n.forEach(function(o){t.set(o.name,o)});function i(o){s.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(c){if(!s.has(c)){var l=t.get(c);l&&i(l)}}),r.push(o)}return n.forEach(function(o){s.has(o.name)||i(o)}),r}function iP(n){var t=rP(n);return ow.reduce(function(s,r){return s.concat(t.filter(function(i){return i.phase===r}))},[])}function oP(n){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(n())})})),t}}function aP(n){var t=n.reduce(function(s,r){var i=s[r.name];return s[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,s},{});return Object.keys(t).map(function(s){return t[s]})}var Zg={placement:"bottom",modifiers:[],strategy:"absolute"};function em(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sl(n){n===void 0&&(n={});var t=n,s=t.defaultModifiers,r=s===void 0?[]:s,i=t.defaultOptions,o=i===void 0?Zg:i;return function(c,l,h){h===void 0&&(h=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zg,o),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},d=[],g=!1,m={state:f,setOptions:function(k){var F=typeof k=="function"?k(f.options):k;E(),f.options=Object.assign({},o,f.options,F),f.scrollParents={reference:nr(c)?Pi(c):c.contextElement?Pi(c.contextElement):[],popper:Pi(l)};var M=iP(aP([].concat(r,f.options.modifiers)));return f.orderedModifiers=M.filter(function(T){return T.enabled}),w(),m.update()},forceUpdate:function(){if(!g){var k=f.elements,F=k.reference,M=k.popper;if(em(F,M)){f.rects={reference:sP(F,Po(M),f.options.strategy==="fixed"),popper:Sf(M)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(J){return f.modifiersData[J.name]=Object.assign({},J.data)});for(var T=0;T<f.orderedModifiers.length;T++){if(f.reset===!0){f.reset=!1,T=-1;continue}var O=f.orderedModifiers[T],S=O.fn,R=O.options,x=R===void 0?{}:R,q=O.name;typeof S=="function"&&(f=S({state:f,options:x,name:q,instance:m})||f)}}}},update:oP(function(){return new Promise(function(I){m.forceUpdate(),I(f)})}),destroy:function(){E(),g=!0}};if(!em(c,l))return m;m.setOptions(h).then(function(I){!g&&h.onFirstUpdate&&h.onFirstUpdate(I)});function w(){f.orderedModifiers.forEach(function(I){var k=I.name,F=I.options,M=F===void 0?{}:F,T=I.effect;if(typeof T=="function"){var O=T({state:f,name:k,instance:m,options:M}),S=function(){};d.push(O||S)}})}function E(){d.forEach(function(I){return I()}),d=[]}return m}}var cP=sl(),lP=[Df,Pf,Of,Cf],uP=sl({defaultModifiers:lP}),hP=[Df,Pf,Of,Cf,yw,gw,vw,fw,mw],fP=sl({defaultModifiers:hP});const dP=Object.freeze(Object.defineProperty({__proto__:null,afterMain:nw,afterRead:Zb,afterWrite:iw,applyStyles:Cf,arrow:fw,auto:tl,basePlacements:ti,beforeMain:ew,beforeRead:Xb,beforeWrite:sw,bottom:Vt,clippingParents:Qb,computeStyles:Of,createPopper:fP,createPopperBase:cP,createPopperLite:uP,detectOverflow:qr,end:jr,eventListeners:Df,flip:gw,hide:mw,left:Dt,main:tw,modifierPhases:ow,offset:yw,placements:Af,popper:gr,popperGenerator:sl,popperOffsets:Pf,preventOverflow:vw,read:Jb,reference:Yb,right:Ht,start:tr,top:Ot,variationPlacements:Pu,viewport:Tf,write:rw},Symbol.toStringTag,{value:"Module"})),pP=BN(dP);/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(n,t){(function(s,r){n.exports=r(pP)})(Rn,function(s){function r(b){if(b&&b.__esModule)return b;const u=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(b){for(const p in b)if(p!=="default"){const v=Object.getOwnPropertyDescriptor(b,p);Object.defineProperty(u,p,v.get?v:{enumerable:!0,get:()=>b[p]})}}return u.default=b,Object.freeze(u)}const i=r(s),o="transitionend",a=b=>{let u=b.getAttribute("data-bs-target");if(!u||u==="#"){let p=b.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),u=p&&p!=="#"?p.trim():null}return u},c=b=>{const u=a(b);return u&&document.querySelector(u)?u:null},l=b=>{const u=a(b);return u?document.querySelector(u):null},h=b=>{b.dispatchEvent(new Event(o))},f=b=>!(!b||typeof b!="object")&&(b.jquery!==void 0&&(b=b[0]),b.nodeType!==void 0),d=b=>f(b)?b.jquery?b[0]:b:typeof b=="string"&&b.length>0?document.querySelector(b):null,g=b=>{if(!f(b)||b.getClientRects().length===0)return!1;const u=getComputedStyle(b).getPropertyValue("visibility")==="visible",p=b.closest("details:not([open])");if(!p)return u;if(p!==b){const v=b.closest("summary");if(v&&v.parentNode!==p||v===null)return!1}return u},m=b=>!b||b.nodeType!==Node.ELEMENT_NODE||!!b.classList.contains("disabled")||(b.disabled!==void 0?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false"),w=b=>{if(!document.documentElement.attachShadow)return null;if(typeof b.getRootNode=="function"){const u=b.getRootNode();return u instanceof ShadowRoot?u:null}return b instanceof ShadowRoot?b:b.parentNode?w(b.parentNode):null},E=()=>{},I=b=>{b.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,F=[],M=()=>document.documentElement.dir==="rtl",T=b=>{var u;u=()=>{const p=k();if(p){const v=b.NAME,P=p.fn[v];p.fn[v]=b.jQueryInterface,p.fn[v].Constructor=b,p.fn[v].noConflict=()=>(p.fn[v]=P,b.jQueryInterface)}},document.readyState==="loading"?(F.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of F)p()}),F.push(u)):u()},O=b=>{typeof b=="function"&&b()},S=(b,u,p=!0)=>{if(!p)return void O(b);const v=(te=>{if(!te)return 0;let{transitionDuration:Ie,transitionDelay:Ue}=window.getComputedStyle(te);const It=Number.parseFloat(Ie),Lt=Number.parseFloat(Ue);return It||Lt?(Ie=Ie.split(",")[0],Ue=Ue.split(",")[0],1e3*(Number.parseFloat(Ie)+Number.parseFloat(Ue))):0})(u)+5;let P=!1;const z=({target:te})=>{te===u&&(P=!0,u.removeEventListener(o,z),O(b))};u.addEventListener(o,z),setTimeout(()=>{P||h(u)},v)},R=(b,u,p,v)=>{const P=b.length;let z=b.indexOf(u);return z===-1?!p&&v?b[P-1]:b[0]:(z+=p?1:-1,v&&(z=(z+P)%P),b[Math.max(0,Math.min(z,P-1))])},x=/[^.]*(?=\..*)\.|.*/,q=/\..*/,J=/::\d+$/,ae={};let W=1;const fe={mouseenter:"mouseover",mouseleave:"mouseout"},Se=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function De(b,u){return u&&`${u}::${W++}`||b.uidEvent||W++}function be(b){const u=De(b);return b.uidEvent=u,ae[u]=ae[u]||{},ae[u]}function ve(b,u,p=null){return Object.values(b).find(v=>v.callable===u&&v.delegationSelector===p)}function Ee(b,u,p){const v=typeof u=="string",P=v?p:u||p;let z=Ve(b);return Se.has(z)||(z=b),[v,P,z]}function He(b,u,p,v,P){if(typeof u!="string"||!b)return;let[z,te,Ie]=Ee(u,p,v);u in fe&&(te=(Ss=>function(en){if(!en.relatedTarget||en.relatedTarget!==en.delegateTarget&&!en.delegateTarget.contains(en.relatedTarget))return Ss.call(this,en)})(te));const Ue=be(b),It=Ue[Ie]||(Ue[Ie]={}),Lt=ve(It,te,z?p:null);if(Lt)return void(Lt.oneOff=Lt.oneOff&&P);const Kt=De(te,u.replace(x,"")),Kn=z?function(hn,Ss,en){return function oi(Ho){const sE=hn.querySelectorAll(Ss);for(let{target:ks}=Ho;ks&&ks!==this;ks=ks.parentNode)for(const rE of sE)if(rE===ks)return Tt(Ho,{delegateTarget:ks}),oi.oneOff&&L.off(hn,Ho.type,Ss,en),en.apply(ks,[Ho])}}(b,p,te):function(hn,Ss){return function en(oi){return Tt(oi,{delegateTarget:hn}),en.oneOff&&L.off(hn,oi.type,Ss),Ss.apply(hn,[oi])}}(b,te);Kn.delegationSelector=z?p:null,Kn.callable=te,Kn.oneOff=P,Kn.uidEvent=Kt,It[Kt]=Kn,b.addEventListener(Ie,Kn,z)}function pt(b,u,p,v,P){const z=ve(u[p],v,P);z&&(b.removeEventListener(p,z,Boolean(P)),delete u[p][z.uidEvent])}function lt(b,u,p,v){const P=u[p]||{};for(const z of Object.keys(P))if(z.includes(v)){const te=P[z];pt(b,u,p,te.callable,te.delegationSelector)}}function Ve(b){return b=b.replace(q,""),fe[b]||b}const L={on(b,u,p,v){He(b,u,p,v,!1)},one(b,u,p,v){He(b,u,p,v,!0)},off(b,u,p,v){if(typeof u!="string"||!b)return;const[P,z,te]=Ee(u,p,v),Ie=te!==u,Ue=be(b),It=Ue[te]||{},Lt=u.startsWith(".");if(z===void 0){if(Lt)for(const Kt of Object.keys(Ue))lt(b,Ue,Kt,u.slice(1));for(const Kt of Object.keys(It)){const Kn=Kt.replace(J,"");if(!Ie||u.includes(Kn)){const hn=It[Kt];pt(b,Ue,te,hn.callable,hn.delegationSelector)}}}else{if(!Object.keys(It).length)return;pt(b,Ue,te,z,P?p:null)}},trigger(b,u,p){if(typeof u!="string"||!b)return null;const v=k();let P=null,z=!0,te=!0,Ie=!1;u!==Ve(u)&&v&&(P=v.Event(u,p),v(b).trigger(P),z=!P.isPropagationStopped(),te=!P.isImmediatePropagationStopped(),Ie=P.isDefaultPrevented());let Ue=new Event(u,{bubbles:z,cancelable:!0});return Ue=Tt(Ue,p),Ie&&Ue.preventDefault(),te&&b.dispatchEvent(Ue),Ue.defaultPrevented&&P&&P.preventDefault(),Ue}};function Tt(b,u){for(const[p,v]of Object.entries(u||{}))try{b[p]=v}catch{Object.defineProperty(b,p,{configurable:!0,get:()=>v})}return b}const D=new Map,G={set(b,u,p){D.has(b)||D.set(b,new Map);const v=D.get(b);v.has(u)||v.size===0?v.set(u,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(b,u)=>D.has(b)&&D.get(b).get(u)||null,remove(b,u){if(!D.has(b))return;const p=D.get(b);p.delete(u),p.size===0&&D.delete(b)}};function K(b){if(b==="true")return!0;if(b==="false")return!1;if(b===Number(b).toString())return Number(b);if(b===""||b==="null")return null;if(typeof b!="string")return b;try{return JSON.parse(decodeURIComponent(b))}catch{return b}}function X(b){return b.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}const ue={setDataAttribute(b,u,p){b.setAttribute(`data-bs-${X(u)}`,p)},removeDataAttribute(b,u){b.removeAttribute(`data-bs-${X(u)}`)},getDataAttributes(b){if(!b)return{};const u={},p=Object.keys(b.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of p){let P=v.replace(/^bs/,"");P=P.charAt(0).toLowerCase()+P.slice(1,P.length),u[P]=K(b.dataset[v])}return u},getDataAttribute:(b,u)=>K(b.getAttribute(`data-bs-${X(u)}`))};class Ne{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(u){return u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u}_mergeConfigObj(u,p){const v=f(p)?ue.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...f(p)?ue.getDataAttributes(p):{},...typeof u=="object"?u:{}}}_typeCheckConfig(u,p=this.constructor.DefaultType){for(const P of Object.keys(p)){const z=p[P],te=u[P],Ie=f(te)?"element":(v=te)==null?`${v}`:Object.prototype.toString.call(v).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(Ie))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${P}" provided type "${Ie}" but expected type "${z}".`)}var v}}class ie extends Ne{constructor(u,p){super(),(u=d(u))&&(this._element=u,this._config=this._getConfig(p),G.set(this._element,this.constructor.DATA_KEY,this))}dispose(){G.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const u of Object.getOwnPropertyNames(this))this[u]=null}_queueCallback(u,p,v=!0){S(u,p,v)}_getConfig(u){return u=this._mergeConfigObj(u,this._element),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}static getInstance(u){return G.get(d(u),this.DATA_KEY)}static getOrCreateInstance(u,p={}){return this.getInstance(u)||new this(u,typeof p=="object"?p:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(u){return`${u}${this.EVENT_KEY}`}}const y=(b,u="hide")=>{const p=`click.dismiss${b.EVENT_KEY}`,v=b.NAME;L.on(document,p,`[data-bs-dismiss="${v}"]`,function(P){if(["A","AREA"].includes(this.tagName)&&P.preventDefault(),m(this))return;const z=l(this)||this.closest(`.${v}`);b.getOrCreateInstance(z)[u]()})};class _ extends ie{static get NAME(){return"alert"}close(){if(L.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const u=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,u)}_destroyElement(){this._element.remove(),L.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(u){return this.each(function(){const p=_.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}y(_,"close"),T(_);const C='[data-bs-toggle="button"]';class N extends ie{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(u){return this.each(function(){const p=N.getOrCreateInstance(this);u==="toggle"&&p[u]()})}}L.on(document,"click.bs.button.data-api",C,b=>{b.preventDefault();const u=b.target.closest(C);N.getOrCreateInstance(u).toggle()}),T(N);const A={find:(b,u=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(u,b)),findOne:(b,u=document.documentElement)=>Element.prototype.querySelector.call(u,b),children:(b,u)=>[].concat(...b.children).filter(p=>p.matches(u)),parents(b,u){const p=[];let v=b.parentNode.closest(u);for(;v;)p.push(v),v=v.parentNode.closest(u);return p},prev(b,u){let p=b.previousElementSibling;for(;p;){if(p.matches(u))return[p];p=p.previousElementSibling}return[]},next(b,u){let p=b.nextElementSibling;for(;p;){if(p.matches(u))return[p];p=p.nextElementSibling}return[]},focusableChildren(b){const u=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(u,b).filter(p=>!m(p)&&g(p))}},H={endCallback:null,leftCallback:null,rightCallback:null},Q={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class j extends Ne{constructor(u,p){super(),this._element=u,u&&j.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return H}static get DefaultType(){return Q}static get NAME(){return"swipe"}dispose(){L.off(this._element,".bs.swipe")}_start(u){this._supportPointerEvents?this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX):this._deltaX=u.touches[0].clientX}_end(u){this._eventIsPointerPenTouch(u)&&(this._deltaX=u.clientX-this._deltaX),this._handleSwipe(),O(this._config.endCallback)}_move(u){this._deltaX=u.touches&&u.touches.length>1?0:u.touches[0].clientX-this._deltaX}_handleSwipe(){const u=Math.abs(this._deltaX);if(u<=40)return;const p=u/this._deltaX;this._deltaX=0,p&&O(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,"pointerdown.bs.swipe",u=>this._start(u)),L.on(this._element,"pointerup.bs.swipe",u=>this._end(u)),this._element.classList.add("pointer-event")):(L.on(this._element,"touchstart.bs.swipe",u=>this._start(u)),L.on(this._element,"touchmove.bs.swipe",u=>this._move(u)),L.on(this._element,"touchend.bs.swipe",u=>this._end(u)))}_eventIsPointerPenTouch(u){return this._supportPointerEvents&&(u.pointerType==="pen"||u.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $="next",U="prev",ee="left",Y="right",ne="slid.bs.carousel",le="carousel",ge="active",xe={ArrowLeft:Y,ArrowRight:ee},ke={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qe={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class rt extends ie{constructor(u,p){super(u,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=A.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===le&&this.cycle()}static get Default(){return ke}static get DefaultType(){return qe}static get NAME(){return"carousel"}next(){this._slide($)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(U)}pause(){this._isSliding&&h(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,ne,()=>this.cycle()):this.cycle())}to(u){const p=this._getItems();if(u>p.length-1||u<0)return;if(this._isSliding)return void L.one(this._element,ne,()=>this.to(u));const v=this._getItemIndex(this._getActive());if(v===u)return;const P=u>v?$:U;this._slide(P,p[u])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(u){return u.defaultInterval=u.interval,u}_addEventListeners(){this._config.keyboard&&L.on(this._element,"keydown.bs.carousel",u=>this._keydown(u)),this._config.pause==="hover"&&(L.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),L.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&j.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of A.find(".carousel-item img",this._element))L.on(p,"dragstart.bs.carousel",v=>v.preventDefault());const u={leftCallback:()=>this._slide(this._directionToOrder(ee)),rightCallback:()=>this._slide(this._directionToOrder(Y)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new j(this._element,u)}_keydown(u){if(/input|textarea/i.test(u.target.tagName))return;const p=xe[u.key];p&&(u.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(u){return this._getItems().indexOf(u)}_setActiveIndicatorElement(u){if(!this._indicatorsElement)return;const p=A.findOne(".active",this._indicatorsElement);p.classList.remove(ge),p.removeAttribute("aria-current");const v=A.findOne(`[data-bs-slide-to="${u}"]`,this._indicatorsElement);v&&(v.classList.add(ge),v.setAttribute("aria-current","true"))}_updateInterval(){const u=this._activeElement||this._getActive();if(!u)return;const p=Number.parseInt(u.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(u,p=null){if(this._isSliding)return;const v=this._getActive(),P=u===$,z=p||R(this._getItems(),v,P,this._config.wrap);if(z===v)return;const te=this._getItemIndex(z),Ie=Kt=>L.trigger(this._element,Kt,{relatedTarget:z,direction:this._orderToDirection(u),from:this._getItemIndex(v),to:te});if(Ie("slide.bs.carousel").defaultPrevented||!v||!z)return;const Ue=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(te),this._activeElement=z;const It=P?"carousel-item-start":"carousel-item-end",Lt=P?"carousel-item-next":"carousel-item-prev";z.classList.add(Lt),I(z),v.classList.add(It),z.classList.add(It),this._queueCallback(()=>{z.classList.remove(It,Lt),z.classList.add(ge),v.classList.remove(ge,Lt,It),this._isSliding=!1,Ie(ne)},v,this._isAnimated()),Ue&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return A.findOne(".active.carousel-item",this._element)}_getItems(){return A.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(u){return M()?u===ee?U:$:u===ee?$:U}_orderToDirection(u){return M()?u===U?ee:Y:u===U?Y:ee}static jQueryInterface(u){return this.each(function(){const p=rt.getOrCreateInstance(this,u);if(typeof u!="number"){if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}}else p.to(u)})}}L.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(b){const u=l(this);if(!u||!u.classList.contains(le))return;b.preventDefault();const p=rt.getOrCreateInstance(u),v=this.getAttribute("data-bs-slide-to");return v?(p.to(v),void p._maybeEnableCycle()):ue.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),L.on(window,"load.bs.carousel.data-api",()=>{const b=A.find('[data-bs-ride="carousel"]');for(const u of b)rt.getOrCreateInstance(u)}),T(rt);const ln="show",Es="collapse",un="collapsing",cr='[data-bs-toggle="collapse"]',At={parent:null,toggle:!0},qt={parent:"(null|element)",toggle:"boolean"};class An extends ie{constructor(u,p){super(u,p),this._isTransitioning=!1,this._triggerArray=[];const v=A.find(cr);for(const P of v){const z=c(P),te=A.find(z).filter(Ie=>Ie===this._element);z!==null&&te.length&&this._triggerArray.push(P)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return At}static get DefaultType(){return qt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let u=[];if(this._config.parent&&(u=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(P=>P!==this._element).map(P=>An.getOrCreateInstance(P,{toggle:!1}))),u.length&&u[0]._isTransitioning||L.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const P of u)P.hide();const p=this._getDimension();this._element.classList.remove(Es),this._element.classList.add(un),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(un),this._element.classList.add(Es,ln),this._element.style[p]="",L.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[p]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const u=this._getDimension();this._element.style[u]=`${this._element.getBoundingClientRect()[u]}px`,I(this._element),this._element.classList.add(un),this._element.classList.remove(Es,ln);for(const p of this._triggerArray){const v=l(p);v&&!this._isShown(v)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[u]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(un),this._element.classList.add(Es),L.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(u=this._element){return u.classList.contains(ln)}_configAfterMerge(u){return u.toggle=Boolean(u.toggle),u.parent=d(u.parent),u}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const u=this._getFirstLevelChildren(cr);for(const p of u){const v=l(p);v&&this._addAriaAndCollapsedClass([p],this._isShown(v))}}_getFirstLevelChildren(u){const p=A.find(":scope .collapse .collapse",this._config.parent);return A.find(u,this._config.parent).filter(v=>!p.includes(v))}_addAriaAndCollapsedClass(u,p){if(u.length)for(const v of u)v.classList.toggle("collapsed",!p),v.setAttribute("aria-expanded",p)}static jQueryInterface(u){const p={};return typeof u=="string"&&/show|hide/.test(u)&&(p.toggle=!1),this.each(function(){const v=An.getOrCreateInstance(this,p);if(typeof u=="string"){if(v[u]===void 0)throw new TypeError(`No method named "${u}"`);v[u]()}})}}L.on(document,"click.bs.collapse.data-api",cr,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault();const u=c(this),p=A.find(u);for(const v of p)An.getOrCreateInstance(v,{toggle:!1}).toggle()}),T(An);const Mf="dropdown",_w="ArrowUp",Ff="ArrowDown",Uf="click.bs.dropdown.data-api",Bf="keydown.bs.dropdown.data-api",ni="show",Ts='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',bw=`${Ts}.show`,Lo=".dropdown-menu",ww=M()?"top-end":"top-start",Ew=M()?"top-start":"top-end",Tw=M()?"bottom-end":"bottom-start",Aw=M()?"bottom-start":"bottom-end",Iw=M()?"left-start":"right-start",Cw=M()?"right-start":"left-start",Sw={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},kw={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Zt extends ie{constructor(u,p){super(u,p),this._popper=null,this._parent=this._element.parentNode,this._menu=A.next(this._element,Lo)[0]||A.prev(this._element,Lo)[0]||A.findOne(Lo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Sw}static get DefaultType(){return kw}static get NAME(){return Mf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const u={relatedTarget:this._element};if(!L.trigger(this._element,"show.bs.dropdown",u).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))L.on(p,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ni),this._element.classList.add(ni),L.trigger(this._element,"shown.bs.dropdown",u)}}hide(){if(m(this._element)||!this._isShown())return;const u={relatedTarget:this._element};this._completeHide(u)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(u){if(!L.trigger(this._element,"hide.bs.dropdown",u).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))L.off(p,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(ni),this._element.classList.remove(ni),this._element.setAttribute("aria-expanded","false"),ue.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,"hidden.bs.dropdown",u)}}_getConfig(u){if(typeof(u=super._getConfig(u)).reference=="object"&&!f(u.reference)&&typeof u.reference.getBoundingClientRect!="function")throw new TypeError(`${Mf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return u}_createPopper(){if(i===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let u=this._element;this._config.reference==="parent"?u=this._parent:f(this._config.reference)?u=d(this._config.reference):typeof this._config.reference=="object"&&(u=this._config.reference);const p=this._getPopperConfig();this._popper=i.createPopper(u,this._menu,p)}_isShown(){return this._menu.classList.contains(ni)}_getPlacement(){const u=this._parent;if(u.classList.contains("dropend"))return Iw;if(u.classList.contains("dropstart"))return Cw;if(u.classList.contains("dropup-center"))return"top";if(u.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return u.classList.contains("dropup")?p?Ew:ww:p?Aw:Tw}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_getPopperConfig(){const u={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ue.setDataAttribute(this._menu,"popper","static"),u.modifiers=[{name:"applyStyles",enabled:!1}]),{...u,...typeof this._config.popperConfig=="function"?this._config.popperConfig(u):this._config.popperConfig}}_selectMenuItem({key:u,target:p}){const v=A.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(P=>g(P));v.length&&R(v,p,u===Ff,!v.includes(p)).focus()}static jQueryInterface(u){return this.each(function(){const p=Zt.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}static clearMenus(u){if(u.button===2||u.type==="keyup"&&u.key!=="Tab")return;const p=A.find(bw);for(const v of p){const P=Zt.getInstance(v);if(!P||P._config.autoClose===!1)continue;const z=u.composedPath(),te=z.includes(P._menu);if(z.includes(P._element)||P._config.autoClose==="inside"&&!te||P._config.autoClose==="outside"&&te||P._menu.contains(u.target)&&(u.type==="keyup"&&u.key==="Tab"||/input|select|option|textarea|form/i.test(u.target.tagName)))continue;const Ie={relatedTarget:P._element};u.type==="click"&&(Ie.clickEvent=u),P._completeHide(Ie)}}static dataApiKeydownHandler(u){const p=/input|textarea/i.test(u.target.tagName),v=u.key==="Escape",P=[_w,Ff].includes(u.key);if(!P&&!v||p&&!v)return;u.preventDefault();const z=this.matches(Ts)?this:A.prev(this,Ts)[0]||A.next(this,Ts)[0]||A.findOne(Ts,u.delegateTarget.parentNode),te=Zt.getOrCreateInstance(z);if(P)return u.stopPropagation(),te.show(),void te._selectMenuItem(u);te._isShown()&&(u.stopPropagation(),te.hide(),z.focus())}}L.on(document,Bf,Ts,Zt.dataApiKeydownHandler),L.on(document,Bf,Lo,Zt.dataApiKeydownHandler),L.on(document,Uf,Zt.clearMenus),L.on(document,"keyup.bs.dropdown.data-api",Zt.clearMenus),L.on(document,Uf,Ts,function(b){b.preventDefault(),Zt.getOrCreateInstance(this).toggle()}),T(Zt);const jf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$f=".sticky-top",Mo="padding-right",Vf="margin-right";class rl{constructor(){this._element=document.body}getWidth(){const u=document.documentElement.clientWidth;return Math.abs(window.innerWidth-u)}hide(){const u=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Mo,p=>p+u),this._setElementAttributes(jf,Mo,p=>p+u),this._setElementAttributes($f,Vf,p=>p-u)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Mo),this._resetElementAttributes(jf,Mo),this._resetElementAttributes($f,Vf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(u,p,v){const P=this.getWidth();this._applyManipulationCallback(u,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+P)return;this._saveInitialAttribute(z,p);const te=window.getComputedStyle(z).getPropertyValue(p);z.style.setProperty(p,`${v(Number.parseFloat(te))}px`)})}_saveInitialAttribute(u,p){const v=u.style.getPropertyValue(p);v&&ue.setDataAttribute(u,p,v)}_resetElementAttributes(u,p){this._applyManipulationCallback(u,v=>{const P=ue.getDataAttribute(v,p);P!==null?(ue.removeDataAttribute(v,p),v.style.setProperty(p,P)):v.style.removeProperty(p)})}_applyManipulationCallback(u,p){if(f(u))p(u);else for(const v of A.find(u,this._element))p(v)}}const Hf="show",qf="mousedown.bs.backdrop",Ow={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Dw={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Kf extends Ne{constructor(u){super(),this._config=this._getConfig(u),this._isAppended=!1,this._element=null}static get Default(){return Ow}static get DefaultType(){return Dw}static get NAME(){return"backdrop"}show(u){if(!this._config.isVisible)return void O(u);this._append();const p=this._getElement();this._config.isAnimated&&I(p),p.classList.add(Hf),this._emulateAnimation(()=>{O(u)})}hide(u){this._config.isVisible?(this._getElement().classList.remove(Hf),this._emulateAnimation(()=>{this.dispose(),O(u)})):O(u)}dispose(){this._isAppended&&(L.off(this._element,qf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const u=document.createElement("div");u.className=this._config.className,this._config.isAnimated&&u.classList.add("fade"),this._element=u}return this._element}_configAfterMerge(u){return u.rootElement=d(u.rootElement),u}_append(){if(this._isAppended)return;const u=this._getElement();this._config.rootElement.append(u),L.on(u,qf,()=>{O(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(u){S(u,this._getElement(),this._config.isAnimated)}}const zf=".bs.focustrap",Wf="backward",Nw={autofocus:!0,trapElement:null},xw={autofocus:"boolean",trapElement:"element"};class Gf extends Ne{constructor(u){super(),this._config=this._getConfig(u),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Nw}static get DefaultType(){return xw}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,zf),L.on(document,"focusin.bs.focustrap",u=>this._handleFocusin(u)),L.on(document,"keydown.tab.bs.focustrap",u=>this._handleKeydown(u)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,zf))}_handleFocusin(u){const{trapElement:p}=this._config;if(u.target===document||u.target===p||p.contains(u.target))return;const v=A.focusableChildren(p);v.length===0?p.focus():this._lastTabNavDirection===Wf?v[v.length-1].focus():v[0].focus()}_handleKeydown(u){u.key==="Tab"&&(this._lastTabNavDirection=u.shiftKey?Wf:"forward")}}const Qf="hidden.bs.modal",Yf="show.bs.modal",Xf="modal-open",Jf="show",il="modal-static",Rw={backdrop:!0,focus:!0,keyboard:!0},Pw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class As extends ie{constructor(u,p){super(u,p),this._dialog=A.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rl,this._addEventListeners()}static get Default(){return Rw}static get DefaultType(){return Pw}static get NAME(){return"modal"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||this._isTransitioning||L.trigger(this._element,Yf,{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(u)))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Jf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const u of[window,this._dialog])L.off(u,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Kf({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Gf({trapElement:this._element})}_showElement(u){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=A.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),I(this._element),this._element.classList.add(Jf),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,"shown.bs.modal",{relatedTarget:u})},this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,"keydown.dismiss.bs.modal",u=>{if(u.key==="Escape")return this._config.keyboard?(u.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),L.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,"mousedown.dismiss.bs.modal",u=>{L.one(this._element,"click.dismiss.bs.modal",p=>{this._element===u.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xf),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,Qf)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(il)||(u||(this._element.style.overflowY="hidden"),this._element.classList.add(il),this._queueCallback(()=>{this._element.classList.remove(il),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const u=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),v=p>0;if(v&&!u){const P=M()?"paddingLeft":"paddingRight";this._element.style[P]=`${p}px`}if(!v&&u){const P=M()?"paddingRight":"paddingLeft";this._element.style[P]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(u,p){return this.each(function(){const v=As.getOrCreateInstance(this,u);if(typeof u=="string"){if(v[u]===void 0)throw new TypeError(`No method named "${u}"`);v[u](p)}})}}L.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(b){const u=l(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),L.one(u,Yf,v=>{v.defaultPrevented||L.one(u,Qf,()=>{g(this)&&this.focus()})});const p=A.findOne(".modal.show");p&&As.getInstance(p).hide(),As.getOrCreateInstance(u).toggle(this)}),y(As),T(As);const Zf="show",ed="showing",td="hiding",nd=".offcanvas.show",sd="hidePrevented.bs.offcanvas",rd="hidden.bs.offcanvas",Lw={backdrop:!0,keyboard:!0,scroll:!1},Mw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class In extends ie{constructor(u,p){super(u,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Lw}static get DefaultType(){return Mw}static get NAME(){return"offcanvas"}toggle(u){return this._isShown?this.hide():this.show(u)}show(u){this._isShown||L.trigger(this._element,"show.bs.offcanvas",{relatedTarget:u}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new rl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ed),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Zf),this._element.classList.remove(ed),L.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:u})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(td),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Zf,td),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new rl().reset(),L.trigger(this._element,rd)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const u=Boolean(this._config.backdrop);return new Kf({className:"offcanvas-backdrop",isVisible:u,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:u?()=>{this._config.backdrop!=="static"?this.hide():L.trigger(this._element,sd)}:null})}_initializeFocusTrap(){return new Gf({trapElement:this._element})}_addEventListeners(){L.on(this._element,"keydown.dismiss.bs.offcanvas",u=>{u.key==="Escape"&&(this._config.keyboard?this.hide():L.trigger(this._element,sd))})}static jQueryInterface(u){return this.each(function(){const p=In.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u](this)}})}}L.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(b){const u=l(this);if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),m(this))return;L.one(u,rd,()=>{g(this)&&this.focus()});const p=A.findOne(nd);p&&p!==u&&In.getInstance(p).hide(),In.getOrCreateInstance(u).toggle(this)}),L.on(window,"load.bs.offcanvas.data-api",()=>{for(const b of A.find(nd))In.getOrCreateInstance(b).show()}),L.on(window,"resize.bs.offcanvas",()=>{for(const b of A.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(b).position!=="fixed"&&In.getOrCreateInstance(b).hide()}),y(In),T(In);const Fw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Uw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Bw=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,jw=(b,u)=>{const p=b.nodeName.toLowerCase();return u.includes(p)?!Fw.has(p)||Boolean(Uw.test(b.nodeValue)||Bw.test(b.nodeValue)):u.filter(v=>v instanceof RegExp).some(v=>v.test(p))},id={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$w={allowList:id,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Hw={entry:"(string|element|function|null)",selector:"(string|element)"};class qw extends Ne{constructor(u){super(),this._config=this._getConfig(u)}static get Default(){return $w}static get DefaultType(){return Vw}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(u=>this._resolvePossibleFunction(u)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(u){return this._checkContent(u),this._config.content={...this._config.content,...u},this}toHtml(){const u=document.createElement("div");u.innerHTML=this._maybeSanitize(this._config.template);for(const[P,z]of Object.entries(this._config.content))this._setContent(u,z,P);const p=u.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&p.classList.add(...v.split(" ")),p}_typeCheckConfig(u){super._typeCheckConfig(u),this._checkContent(u.content)}_checkContent(u){for(const[p,v]of Object.entries(u))super._typeCheckConfig({selector:p,entry:v},Hw)}_setContent(u,p,v){const P=A.findOne(v,u);P&&((p=this._resolvePossibleFunction(p))?f(p)?this._putElementInTemplate(d(p),P):this._config.html?P.innerHTML=this._maybeSanitize(p):P.textContent=p:P.remove())}_maybeSanitize(u){return this._config.sanitize?function(p,v,P){if(!p.length)return p;if(P&&typeof P=="function")return P(p);const z=new window.DOMParser().parseFromString(p,"text/html"),te=[].concat(...z.body.querySelectorAll("*"));for(const Ie of te){const Ue=Ie.nodeName.toLowerCase();if(!Object.keys(v).includes(Ue)){Ie.remove();continue}const It=[].concat(...Ie.attributes),Lt=[].concat(v["*"]||[],v[Ue]||[]);for(const Kt of It)jw(Kt,Lt)||Ie.removeAttribute(Kt.nodeName)}return z.body.innerHTML}(u,this._config.allowList,this._config.sanitizeFn):u}_resolvePossibleFunction(u){return typeof u=="function"?u(this):u}_putElementInTemplate(u,p){if(this._config.html)return p.innerHTML="",void p.append(u);p.textContent=u.textContent}}const Kw=new Set(["sanitize","allowList","sanitizeFn"]),ol="fade",Fo="show",od=".modal",ad="hide.bs.modal",Uo="hover",cd="focus",zw={AUTO:"auto",TOP:"top",RIGHT:M()?"left":"right",BOTTOM:"bottom",LEFT:M()?"right":"left"},Ww={allowList:id,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Is extends ie{constructor(u,p){if(i===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(u,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ww}static get DefaultType(){return Gw}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(od),ad,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const u=L.trigger(this._element,this.constructor.eventName("show")),p=(w(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(u.defaultPrevented||!p)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:P}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(P.append(v),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(v),v.classList.add(Fo),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))L.on(z,"mouseover",E);this._queueCallback(()=>{L.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fo),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))L.off(u,"mouseover",E);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(u){const p=this._getTemplateFactory(u).toHtml();if(!p)return null;p.classList.remove(ol,Fo),p.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(P=>{do P+=Math.floor(1e6*Math.random());while(document.getElementById(P));return P})(this.constructor.NAME).toString();return p.setAttribute("id",v),this._isAnimated()&&p.classList.add(ol),p}setContent(u){this._newContent=u,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(u){return this._templateFactory?this._templateFactory.changeContent(u):this._templateFactory=new qw({...this._config,content:u,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(u){return this.constructor.getOrCreateInstance(u.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ol)}_isShown(){return this.tip&&this.tip.classList.contains(Fo)}_createPopper(u){const p=typeof this._config.placement=="function"?this._config.placement.call(this,u,this._element):this._config.placement,v=zw[p.toUpperCase()];return i.createPopper(this._element,u,this._getPopperConfig(v))}_getOffset(){const{offset:u}=this._config;return typeof u=="string"?u.split(",").map(p=>Number.parseInt(p,10)):typeof u=="function"?p=>u(p,this._element):u}_resolvePossibleFunction(u){return typeof u=="function"?u.call(this._element):u}_getPopperConfig(u){const p={placement:u,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...p,...typeof this._config.popperConfig=="function"?this._config.popperConfig(p):this._config.popperConfig}}_setListeners(){const u=this._config.trigger.split(" ");for(const p of u)if(p==="click")L.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{this._initializeOnDelegatedTarget(v).toggle()});else if(p!=="manual"){const v=p===Uo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),P=p===Uo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");L.on(this._element,v,this._config.selector,z=>{const te=this._initializeOnDelegatedTarget(z);te._activeTrigger[z.type==="focusin"?cd:Uo]=!0,te._enter()}),L.on(this._element,P,this._config.selector,z=>{const te=this._initializeOnDelegatedTarget(z);te._activeTrigger[z.type==="focusout"?cd:Uo]=te._element.contains(z.relatedTarget),te._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(od),ad,this._hideModalHandler)}_fixTitle(){const u=this._element.getAttribute("title");u&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",u),this._element.setAttribute("data-bs-original-title",u),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(u,p){clearTimeout(this._timeout),this._timeout=setTimeout(u,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(u){const p=ue.getDataAttributes(this._element);for(const v of Object.keys(p))Kw.has(v)&&delete p[v];return u={...p,...typeof u=="object"&&u?u:{}},u=this._mergeConfigObj(u),u=this._configAfterMerge(u),this._typeCheckConfig(u),u}_configAfterMerge(u){return u.container=u.container===!1?document.body:d(u.container),typeof u.delay=="number"&&(u.delay={show:u.delay,hide:u.delay}),typeof u.title=="number"&&(u.title=u.title.toString()),typeof u.content=="number"&&(u.content=u.content.toString()),u}_getDelegateConfig(){const u={};for(const p in this._config)this.constructor.Default[p]!==this._config[p]&&(u[p]=this._config[p]);return u.selector=!1,u.trigger="manual",u}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(u){return this.each(function(){const p=Is.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}T(Is);const Qw={...Is.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Yw={...Is.DefaultType,content:"(null|string|element|function)"};class Bo extends Is{static get Default(){return Qw}static get DefaultType(){return Yw}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(u){return this.each(function(){const p=Bo.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u]()}})}}T(Bo);const ld="click.bs.scrollspy",si="active",ud="[href]",Xw={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Jw={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ri extends ie{constructor(u,p){super(u,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Xw}static get DefaultType(){return Jw}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const u of this._observableSections.values())this._observer.observe(u)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(u){return u.target=d(u.target)||document.body,u.rootMargin=u.offset?`${u.offset}px 0px -30%`:u.rootMargin,typeof u.threshold=="string"&&(u.threshold=u.threshold.split(",").map(p=>Number.parseFloat(p))),u}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,ld),L.on(this._config.target,ld,ud,u=>{const p=this._observableSections.get(u.target.hash);if(p){u.preventDefault();const v=this._rootElement||window,P=p.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:P,behavior:"smooth"});v.scrollTop=P}}))}_getNewObserver(){const u={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),u)}_observerCallback(u){const p=te=>this._targetLinks.get(`#${te.target.id}`),v=te=>{this._previousScrollData.visibleEntryTop=te.target.offsetTop,this._process(p(te))},P=(this._rootElement||document.documentElement).scrollTop,z=P>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=P;for(const te of u){if(!te.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(te));continue}const Ie=te.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&Ie){if(v(te),!P)return}else z||Ie||v(te)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const u=A.find(ud,this._config.target);for(const p of u){if(!p.hash||m(p))continue;const v=A.findOne(p.hash,this._element);g(v)&&(this._targetLinks.set(p.hash,p),this._observableSections.set(p.hash,v))}}_process(u){this._activeTarget!==u&&(this._clearActiveClass(this._config.target),this._activeTarget=u,u.classList.add(si),this._activateParents(u),L.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:u}))}_activateParents(u){if(u.classList.contains("dropdown-item"))A.findOne(".dropdown-toggle",u.closest(".dropdown")).classList.add(si);else for(const p of A.parents(u,".nav, .list-group"))for(const v of A.prev(p,".nav-link, .nav-item > .nav-link, .list-group-item"))v.classList.add(si)}_clearActiveClass(u){u.classList.remove(si);const p=A.find("[href].active",u);for(const v of p)v.classList.remove(si)}static jQueryInterface(u){return this.each(function(){const p=ri.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}L.on(window,"load.bs.scrollspy.data-api",()=>{for(const b of A.find('[data-bs-spy="scroll"]'))ri.getOrCreateInstance(b)}),T(ri);const Zw="ArrowLeft",hd="ArrowRight",eE="ArrowUp",fd="ArrowDown",jo="active",dd="fade",al="show",pd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cl=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${pd}`;class Cs extends ie{constructor(u){super(u),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,"keydown.bs.tab",p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const u=this._element;if(this._elemIsActive(u))return;const p=this._getActiveElem(),v=p?L.trigger(p,"hide.bs.tab",{relatedTarget:u}):null;L.trigger(u,"show.bs.tab",{relatedTarget:p}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(p,u),this._activate(u,p))}_activate(u,p){u&&(u.classList.add(jo),this._activate(l(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.removeAttribute("tabindex"),u.setAttribute("aria-selected",!0),this._toggleDropDown(u,!0),L.trigger(u,"shown.bs.tab",{relatedTarget:p})):u.classList.add(al)},u,u.classList.contains(dd)))}_deactivate(u,p){u&&(u.classList.remove(jo),u.blur(),this._deactivate(l(u)),this._queueCallback(()=>{u.getAttribute("role")==="tab"?(u.setAttribute("aria-selected",!1),u.setAttribute("tabindex","-1"),this._toggleDropDown(u,!1),L.trigger(u,"hidden.bs.tab",{relatedTarget:p})):u.classList.remove(al)},u,u.classList.contains(dd)))}_keydown(u){if(![Zw,hd,eE,fd].includes(u.key))return;u.stopPropagation(),u.preventDefault();const p=[hd,fd].includes(u.key),v=R(this._getChildren().filter(P=>!m(P)),u.target,p,!0);v&&(v.focus({preventScroll:!0}),Cs.getOrCreateInstance(v).show())}_getChildren(){return A.find(cl,this._parent)}_getActiveElem(){return this._getChildren().find(u=>this._elemIsActive(u))||null}_setInitialAttributes(u,p){this._setAttributeIfNotExists(u,"role","tablist");for(const v of p)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(u){u=this._getInnerElement(u);const p=this._elemIsActive(u),v=this._getOuterElement(u);u.setAttribute("aria-selected",p),v!==u&&this._setAttributeIfNotExists(v,"role","presentation"),p||u.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(u,"role","tab"),this._setInitialAttributesOnTargetPanel(u)}_setInitialAttributesOnTargetPanel(u){const p=l(u);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),u.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`#${u.id}`))}_toggleDropDown(u,p){const v=this._getOuterElement(u);if(!v.classList.contains("dropdown"))return;const P=(z,te)=>{const Ie=A.findOne(z,v);Ie&&Ie.classList.toggle(te,p)};P(".dropdown-toggle",jo),P(".dropdown-menu",al),v.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(u,p,v){u.hasAttribute(p)||u.setAttribute(p,v)}_elemIsActive(u){return u.classList.contains(jo)}_getInnerElement(u){return u.matches(cl)?u:A.findOne(cl,u)}_getOuterElement(u){return u.closest(".nav-item, .list-group-item")||u}static jQueryInterface(u){return this.each(function(){const p=Cs.getOrCreateInstance(this);if(typeof u=="string"){if(p[u]===void 0||u.startsWith("_")||u==="constructor")throw new TypeError(`No method named "${u}"`);p[u]()}})}}L.on(document,"click.bs.tab",pd,function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),m(this)||Cs.getOrCreateInstance(this).show()}),L.on(window,"load.bs.tab",()=>{for(const b of A.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Cs.getOrCreateInstance(b)}),T(Cs);const gd="hide",$o="show",Vo="showing",tE={animation:"boolean",autohide:"boolean",delay:"number"},nE={animation:!0,autohide:!0,delay:5e3};class ii extends ie{constructor(u,p){super(u,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nE}static get DefaultType(){return tE}static get NAME(){return"toast"}show(){L.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(gd),I(this._element),this._element.classList.add($o,Vo),this._queueCallback(()=>{this._element.classList.remove(Vo),L.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Vo),this._queueCallback(()=>{this._element.classList.add(gd),this._element.classList.remove(Vo,$o),L.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($o),super.dispose()}isShown(){return this._element.classList.contains($o)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(u,p){switch(u.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const v=u.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,"mouseover.bs.toast",u=>this._onInteraction(u,!0)),L.on(this._element,"mouseout.bs.toast",u=>this._onInteraction(u,!1)),L.on(this._element,"focusin.bs.toast",u=>this._onInteraction(u,!0)),L.on(this._element,"focusout.bs.toast",u=>this._onInteraction(u,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(u){return this.each(function(){const p=ii.getOrCreateInstance(this,u);if(typeof u=="string"){if(p[u]===void 0)throw new TypeError(`No method named "${u}"`);p[u](this)}})}}return y(ii),T(ii),{Alert:_,Button:N,Carousel:rt,Collapse:An,Dropdown:Zt,Modal:As,Offcanvas:In,Popover:Bo,ScrollSpy:ri,Tab:Cs,Toast:ii,Tooltip:Is}})})(IR);AR.init();const Lf=BT(vx);Lf.use(VT());Lf.use(Tx);Lf.mount("#app");export{Ae as $,$m as A,Vm as B,Qt as C,qm as D,_i as E,xt as F,Gt as G,Bt as H,la as I,oy as J,bP as K,EP as L,kP as M,ah as N,Xu as O,gP as P,yP as Q,Hm as R,ps as S,dc as T,Im as U,SP as V,We as W,e0 as X,xP as Y,ga as Z,XE as _,we as a,wn as a0,w0 as a1,_P as a2,v0 as a3,Ro as a4,S0 as a5,Rm as a6,Uu as a7,RP as a8,pg as a9,Tx as aa,CP as ab,O1 as ac,IP as b,dn as c,ze as d,wP as e,jm as f,qs as g,hi as h,wf as i,et as j,vP as k,ts as l,OP as m,uh as n,Ut as o,AP as p,Oa as q,Ft as r,qi as s,hr as t,Ef as u,TP as v,mP as w,Um as x,Wr as y,oh as z};
